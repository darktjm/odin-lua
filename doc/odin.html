<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>THE ODIN SYSTEM REFERENCE MANUAL </TITLE>
<META NAME="description" CONTENT="THE ODIN SYSTEM REFERENCE MANUAL ">
<META NAME="keywords" CONTENT="odin">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="odin.css">

</HEAD>

<BODY >

<P>
<H1 ALIGN="CENTER">
        THE ODIN SYSTEM
<BR><BR>
<BR>
<BR>
<BR>
        REFERENCE MANUAL
        </H1><DIV>

<P ALIGN="CENTER"><STRONG>Geoffrey M. Clemm</STRONG></P>
<P ALIGN="CENTER"><STRONG>
*** Odin Version 1.17 ***
<BR>The Odin System is a simpler, more powerful, and more reliable
replacement for Make.  It computes complete dependency information
automatically, making the build scripts shorter and easier to manage.
Odin gains efficiency by parallel builds on remote machines,
by eliminating most of the file system status queries required
by Make, and by sharing from a cache of previously computed derived files.
</STRONG></P>
</DIV>

<P>

<BR>

<H2><A NAME="SECTION00100000000000000000">
Contents</A>
</H2>
<!--Table of Contents-->

<UL>
<LI><A NAME="tex2html161"
  HREF="odin.html#SECTION00200000000000000000">1. Introduction</A>
<UL>
<LI><A NAME="tex2html162"
  HREF="odin.html#SECTION00210000000000000000">1.1 Derived Object Managers</A>
<LI><A NAME="tex2html163"
  HREF="odin.html#SECTION00220000000000000000">1.2 Odin Objects</A>
<UL>
<LI><A NAME="tex2html164"
  HREF="odin.html#SECTION00221000000000000000">1.2.1 Source and Derived Objects</A>
<LI><A NAME="tex2html165"
  HREF="odin.html#SECTION00222000000000000000">1.2.2 The Derived Object Cache</A>
</UL>
<LI><A NAME="tex2html166"
  HREF="odin.html#SECTION00230000000000000000">1.3 Why Not Just Use Make?</A>
<UL>
<LI><A NAME="tex2html167"
  HREF="odin.html#SECTION00231000000000000000">1.3.1 Dependency Information</A>
<LI><A NAME="tex2html168"
  HREF="odin.html#SECTION00232000000000000000">1.3.2 Specifying Build Variants</A>
<LI><A NAME="tex2html169"
  HREF="odin.html#SECTION00233000000000000000">1.3.3 Storing Derived File Variants</A>
<LI><A NAME="tex2html170"
  HREF="odin.html#SECTION00234000000000000000">1.3.4 Parallel Builds</A>
<LI><A NAME="tex2html171"
  HREF="odin.html#SECTION00235000000000000000">1.3.5 Help</A>
<LI><A NAME="tex2html172"
  HREF="odin.html#SECTION00236000000000000000">1.3.6 Errors</A>
<LI><A NAME="tex2html173"
  HREF="odin.html#SECTION00237000000000000000">1.3.7 Operations on Lists</A>
<LI><A NAME="tex2html174"
  HREF="odin.html#SECTION00238000000000000000">1.3.8 Editing while Building</A>
<LI><A NAME="tex2html175"
  HREF="odin.html#SECTION00239000000000000000">1.3.9 Recursive Implicit Rules</A>
<LI><A NAME="tex2html176"
  HREF="odin.html#SECTION002310000000000000000">1.3.10 Circular Dependencies</A>
<LI><A NAME="tex2html177"
  HREF="odin.html#SECTION002311000000000000000">1.3.11 Efficient Dependency Computation</A>
<LI><A NAME="tex2html178"
  HREF="odin.html#SECTION002312000000000000000">1.3.12 Tool Dependencies</A>
<LI><A NAME="tex2html179"
  HREF="odin.html#SECTION002313000000000000000">1.3.13 Availability</A>
</UL>
</UL><BR>
<LI><A NAME="tex2html180"
  HREF="odin.html#SECTION00300000000000000000">2. The Odinfile</A>
<UL>
<LI><A NAME="tex2html181"
  HREF="odin.html#SECTION00310000000000000000">2.1 Targets</A>
<LI><A NAME="tex2html182"
  HREF="odin.html#SECTION00320000000000000000">2.2 Odin-Expressions</A>
<UL>
<LI><A NAME="tex2html183"
  HREF="odin.html#SECTION00321000000000000000">2.2.1 Lexical Conventions</A>
<LI><A NAME="tex2html184"
  HREF="odin.html#SECTION00322000000000000000">2.2.2 Selection Expressions</A>
<LI><A NAME="tex2html185"
  HREF="odin.html#SECTION00323000000000000000">2.2.3 Derivation Expressions</A>
<LI><A NAME="tex2html186"
  HREF="odin.html#SECTION00324000000000000000">2.2.4 Parameterization Expressions</A>
<LI><A NAME="tex2html187"
  HREF="odin.html#SECTION00325000000000000000">2.2.5 String Expressions</A>
</UL>
<LI><A NAME="tex2html188"
  HREF="odin.html#SECTION00330000000000000000">2.3 Virtual Targets</A>
<LI><A NAME="tex2html189"
  HREF="odin.html#SECTION00340000000000000000">2.4 Text Targets</A>
<UL>
<LI><A NAME="tex2html190"
  HREF="odin.html#SECTION00341000000000000000">2.4.1 Executable Text Targets</A>
</UL>
<LI><A NAME="tex2html191"
  HREF="odin.html#SECTION00350000000000000000">2.5 Command Targets</A>
<LI><A NAME="tex2html192"
  HREF="odin.html#SECTION00360000000000000000">2.6 Nested Target Definitions</A>
</UL><BR>
<LI><A NAME="tex2html193"
  HREF="odin.html#SECTION00400000000000000000">3. Getting Started</A>
<UL>
<LI><A NAME="tex2html194"
  HREF="odin.html#SECTION00410000000000000000">3.1 Systems with Several Files</A>
<LI><A NAME="tex2html195"
  HREF="odin.html#SECTION00420000000000000000">3.2 Files in Other Directories</A>
<LI><A NAME="tex2html196"
  HREF="odin.html#SECTION00430000000000000000">3.3 Recursive Odin Calls</A>
<LI><A NAME="tex2html197"
  HREF="odin.html#SECTION00440000000000000000">3.4 Debugging Your Program</A>
</UL><BR>
<LI><A NAME="tex2html198"
  HREF="odin.html#SECTION00500000000000000000">4. Odin-Commands</A>
<UL>
<LI><A NAME="tex2html199"
  HREF="odin.html#SECTION00510000000000000000">4.1 Query Odin-Commands</A>
<UL>
<LI><A NAME="tex2html200"
  HREF="odin.html#SECTION00511000000000000000">4.1.1 Status of Odin Objects</A>
<LI><A NAME="tex2html201"
  HREF="odin.html#SECTION00512000000000000000">4.1.2 Error and Warning Messages</A>
</UL>
<LI><A NAME="tex2html202"
  HREF="odin.html#SECTION00520000000000000000">4.2 Copy Odin-Commands</A>
<UL>
<LI><A NAME="tex2html203"
  HREF="odin.html#SECTION00521000000000000000">4.2.1 Copying to Standard Output</A>
<LI><A NAME="tex2html204"
  HREF="odin.html#SECTION00522000000000000000">4.2.2 Editing with the Copy Odin-Command</A>
</UL>
<LI><A NAME="tex2html205"
  HREF="odin.html#SECTION00530000000000000000">4.3 Execute Odin-Commands</A>
<LI><A NAME="tex2html206"
  HREF="odin.html#SECTION00540000000000000000">4.4 Variable Assignment Odin-Commands</A>
<UL>
<LI><A NAME="tex2html207"
  HREF="odin.html#SECTION00541000000000000000">4.4.1 Dir</A>
<LI><A NAME="tex2html208"
  HREF="odin.html#SECTION00542000000000000000">4.4.2 BuildHosts, MaxBuilds</A>
<LI><A NAME="tex2html209"
  HREF="odin.html#SECTION00543000000000000000">4.4.3 KeepGoing</A>
<LI><A NAME="tex2html210"
  HREF="odin.html#SECTION00544000000000000000">4.4.4 History</A>
<LI><A NAME="tex2html211"
  HREF="odin.html#SECTION00545000000000000000">4.4.5 ErrLevel, WarnLevel, LogLevel</A>
<LI><A NAME="tex2html212"
  HREF="odin.html#SECTION00546000000000000000">4.4.6 HelpLevel</A>
<LI><A NAME="tex2html213"
  HREF="odin.html#SECTION00547000000000000000">4.4.7 VerifyLevel</A>
<LI><A NAME="tex2html214"
  HREF="odin.html#SECTION00548000000000000000">4.4.8 Size</A>
<LI><A NAME="tex2html215"
  HREF="odin.html#SECTION00549000000000000000">4.4.9 Environment Variables</A>
</UL>
<LI><A NAME="tex2html216"
  HREF="odin.html#SECTION00550000000000000000">4.5 Help</A>
<UL>
<LI><A NAME="tex2html217"
  HREF="odin.html#SECTION00551000000000000000">4.5.1 Source Type Help</A>
<LI><A NAME="tex2html218"
  HREF="odin.html#SECTION00552000000000000000">4.5.2 Derivation Help</A>
<LI><A NAME="tex2html219"
  HREF="odin.html#SECTION00553000000000000000">4.5.3 Parameterization Help</A>
<LI><A NAME="tex2html220"
  HREF="odin.html#SECTION00554000000000000000">4.5.4 Variable Help</A>
</UL>
</UL><BR>
<LI><A NAME="tex2html221"
  HREF="odin.html#SECTION00600000000000000000">A. Dependency Database Utilities</A>
<UL>
<LI><A NAME="tex2html222"
  HREF="odin.html#SECTION00610000000000000000">A.1 Testing Host Files for Changes</A>
<LI><A NAME="tex2html223"
  HREF="odin.html#SECTION00620000000000000000">A.2 Redoing a Particular Derivation Step</A>
<LI><A NAME="tex2html224"
  HREF="odin.html#SECTION00630000000000000000">A.3 Browsing the Dependency Database</A>
</UL><BR>
<LI><A NAME="tex2html225"
  HREF="odin.html#SECTION00700000000000000000">B. Tool Package Libraries</A>
<UL>
<LI><A NAME="tex2html226"
  HREF="odin.html#SECTION00710000000000000000">B.1 Tool Packages</A>
<UL>
<LI><A NAME="tex2html227"
  HREF="odin.html#SECTION00711000000000000000">B.1.1 Versioned Tool Packages</A>
</UL>
<LI><A NAME="tex2html228"
  HREF="odin.html#SECTION00720000000000000000">B.2 Derivation Graphs</A>
<LI><A NAME="tex2html229"
  HREF="odin.html#SECTION00730000000000000000">B.3 Source Declarations</A>
<LI><A NAME="tex2html230"
  HREF="odin.html#SECTION00740000000000000000">B.4 Object Type Declarations</A>
<UL>
<LI><A NAME="tex2html231"
  HREF="odin.html#SECTION00741000000000000000">B.4.1 Built-In Supertypes</A>
<LI><A NAME="tex2html232"
  HREF="odin.html#SECTION00742000000000000000">B.4.2 Built-In Derived Object Types</A>
</UL>
<LI><A NAME="tex2html233"
  HREF="odin.html#SECTION00750000000000000000">B.5 Parameter Type Declarations</A>
<LI><A NAME="tex2html234"
  HREF="odin.html#SECTION00760000000000000000">B.6 Environment Variable Declarations</A>
<LI><A NAME="tex2html235"
  HREF="odin.html#SECTION00770000000000000000">B.7 Tool Declarations</A>
<UL>
<LI><A NAME="tex2html236"
  HREF="odin.html#SECTION00771000000000000000">B.7.1 Input-Expressions</A>
<LI><A NAME="tex2html237"
  HREF="odin.html#SECTION00772000000000000000">B.7.2 Ignoring the Status of a Tool Input</A>
<LI><A NAME="tex2html238"
  HREF="odin.html#SECTION00773000000000000000">B.7.3 Ignoring Changes to the Value of a Tool Input</A>
<LI><A NAME="tex2html239"
  HREF="odin.html#SECTION00774000000000000000">B.7.4 EXEC Tool</A>
<LI><A NAME="tex2html240"
  HREF="odin.html#SECTION00775000000000000000">B.7.5 COLLECT Tool</A>
<LI><A NAME="tex2html241"
  HREF="odin.html#SECTION00776000000000000000">B.7.6 READ-LIST Tool</A>
<LI><A NAME="tex2html242"
  HREF="odin.html#SECTION00777000000000000000">B.7.7 READ-REFERENCE Tool</A>
</UL>
</UL><BR>
<LI><A NAME="tex2html243"
  HREF="odin.html#SECTION00800000000000000000">C. Derivation Graph Syntax</A>
<LI><A NAME="tex2html244"
  HREF="odin.html#SECTION00900000000000000000">D. Derivation Graph Example</A>
<LI><A NAME="tex2html245"
  HREF="odin.html#SECTION001000000000000000000">E. Odin Tool Package Library</A>
<UL>
<LI><A NAME="tex2html246"
  HREF="odin.html#SECTION001010000000000000000">E.1 config</A>
<LI><A NAME="tex2html247"
  HREF="odin.html#SECTION001020000000000000000">E.2 odin</A>
<UL>
<LI><A NAME="tex2html248"
  HREF="odin.html#SECTION001021000000000000000">E.2.1 Other transformations</A>
</UL>
<LI><A NAME="tex2html249"
  HREF="odin.html#SECTION001030000000000000000">E.3 vc</A>
<UL>
<LI><A NAME="tex2html250"
  HREF="odin.html#SECTION001031000000000000000">E.3.1 SCCS version control file</A>
<LI><A NAME="tex2html251"
  HREF="odin.html#SECTION001032000000000000000">E.3.2 A view-path system model</A>
<LI><A NAME="tex2html252"
  HREF="odin.html#SECTION001033000000000000000">E.3.3 RCS version control file</A>
<LI><A NAME="tex2html253"
  HREF="odin.html#SECTION001034000000000000000">E.3.4 Other transformations</A>
</UL>
<LI><A NAME="tex2html254"
  HREF="odin.html#SECTION001040000000000000000">E.4 code</A>
<UL>
<LI><A NAME="tex2html255"
  HREF="odin.html#SECTION001041000000000000000">E.4.1 System model of source code files</A>
<LI><A NAME="tex2html256"
  HREF="odin.html#SECTION001042000000000000000">E.4.2 Object library archive</A>
<LI><A NAME="tex2html257"
  HREF="odin.html#SECTION001043000000000000000">E.4.3 Object module</A>
<LI><A NAME="tex2html258"
  HREF="odin.html#SECTION001044000000000000000">E.4.4 Other transformations</A>
</UL>
<LI><A NAME="tex2html259"
  HREF="odin.html#SECTION001050000000000000000">E.5 cc</A>
<UL>
<LI><A NAME="tex2html260"
  HREF="odin.html#SECTION001051000000000000000">E.5.1 System model for a C program</A>
<LI><A NAME="tex2html261"
  HREF="odin.html#SECTION001052000000000000000">E.5.2 Executable binary</A>
<LI><A NAME="tex2html262"
  HREF="odin.html#SECTION001053000000000000000">E.5.3 C source code</A>
<LI><A NAME="tex2html263"
  HREF="odin.html#SECTION001054000000000000000">E.5.4 Other transformations</A>
</UL>
<LI><A NAME="tex2html264"
  HREF="odin.html#SECTION001060000000000000000">E.6 cpp</A>
<UL>
<LI><A NAME="tex2html265"
  HREF="odin.html#SECTION001061000000000000000">E.6.1 Cpp input</A>
</UL>
<LI><A NAME="tex2html266"
  HREF="odin.html#SECTION001070000000000000000">E.7 cxx</A>
<UL>
<LI><A NAME="tex2html267"
  HREF="odin.html#SECTION001071000000000000000">E.7.1 System model for a C++ program</A>
<LI><A NAME="tex2html268"
  HREF="odin.html#SECTION001072000000000000000">E.7.2 C++ source code</A>
<LI><A NAME="tex2html269"
  HREF="odin.html#SECTION001073000000000000000">E.7.3 Other transformations</A>
</UL>
<LI><A NAME="tex2html270"
  HREF="odin.html#SECTION001080000000000000000">E.8 odi</A>
<UL>
<LI><A NAME="tex2html271"
  HREF="odin.html#SECTION001081000000000000000">E.8.1 System model for an ODI C++ program</A>
<LI><A NAME="tex2html272"
  HREF="odin.html#SECTION001082000000000000000">E.8.2 Other transformations</A>
</UL>
<LI><A NAME="tex2html273"
  HREF="odin.html#SECTION001090000000000000000">E.9 f77</A>
<UL>
<LI><A NAME="tex2html274"
  HREF="odin.html#SECTION001091000000000000000">E.9.1 Fortran77 source code</A>
</UL>
<LI><A NAME="tex2html275"
  HREF="odin.html#SECTION0010100000000000000000">E.10 lex</A>
<UL>
<LI><A NAME="tex2html276"
  HREF="odin.html#SECTION0010101000000000000000">E.10.1 Scanner grammar</A>
</UL>
<LI><A NAME="tex2html277"
  HREF="odin.html#SECTION0010110000000000000000">E.11 yacc</A>
<UL>
<LI><A NAME="tex2html278"
  HREF="odin.html#SECTION0010111000000000000000">E.11.1 Yacc input</A>
</UL>
<LI><A NAME="tex2html279"
  HREF="odin.html#SECTION0010120000000000000000">E.12 tregrm</A>
<UL>
<LI><A NAME="tex2html280"
  HREF="odin.html#SECTION0010121000000000000000">E.12.1 Input grammar for the Tregrm tree-building parser generator</A>
</UL>
<LI><A NAME="tex2html281"
  HREF="odin.html#SECTION0010130000000000000000">E.13 dg</A>
<UL>
<LI><A NAME="tex2html282"
  HREF="odin.html#SECTION0010131000000000000000">E.13.1 Odin Derivation Graph</A>
</UL>
<LI><A NAME="tex2html283"
  HREF="odin.html#SECTION0010140000000000000000">E.14 idl</A>
<UL>
<LI><A NAME="tex2html284"
  HREF="odin.html#SECTION0010141000000000000000">E.14.1 C++ Interface Definition Language file</A>
<LI><A NAME="tex2html285"
  HREF="odin.html#SECTION0010142000000000000000">E.14.2 Other transformations</A>
</UL>
<LI><A NAME="tex2html286"
  HREF="odin.html#SECTION0010150000000000000000">E.15 prof</A>
<UL>
<LI><A NAME="tex2html287"
  HREF="odin.html#SECTION0010151000000000000000">E.15.1 Other transformations</A>
</UL>
<LI><A NAME="tex2html288"
  HREF="odin.html#SECTION0010160000000000000000">E.16 lint</A>
<UL>
<LI><A NAME="tex2html289"
  HREF="odin.html#SECTION0010161000000000000000">E.16.1 Other transformations</A>
</UL>
<LI><A NAME="tex2html290"
  HREF="odin.html#SECTION0010170000000000000000">E.17 misc</A>
<UL>
<LI><A NAME="tex2html291"
  HREF="odin.html#SECTION0010171000000000000000">E.17.1 Other transformations</A>
</UL>
<LI><A NAME="tex2html292"
  HREF="odin.html#SECTION0010180000000000000000">E.18 roff</A>
<UL>
<LI><A NAME="tex2html293"
  HREF="odin.html#SECTION0010181000000000000000">E.18.1 Nroff/troff input</A>
<LI><A NAME="tex2html294"
  HREF="odin.html#SECTION0010182000000000000000">E.18.2 Eqn input</A>
<LI><A NAME="tex2html295"
  HREF="odin.html#SECTION0010183000000000000000">E.18.3 Tbl input</A>
<LI><A NAME="tex2html296"
  HREF="odin.html#SECTION0010184000000000000000">E.18.4 Other transformations</A>
</UL>
<LI><A NAME="tex2html297"
  HREF="odin.html#SECTION0010190000000000000000">E.19 tex</A>
<UL>
<LI><A NAME="tex2html298"
  HREF="odin.html#SECTION0010191000000000000000">E.19.1 Basis of a TeX formatted document</A>
<LI><A NAME="tex2html299"
  HREF="odin.html#SECTION0010192000000000000000">E.19.2 Bibliographic data file</A>
<LI><A NAME="tex2html300"
  HREF="odin.html#SECTION0010193000000000000000">E.19.3 Bibliographic style file</A>
<LI><A NAME="tex2html301"
  HREF="odin.html#SECTION0010194000000000000000">E.19.4 Formatting style file</A>
<LI><A NAME="tex2html302"
  HREF="odin.html#SECTION0010195000000000000000">E.19.5 Portable Document Format file</A>
<LI><A NAME="tex2html303"
  HREF="odin.html#SECTION0010196000000000000000">E.19.6 Formatting style file</A>
<LI><A NAME="tex2html304"
  HREF="odin.html#SECTION0010197000000000000000">E.19.7 TeX formatter input</A>
<LI><A NAME="tex2html305"
  HREF="odin.html#SECTION0010198000000000000000">E.19.8 Postscript file</A>
<LI><A NAME="tex2html306"
  HREF="odin.html#SECTION0010199000000000000000">E.19.9 Other transformations</A>
</UL>
<LI><A NAME="tex2html307"
  HREF="odin.html#SECTION0010200000000000000000">E.20 dbx</A>
<UL>
<LI><A NAME="tex2html308"
  HREF="odin.html#SECTION0010201000000000000000">E.20.1 Other transformations</A>
</UL>
<LI><A NAME="tex2html309"
  HREF="odin.html#SECTION0010210000000000000000">E.21 run</A>
<UL>
<LI><A NAME="tex2html310"
  HREF="odin.html#SECTION0010211000000000000000">E.21.1 Other transformations</A>
</UL>
<LI><A NAME="tex2html311"
  HREF="odin.html#SECTION0010220000000000000000">E.22 regsub</A>
<UL>
<LI><A NAME="tex2html312"
  HREF="odin.html#SECTION0010221000000000000000">E.22.1 Regsub substitution input</A>
</UL>
</UL><BR>
<LI><A NAME="tex2html313"
  HREF="odin.html#SECTION001100000000000000000">F. Odin Lua Library</A>
<UL>
<LI><A NAME="tex2html314"
  HREF="odin.html#SECTION001110000000000000000">F.1 Apache Portable Runtime</A>
<LI><A NAME="tex2html315"
  HREF="odin.html#SECTION001120000000000000000">F.2 File Commands</A>
<LI><A NAME="tex2html316"
  HREF="odin.html#SECTION001130000000000000000">F.3 Odin Support Utilities</A>
<LI><A NAME="tex2html317"
  HREF="odin.html#SECTION001140000000000000000">F.4 Miscellaneous</A>
</UL><BR>
<LI><A NAME="tex2html318"
  HREF="odin.html#SECTION001200000000000000000">Bibliography</A>
</UL>
<!--End of Table of Contents-->
<P>

<H1><A NAME="SECTION00200000000000000000"></A>
<A NAME="intro"></A><BR>
1. Introduction
</H1>

<P>

<H1><A NAME="SECTION00210000000000000000">
1.1 Derived Object Managers</A>
</H1>

<P>
A software environment can be simplified if the
user's attention is focused on the information provided by the environment
rather than the tools that create this information.
A <EM>derived object manager</EM> provides this focus
by automating the process of tool invocation.
A derived object manager responds to a request for a piece of computed
information,
or <EM>derived object</EM>, by invoking the minimal number of tools
necessary to produce that object.
If previously computed objects are automatically stored by the object manager
for later re-use, significant improvements in response time can be achieved.

<P>
In an extensible environment, the kinds of information potentially
provided are extended by adding
new tools that manipulate and generate new kinds of information.
A few examples of the kind of information in a software environment
are program source text, test data, modification histories,
attributed syntax trees, compiled object code, data flow analysis,
and results of symbolic execution.

<P>
A derived object manager must provide
a language with which a user or a tool can name any desired object,
and a specification language for describing the kinds of objects to be managed
and the tools that produce them.
In the Odin system,
derived objects are named by <EM>odin-expressions</EM>,
and the specification language is an extended production system
called a <EM>derivation graph</EM>
in which each tool is described by a single declaration.

<P>

<H1><A NAME="SECTION00220000000000000000">
1.2 Odin Objects</A>
</H1>

<P>
Each Odin object is either
a <EM>file</EM>, a <EM>string</EM>, or a <EM>list</EM> (an ordered sequence of objects).
An example of a file is a file containing source code,
an executable binary file,
or an output file from a test run.
An example of a string is a command flag.
An example of a list is the source files of a program
or the arguments to a command.

<P>

<H2><A NAME="SECTION00221000000000000000">
1.2.1 Source and Derived Objects</A>
</H2>

<P>
Source objects are files that can be created or modified directly by the user.
They can be regular files, directories, or symbolic links.
Source objects cannot be automatically recreated by the Odin system,
but are the basic building blocks
from which the Odin system creates all other objects.
Every source object is given a type by the Odin system
based on its host filename,
and this type determines what derived objects can be produced from the
source object.

<P>
Derived objects are objects that can be produced
from source objects and other derived objects
through the invocation of one or more tools.
Tools are invoked only as needed to create a specified derived object.
The Odin system automatically saves objects from previous requests,
so a given object might already exist and therefore be available immediately.
Derived objects are created and modified only by the Odin system itself,
not by users.
Examples of objects that can be derived from source code are
a cross reference listing, executable binary code, or the list of files
referenced by <TT>#include</TT> statements.

<P>

<H2><A NAME="SECTION00222000000000000000"></A>
<A NAME="cache"></A><BR>
1.2.2 The Derived Object Cache
</H2>

<P>
In the Odin system, all derived objects are stored in a directory
called the <EM>derived object cache</EM>, or simply the <EM>cache</EM>.
The cache also contains the database that stores the
<EM>depends</EM> relationship between the output and input files of a tool run,
and the <EM>contains</EM> relationship between a list and its elements.

<P>
All host files other than those in the cache are source objects.
A derived object can be copied from the cache into a source directory,
but this does <EM>not</EM> make the file in the source directory a derived
object - it just creates a source object that happens to have the
same contents as the derived object.

<P>
The default location for the cache is a directory named <TT>.ODIN</TT>
in the user's home directory.
A non-default cache location can be specified
in the <TT>$ODIN</TT> environment variable,
or with the <TT>-c</TT> option to the <TT>odin</TT> host-command.
The main reasons for specifying a non-default location for
the cache are to share a common cache with other users,
or to locate the cache on a local disk for more efficient access
to derived files.

<P>
The default name for a file in the cache is <TT>label.id.type</TT>,
where <TT>label</TT> and <TT>id</TT> are the results of <TT>:label</TT>
and <TT>:id</TT> derivations (see Section&nbsp;<A HREF="#builtindrv">B.4.2</A>),
and where <TT>type</TT> is the type of the file.
If this filename is too long for your operating system,
set the environment variable $ODIN_SHORTNAMES and a file
in the cache will be named simply <TT>id.type</TT>.

<P>
The default inter-process communication mechanism 
for the odin cache manager process is TCP/IP.  
If TCP/IP is not available,
set the environment variable $ODIN_LOCALIPC
and Unix domain sockets will be used instead.

<P>

<H1><A NAME="SECTION00230000000000000000">
1.3 Why Not Just Use Make?</A>
</H1>

<P>
The most ubiquitous build manager is Stu Feldman's Make program[<A
 HREF="odin.html#Make">3</A>],
with its many descendents[<A
 HREF="odin.html#Build">2</A>][<A
 HREF="odin.html#GNUMake">6</A>][<A
 HREF="odin.html#Mk">5</A>][<A
 HREF="odin.html#NMake">4</A>].
Although ideal for small projects, Make has two major problems when used
for large or complex projects: inaccurate dependency information and poor
support for variant builds (such as builds for different architectures
or builds with different levels of compiler optimization).
Inaccurate dependency information leads to
inefficient builds when unnecessary recomputations are performed and,
more seriously, incorrect builds when necessary recomputations are not
performed.
Poor support for variant builds consists primarily of problems
with specifying the variants
and with storing the intermediate files for the variants.
An indication of the difficulty of specifying a complex build variant
is that often the only way to find out what a given build
description means is to run Make and see what kind of commands it executes.

<P>

<H2><A NAME="SECTION00231000000000000000">
1.3.1 Dependency Information</A>
</H2>

<P>
Inaccurate dependency information results from a variety of causes.
If the user maintains the dependency information by hand,
it is virtually guaranteed to be incorrect.
A ``make-depend'' tool can automate the production of dependency information,
but because of the expense of running such a tool on an entire system,
it is usually not automatically invoked before each build,
again leading to builds based on incorrect dependency information.
If a separate dependency file is created for each source file
to allow incremental dependency computation,
it becomes feasible to automatically compute dependency information
before each build.
Unfortunately, the source directories then become cluttered with
dependency information files,
and the overhead of opening and reading all the dependency information
files becomes excessive.

<P>
In Odin, tools that automatically gather dependency information are
as easy to describe as standard tools like compilers,
and Odin takes care of running them incrementally when they are needed.
The results of these tools are stored in a persistent database
rather than in the user's Makefiles,
so that this information can be retrieved efficiently and does
not clutter up source directories.

<P>
Other dependency problems stem from Make's use of file modification time
ordering to determine whether a file is up-to-date.
Network clock inconsistencies and the use of tools
that restore files with their original modification dates
can result in changed sources files whose modification dates are less
than those of derived files that depend on them.
In Odin, this problem is avoided by storing 
the date stamps of the inputs to a build step in the dependency database,
so that any change to the modification time of a file (either earlier or later)
triggers a re-build.

<P>
The use of file modification time ordering
can also result in inefficient builds
when a change to a source file does not result in a corresponding change
to an intermediate derived file.
For example, adding a comment to a source file will usually not change
the result of compiling that file,
which means that there is no reason to relink the unchanged object code
to form a new executable.
Odin avoids this inefficiency by re-running a tool only if the
<EM>value</EM> of one of its inputs has changed.
In particular, this allows Odin to build directly from an RCS <TT>xxx,v</TT>
or an SCCS <TT>s.xxx</TT> file,
without first checking out a version into a source directory
(the check-out operation is just a tool like any other tool).
This is not feasible in Make because every time a new version is
added to the version control file,
it would assume everything derived from <EM>any</EM> version of that file
must be recomputed.

<P>

<H2><A NAME="SECTION00232000000000000000">
1.3.2 Specifying Build Variants</A>
</H2>

<P>
In Make, a derived file variant is specified by changing the values
of the appropriate Make variables.
For example, the <TT>CC</TT> variable can be changed to build with
a different C compiler,
and the <TT>CCFLAGS</TT> variable can be changed to build with different
C compiler flags.
Unfortunately, the scope of a variable is the entire Makefile,
while a build variant often involves different variable values
for different intermediate files (for example, most of the files are
to be compiled with debugging on, except for certain files containing
time critical routines which are to be compiled with optimization on).
To work around this problem, in Make you have to introduce a special build
rule for each intermediate file build variant.

<P>
In Odin, a filename can be extended by an arbitrary number of build
<EM>parameters</EM>, that are then used by Odin to customize the way
that file is processed in any build step that refers to it.
For example,
<PRE>
   prog.c +debug
</PRE>
indicates that the debug flag should be set whenever <TT>prog.c</TT>
is used in a build step, while
<PRE>
   io.c +optimize=2
</PRE>
indicates that optimization level 2 should be set whenever <TT>io.c</TT>
is used in a build step.
If the parameterized filename refers to a list of other files,
the parameters are inherited by each of the referenced files.
Because of the controlled scoping provided by Odin parameters
and the expressive power of Odin implicit build rules,
explicit build rules are hardly ever needed in an Odinfile.

<P>

<H2><A NAME="SECTION00233000000000000000">
1.3.3 Storing Derived File Variants</A>
</H2>

<P>
Make usually stores a derived file in the directory containing the source
file from which it is derived,
since this allows other builds that reference the source file
to reuse that derived file.
The main disadvantage of this approach is that only
one variant of a given derived file can exist at a given time.
The build manager can easily mistake which version is
currently in the directory, leading to an incorrect build.
Other disadvantages are that a user must have write permission
to the source directories in order to re-build derived files,
a user can mistakenly delete a source file thinking it is a derived file,
and a user can mistakenly edit a derived file thinking it is a source file.

<P>
The usual approach to this problem is to have the user explicitly
allocate different directories to contain the results of
different variant builds.
Unfortunately, this makes it difficult for build sharing to take place,
and unless the version of Make has been extended to write out
the variable values used for the builds in a given directory,
it is easy to get incorrect builds if different variable values are
used for builds in the same directory.

<P>
Another approach to this problem used in
ClearMake[<A
 HREF="odin.html#ClearCase">1</A>] consists of introducing a
a proprietary <EM>multi-version file system</EM>.
Every file opened for reading during the build and every variable value
is tracked by the system, and if the same set of files with the same
variables are present in a later build request,
the previously computed results of the build are re-used.
Even this approach, though,
requires that the user explicitly manage variant derived file locations
if concurrent variant builds of files local to a view are desired.

<P>
The alternative approach used by Odin
that does not require replacing the native Unix file system
is to use a derived file cache.
In effect, the file namespace is extended to provide names for
every derived file variant.
For example,
<PRE>
   /usr/src/prog.c :exe
</PRE>
is the executable computed by compiling and linking <TT>/usr/src/prog.c</TT>,
<PRE>
   /usr/src/prog.c +debug :exe
</PRE>
is the executable with debugging information, and
<PRE>
   /usr/src/prog.c +optimize=2 :exe
</PRE>
is the executable compiled with level-2 optimization.
These extended names are parsed by the Odin interpreter,
which either maps the name to a source file
or to the correct derived file in the derived file cache.

<P>

<H2><A NAME="SECTION00234000000000000000">
1.3.4 Parallel Builds</A>
</H2>
Odin provides concurrent parallel builds on local and remote hosts.
You just specify a list of build hosts and the maximum number of parallel
builds.

<P>

<H2><A NAME="SECTION00235000000000000000">
1.3.5 Help</A>
</H2>
Odin provides a powerful help system that uses its knowledge of the
currently installed set of implicit rules (including those added by
the local site administrator and an individual user).
In particular, it can tell you what kinds of
file extensions are currently recognized,
what kinds of files can be derived from a specific type of file,
and what parameters can be specified to produce a variant of a
given derived file.

<P>

<H2><A NAME="SECTION00236000000000000000">
1.3.6 Errors</A>
</H2>
Odin maintains a persistent database of all error and warning messages
associated with each build step.
You can request a summary report of all errors and/or warnings
associated with all the build steps of a particular derived object.
For derived object variants,
any valid error information from other variants is reused from the
database rather than recomputed.

<P>

<H2><A NAME="SECTION00237000000000000000">
1.3.7 Operations on Lists</A>
</H2>
Enhanced versions of Make each provide their own idiosyncratic
set of operations for manipulating filenames and lists of filenames.
In Odin, these operations are performed by arbitrary Unix tools -
this is feasible because Odin caches the results of these tools in
the dependency database.

<P>

<H2><A NAME="SECTION00238000000000000000">
1.3.8 Editing while Building</A>
</H2>
You can edit files that are currently being used for one or more builds,
and Odin will automatically recognize the changes and redo the parts of
the builds that are affected by the changes,
before letting the builds complete.

<P>

<H2><A NAME="SECTION00239000000000000000">
1.3.9 Recursive Implicit Rules</A>
</H2>
Odin allows you to recursively chain implicit rules,
so for example, you can specify that the files included by
a file are the files directly included by the file
plus the files included by the files included by the file.
Even enhanced versions of Make that do support chaining
of implicit rules do not allow recursive chaining.

<P>

<H2><A NAME="SECTION002310000000000000000">
1.3.10 Circular Dependencies</A>
</H2>
Odin allows a file to depend on itself.
This may seem unreasonable until you start writing tools that generate code,
and you find that it would be very useful to have the tool generate part
of itself.
In this situation,
Odin will terminate the computation when the tool produces a file that
is identical to the one used as input to the computation
(i.e., when the computation reaches a <EM>fixed-point</EM>).

<P>

<H2><A NAME="SECTION002311000000000000000">
1.3.11 Efficient Dependency Computation</A>
</H2>
In very large systems, even when a desired derived file is up-to-date,
simply <TT>fstat()</TT>'ing all the source files upon which it depends
can take Make several minutes.
Since Odin can broadcast file change information in its
dependency database,
dependency computation can be made proportional to the number of
file dependencies that have <EM>changed</EM> rather than the total number
of file dependencies.

<P>

<H2><A NAME="SECTION002312000000000000000">
1.3.12 Tool Dependencies</A>
</H2>
Build steps automatically depend on the tools and scripts that produce them,
so if you change a tool, Odin will recompute anything produced by that
tool the next time you request a build.
If the tool change did not affect a particular run of that tool,
the recomputation is short-circuited,
and the rest of the derived files 
that depend on that output of the tool are marked as still being valid.

<P>

<H2><A NAME="SECTION002313000000000000000">
1.3.13 Availability</A>
</H2>
Finally, Odin is portable, free, and available in source form.
It can be retrieved via anonymous ftp
from the compressed tar formatted file <TT>distribs/odin/odin.tar.Z</TT>
at <TT>ftp.cs.colorado.edu (128.138.243.151)</TT>.

<P>

<H1><A NAME="SECTION00300000000000000000"></A>
<A NAME="odinfile"></A><BR>
2. The Odinfile
</H1>

<P>

<H1><A NAME="SECTION00310000000000000000"></A>
<A NAME="target"></A><BR>
2.1 Targets
</H1>

<P>
A build <EM>target</EM> in a directory is
a source file whose value is computed by the derived object manager.
Just as Make uses a file named <TT>Makefile</TT> to specify targets
for a directory, Odin uses a file named <TT>Odinfile</TT>.
When the host-command:
<PRE>
   odin prog
</PRE>
is executed, Odin checks to see if <TT>prog</TT> is a target
in <TT>./Odinfile</TT>.
If it is a target, but is not up-to-date,
Odin invokes whatever tools are necessary to bring it up-to-date.
Odin automatically looks in all directories that
contain the input files for these tools,
and if there is an <TT>Odinfile</TT>
that contains a target for an input file,
Odin ensures that the input file is up-to-date before using it.

<P>
A target definition in an <TT>Odinfile</TT> consists of a filename
followed by two equal-signs and an <EM>odin-expression</EM>.
For example, the <TT>Odinfile</TT> entry:
<PRE>
   prog == prog.c +debug :exe
</PRE>
declares that the value of the source file <TT>prog</TT>
should always be equal to the value
of the file specified by the odin-expression <TT>prog.c+debug:exe</TT>.

<P>

<H1><A NAME="SECTION00320000000000000000"></A>
<A NAME="odinexpr"></A><BR>
2.2 Odin-Expressions
</H1>

<P>
Just as any source file can be named with a source filename,
any derived file can be named with an <EM>odin-expression</EM>.
An odin-expression is just like a source filename,
except that in addition to the slash operator used in source filenames
for selecting elements of directories,
there is a plus-sign operator for adding parameters to an object
and a colon operator for selecting a derivation from an object.
For example, in the odin-expression:
<PRE>
   src/prog.c+debug:exe
</PRE>
<TT>prog.c</TT> is selected from the <TT>src</TT> directory,
the parameter <TT>+debug</TT> is associated with <TT>src/prog.c</TT>,
and the <TT>:exe</TT> (i.e. executable binary) derivation 
is selected from <TT>src/prog.c+debug</TT>.

<P>

<H2><A NAME="SECTION00321000000000000000">
2.2.1 Lexical Conventions</A>
</H2>

<P>
Lexically, an odin-expression is composed of a sequence of 
<EM>identifier</EM> and <EM>operator</EM> tokens,
and is terminated by a new-line character.
An odin-expression can be continued on multiple lines
by escaping each new-line character with a backslash.
This backslash (but not the new-line) is deleted
before the expression is parsed.
Multiple odin-expressions can be specified on the same line
by separating them with semi-colon operators.

<P>
An identifier token is just a sequence of characters.
The following characters:
<PRE>
   : + = ( ) / % ; ? $ &lt; &gt; ! &lt;space&gt; &lt;tab&gt; &lt;new-line&gt; # \ ' 
</PRE>
must be escaped to be included in an identifier.
A single character can be escaped by preceding it with a backslash
(e.g. <TT>lost<code>\</code>+found</TT>).
A sequence of characters can be escaped
by enclosing them in single quote marks (e.g. <TT>'lost+found'</TT>).

<P>
Unescaped <EM>whitespace</EM> characters (spaces, tabs, and new-lines)
are ignored during parsing except when they separate adjacent identifiers.
A comment is indicated by
a sharp and is terminated by a new-line character.
For example, the odin-expression:
<PRE>
   # this is a comment
</PRE>
is a comment and is equivalent to whitespace.

<P>
An odin-expression can be surrounded by parentheses.
Parentheses are required for nested odin-expressions
(such as values of parameters) or for the empty expression
<TT>()</TT> which represents an immutable empty file.

<P>

<H2><A NAME="SECTION00322000000000000000"></A>
<A NAME="selection"></A><BR>
2.2.2 Selection Expressions
</H2>

<P>
A selection expression, indicated by the slash operator,
selects a file from a directory.
The argument to the slash operator is the <EM>key</EM> of the desired file.
For example, the odin-expression:
<PRE>
   src/prog.c
</PRE>
selects <TT>prog.c</TT> from the directory <TT>src</TT>.
(The careful reader will note that an odin-expression composed entirely
of selection expressions bears an uncanny resemblance to a standard
Unix filename.)
Any special character in the key must be escaped.
For example, <TT>prog.c++</TT> 
must be escaped, as in <TT>prog.c<code>\</code>+<code>\</code>+</TT> or <TT>'prog.c++'</TT>.

<P>
Odin splits each key into two parts: a <EM>root</EM> and a <EM>type-name</EM>.
The type-name is the longest prefix of the key
that matches one of the declared source types prefixes
(see Section&nbsp;<A HREF="#sourcedecl">B.3</A>).
If no prefix match is found, the type-name is the longest suffix of the
key that matches one of the declared source type suffixes.
If no suffix match is found, the type-name is the empty string.

<P>
Assuming that <TT>s.</TT> is the only declared source type prefix and
<TT>.c</TT> is the only declared source type suffix, then the following
relationships hold:
<PRE>
   FILENAME        KEY         ROOT     TYPE-NAME
   src/prog.c      prog.c      prog     .c
   src/s.prog.c    s.prog.c    prog.c   s.
   src/prog        prog        prog
</PRE>
The type-name is used to determine the object type of the file
(see Section&nbsp;<A HREF="#sourcedecl">B.3</A>),
and the root is used to determine the object type of generic
objects derived from the file (see Section&nbsp;<A HREF="#builtin">B.4.1</A>).

<P>

<H2><A NAME="SECTION00323000000000000000">
2.2.3 Derivation Expressions</A>
</H2>

<P>
A derivation expression, indicated by the colon operator,
is used to specify a derived object.
The argument to the colon operator is an <EM>object type</EM>
that has been declared in one of the tool packages
(see Section&nbsp;<A HREF="#objecttype">B.4</A>).
For example, the odin-expression:
<PRE>
   prog.c :fmt
</PRE>
names a formatted version of <TT>prog.c</TT>, and the odin-expression:
<PRE>
   prog.c :fmt :exe
</PRE> 
names the result of compiling and linking
the formatted version of <TT>prog.c</TT>.

<P>
A derived object can be a directory,
in which case it is called a <EM>derived directory</EM>.
Elements of a derived directory are selected with the
same slash operator used to select elements of source directories.
For example, if <TT>src/prog.c:output</TT> is a derived directory
containing the output files from a test run of <TT>prog.c</TT>,
and this directory contains three files named
<TT>DATA</TT>, <TT>source.listing</TT>, and <TT>source.errors</TT>,
then these three files are named by the odin-expressions:
<PRE>
   src/prog.c:output/DATA
   src/prog.c:output/source.listing
   src/prog.c:output/source.errors
</PRE>
An element of a derived directory cannot be another directory,
although it can be a symbolic link to another directory.

<P>

<H2><A NAME="SECTION00324000000000000000">
2.2.4 Parameterization Expressions</A>
</H2>

<P>
A parameterization expression, indicated by the plus-sign operator,
extends an object with additional information
that affects the derived objects produced from that object.
The argument to the plus-sign operator is a <EM>parameter type</EM>
(see Section&nbsp;<A HREF="#parametertype">B.5</A>),
optionally followed by an equal-sign operator and a sequence of 
one or more identifiers and parenthesized object-expressions.
The identifiers specify string objects.
For example, in the odin-expression:
<PRE>
   prog.c +lib=(support.c.sm +debug :a) +lib=termcap
</PRE>
the value of the first <TT>+lib</TT> parameter
is the object <TT>support.c.sm+debug:a</TT>
and the value of the second <TT>+lib</TT> parameter
is the string <TT>termcap</TT>.
An example of an odin-expression with a parameter value that is a sequence is:
<PRE>
   prog.c +lib=dbm (support.c.sm +debug :a) socket
</PRE>
which specifies that the <TT>+lib</TT> parameter has a value that is
a sequence consisting of the string <TT>dbm</TT>,
the object <TT>support.c.sm+debug:a</TT> and the string <TT>socket</TT>.

<P>
If the parameter value is omitted,
it is equivalent to specifying the identifier consisting of a single space
<TT>' '</TT> as the value.
For example, the following two odin-expressions:
<PRE>
   prog.c +debug
   prog.c +debug=' '
</PRE>
are equivalent.

<P>
The parameter values of a given parameter type in an odin-expression
form an ordered set,
where the order of the values is the order specified in the odin-expression.
Therefore, the odin-expressions:
<PRE>
   prog.c +lib=dbm +lib=socket :exe
   prog.c +lib=socket +lib=dbm :exe
</PRE>
are not equivalent.
If multiple copies of the same parameter value appear, only the first
of the multiple copies is kept.
For example, the odin-expressions:
<PRE>
   prog.c +lib=socket +lib=dbm +lib=socket :exe
   prog.c +lib=socket +lib=dbm :exe
</PRE>
are equivalent.
If a parameter has a value that is a sequence,
that value is only considered the same as another identical sequence.
For example, the odin-expressions:
<PRE>
   prog.c +lib=socket dbm +lib=socket :exe
   prog.c +lib=socket +lib=dbm :exe
</PRE>
are not equivalent, while the odin-expressions:
<PRE>
   prog.c +lib=socket dbm +lib=socket +lib=socket dbm :exe
   prog.c +lib=socket dbm +lib=socket :exe
</PRE>
are equivalent.

<P>
The parameter value lists of each parameter type are disjoint,
therefore, the order of parameters of different types is not significant.
For example, the odin-expressions:
<PRE>
   prog.c +debug +profile :exe
   prog.c +profile +debug :exe
</PRE>
are equivalent.

<P>
Parameters of a list object are inherited by all the elements of the list.
For example, if the odin-expression:
<PRE>
   prog.c.sm :list
</PRE>
named a list whose elements were <TT>main.c</TT> and <TT>subrs.c</TT>,
then the odin-expression:
<PRE>
   prog.c.sm :list +debug
</PRE>
associates the <TT>+debug</TT> parameter with <TT>main.c</TT> and <TT>subrs.c</TT>.

<P>
Parameters are not inherited forward or backward through derivations.
Therefore, in the odin-expression:
<PRE>
   prog.c +debug :o +optimize=2 :exe
</PRE>
the <TT>:o</TT> derivation has debugging, but no optimization,
while the <TT>:exe</TT> derivation has optimization, but no debugging.

<P>
Frequently, several odin-expressions share a common set of parameters.
To support this kind of sharing,
a parameterization expression can take the form of
a plus-sign followed by a parenthesized object-expression.
The common set of parameters are then stored in the file
named by the object-expression.
For example, if the file <TT>my.prms</TT> contained the text:
<PRE>
   +debug +lib_sp=(/local/lib) +lib=socket +lib=dbm +gnu
</PRE>
then the odin-expressions:
<PRE>
   prog.c +(my.prms) :exe
   prog.c +debug +lib_sp=(/local/lib) +lib=socket +lib=dbm +gnu :exe
</PRE>
would be equivalent.

<P>

<H2><A NAME="SECTION00325000000000000000">
2.2.5 String Expressions</A>
</H2>

<P>
A string expression, indicated by the equal-sign operator
followed by an identifier,
is used to specify arguments to tools that are not filenames.
For example, the odin-expression:
<PRE>
   =cxv
</PRE>
names the string <TT>cxv</TT>.

<P>

<H1><A NAME="SECTION00330000000000000000"></A>
<A NAME="virtualtarget"></A><BR>
2.3 Virtual Targets
</H1>

<P>
In addition to targets,
an <TT>Odinfile</TT> can contain <EM>virtual targets</EM>
that define a set of <EM>virtual files</EM>.
A virtual target is like a target,
except that the value is not copied into a host file,
but is simply associated with the specified virtual filename.
Virtual files provide a mechanism for specifying aliases
for complicated odin-expressions,
and a mechanism for specifying build-support files without cluttering
host directories.

<P>
A virtual target definition is the same as a target definition
(see Section&nbsp;<A HREF="#target">2.1</A>),
except that the filename begins with an unescaped percent-sign.
For example, the <TT>Odinfile</TT> entry:
<PRE>
   %prog == prog.c +debug :exe
</PRE>
binds the odin-expression <TT>prog.c+debug:exe</TT>
to the virtual filename <TT>prog</TT>.

<P>
The syntax for selecting a virtual file from an <TT>Odinfile</TT> is
identical to that for selecting a file from a directory,
except that a percent-sign is used instead of a slash.
For example, the odin-expression:
<PRE>
   src/Odinfile%prog
</PRE>
selects the virtual file <TT>prog</TT> from <TT>src/Odinfile</TT>.

<P>
If the directory name preceding the percent-sign is omitted,
the virtual file is selected from the <TT>Odinfile</TT> in
the current working directory.  For example, the odin-expressions:
<PRE>
   %prog
   ./Odinfile%prog
</PRE>
are equivalent.

<P>
Although only a file named <TT>Odinfile</TT> can specify targets,
any file can contain virtual targets.
For example, if <TT>src/models</TT> were a host file containing the text:
<PRE>
   %fastprog == prog.c +optimize=2 :exe
</PRE>
then the odin-expression:
<PRE>
   src/models%fastprog
</PRE>
obtains the virtual target for <TT>%fastprog</TT> from <TT>src/models</TT>.

<P>

<H1><A NAME="SECTION00340000000000000000"></A>
<A NAME="texttarget"></A><BR>
2.4 Text Targets
</H1>

<P>
The value of a target can be specified directly as lines of text
(a <EM>here document</EM>), instead of as an odin-expression.
In this case, the value declaration consists of
two left-angle-brackets optionally followed by an arbitrary tag identifier.
For example, the <TT>Odinfile</TT> entry:
<PRE>
prog.c.sm == &lt;&lt; END
    main.c
    routines.c
END
</PRE>
declares <TT>prog.c.sm</TT> to be a text target.
The value of <TT>prog.c.sm</TT> is then a file containing the text:
<PRE>
    main.c
    routines.c
</PRE>

<P>
If the tag identifier is omitted, the text value ends at the first line
containing only whitespace characters.
For example, the <TT>Odinfile</TT> entry:
<PRE>
prog.c.sm == &lt;&lt;
    main.c
    routines.c
</PRE>
is equivalent to the previous definition.

<P>
If the tag identifier begins with a new-line character,
the terminating tag identifier does not contain the leading
new-line character,
and the last new-line character in the text value is ignored.
For example, the <TT>Odinfile</TT> entry:
<PRE>
vowels == &lt;&lt; \\
TAG
aeiou
TAG
</PRE>
defines the contents of the file <TT>vowels</TT> to be the
five characters: "<TT>aeiou</TT>".

<P>

<H2><A NAME="SECTION00341000000000000000"></A>
<A NAME="executabletarget"></A><BR>
2.4.1 Executable Text Targets
</H2>

<P>
Execute permission can be set for a text target by specifying
it to be an <EM>executable text target</EM>.
A text target is an executable text target
if an exclamation-point is specified immediately before the <TT>&#171;</TT>.
For example, the <TT>Odinfile</TT> entry:
<PRE>
   %backup == !&lt;&lt;
      backup_name=$1.back
      mv $1 $backup_name
      cp $backup_name $1
</PRE>
specifies <TT>%backup</TT> to be an executable text target.

<P>

<H1><A NAME="SECTION00350000000000000000"></A>
<A NAME="commandtarget"></A><BR>
2.5 Command Targets
</H1>

<P>
A target is a <EM>command target</EM>
if an exclamation-point is specified following the filename.
For example, the <TT>Odinfile</TT> entry:
<PRE>
   prog ! == prog.c.sm +debug :exe
</PRE>
specifies <TT>prog</TT> to be a command target.

<P>
Normally, when a filename is specified as an argument
to the <TT>odin</TT> host-command,
Odin simply ensures that the value of the filename is up-to-date.
If the filename is a command target,
Odin also executes the file after it is made up-to-date.
For example, with the preceding target definition for <TT>prog</TT>,
the host-command:
<PRE>
   odin prog
</PRE>
makes sure <TT>prog</TT> is up-to-date with respect to
<TT>prog.c.sm+debug:exe</TT>, and then executes it.

<P>

<H1><A NAME="SECTION00360000000000000000"></A>
<A NAME="nestedtarget"></A><BR>
2.6 Nested Target Definitions
</H1>

<P>
A file containing additional target definitions can be specified in a
<EM>nested target definition</EM>.
A nested target definition consists of two equal-signs followed by an
odin-expression.
A common use of nested target definitions is to pre-process the text
of the target definitions.
For example, the <TT>Odinfile</TT> entries:
<PRE>
   == %nested :cpp

   %nested == &lt;&lt; EOF
   #ifdef linux
      prog == prog.c +gnu +debug :exe
   #else
      prog == prog.c +debug :exe
   #endif
   EOF
</PRE>
specify that the <TT>+gnu</TT> parameter should be used
on the <TT>linux</TT> platform.

<P>

<H1><A NAME="SECTION00400000000000000000">
3. Getting Started</A>
</H1>

<P>
To get started using Odin,
go to a directory containing your favorite "hello world" program.
<PRE>
   1% cd /u/fred
   2% cat hello.c

   main()
   { printf("Hello World.\n"); return 0; }
</PRE>
Then create an <TT>Odinfile</TT> containing the line <TT>hello==hello.c:exe</TT>.
<PRE>
   3% ls
   Odinfile   hello.c
   4% cat Odinfile

   hello == hello.c :exe
</PRE>
You are now ready to build <TT>hello</TT>.  Just say:
<PRE>
   5% odin hello
</PRE>
By default, Odin issues a message every time it invokes a tool, for example:
<PRE>
   scan_for_includes hello.c
   cc -c hello.c
   cc hello.o
   ** Copying up-to-date value into /u/fred/hello
</PRE>
The first tool scanned the source file for includes; the second generated
object code; the third generated an executable; and the fourth copied the
executable into the file named <TT>/u/fred/hello</TT>.

<P>
You have now built your first executable with Odin.  Now to test it:
<PRE>
   %6 hello
   Hello World.
</PRE>

<P>

<H1><A NAME="SECTION00410000000000000000">
3.1 Systems with Several Files</A>
</H1>

<P>
Interesting systems will usually consist of more than one file.
In Odin, you list the source files that make up the system in a
file called a <EM>system model</EM>.
The files named in <TT>#include</TT> statements
should not be listed in the system model -
Odin will discover them by running a tool
that scans the source files looking for <TT>#include</TT> statements.

<P>
Modify <TT>hello.c</TT> so that it calls a <TT>print()</TT>
routine in the file <TT>print.c</TT>.
<PRE>
   7% ls
   Odinfile   hello    hello.c   print.c
   8% cat hello.c

   main()
     { print("Hello "); print("World.\n"); return 0; }

   9% cat print.c

   print(s) char *s;
     { printf(s); }
</PRE>
Now you need to create a system model, <TT>hello.c.sm</TT>,
for the new <TT>hello</TT> system.
The system model can be a regular file,
but it can equally well be specifed as a <EM>virtual file</EM>
in the <TT>Odinfile</TT>.
<PRE>
   10% cat Odinfile

   hello == %hello.c.sm :exe

   %hello.c.sm == &lt;&lt; EOF
      hello.c; print.c
   EOF
</PRE>
The new version of <TT>hello</TT> can now be built:
<PRE>
   11% odin hello
</PRE>
You will notice although the file <TT>hello</TT> has changed,
no new files have appeared in the source directory.
<PRE>
   12% ls
   Odinfile   hello   hello.c   print.c
</PRE>
This is because all derived files are stored in the derived file cache
directory (<TT>$HOME/.ODIN</TT> by default - a non-default location can be
specified in the <TT>$ODIN</TT> environment variable).

<P>
But the derived files are available for re-use.  For example, if you
to add a comment to the <TT>print()</TT> routine:
<PRE>
   13% cat print.c

   /* print the character sequence s to standard output */
   print(s) char *s;
     { printf(s); }
</PRE>
and then ask Odin for <TT>hello</TT> again:
<PRE>
   14% odin hello
</PRE>
you will notice a couple of things.
First, the previous results of scanning <TT>hello.c</TT> for includes
and compiling it are both re-used, as you would expect.
Somewhat more surprising may be that Odin notices that the compilation of
the modified <TT>print.c</TT> produced the same object code.
Odin then skips the link
phase since the old executable is still valid.

<P>

<H1><A NAME="SECTION00420000000000000000">
3.2 Files in Other Directories</A>
</H1>

<P>
The files in a system model can be in any directory, using either
absolute or relative pathnames.  Odin knows that <TT>/u/fred/print.c</TT> is
potentially different from <TT>/u/jane/print.c</TT> so will not be confused if
you switch from one to the other in your system model.
<PRE>
   15% cat ../jane/print.c

   print(s) char *s;
     { printf("*%s*", s); }

   %16 cat Odinfile

   hello == %hello.c.sm :exe

   %hello.c.sm == &lt;&lt; EOF
      hello.c; ../jane/print.c
   EOF

   %17 odin hello
</PRE>

<P>

<H1><A NAME="SECTION00430000000000000000">
3.3 Recursive Odin Calls</A>
</H1>

<P>
Suppose that <TT>/u/jane/print.c</TT> is modified to include a <TT>y.tab.h</TT>
file generated by the <TT>yacc</TT> tool from a file named <TT>print.y</TT>.
The fact that <TT>y.tab.h</TT> is generated from <TT>print.y</TT> is indicated
in <TT>/u/jane/Odinfile</TT>.
<PRE>
   18% ls ../jane
   Odinfile   print.c     print.y
   19% cat ../jane/print.c

   #include "y.tab.h"
   print(s) char *s;
     { printf("*%s*", s); }

   20% cat ../jane/Odinfile

   y.tab.h == print.y :h
</PRE>
If you were using <TT>make</TT>, you would have to somehow get <TT>make ../jane</TT>
invoked before you tried to <TT>make hello</TT>.  In Odin, all these dependencies
are computed for you, so a simple <TT>odin hello</TT> is sufficient.
<PRE>
   21% odin hello
</PRE>

<P>

<H1><A NAME="SECTION00440000000000000000">
3.4 Debugging Your Program</A>
</H1>

<P>
Odin uses parameters instead of tool flags to modify the behavior of tools.
In particular, <TT>+debug</TT> adds debugging information.
Either the entry for <TT>hello</TT> in the <TT>Odinfile</TT> can be modified,
or as is done below, a second entry such as <TT>test-hello</TT> can be added.
<PRE>
   22% cat Odinfile

   hello == %hello.c.sm :exe

   test-hello == %hello.c.sm +debug :exe

   %hello.c.sm == &lt;&lt; EOF
      hello.c; print.c
   EOF
</PRE>
At this point, you can build <TT>test-hello</TT> and run the debugger.
<PRE>
   23% odin test-hello

   24% dbx test-hello
</PRE>
These two steps can be combined by adding an executable <TT>%dbx</TT> entry
into the <TT>Odinfile</TT>.
<PRE>
   25% cat Odinfile

   hello == %hello.c.sm :exe

   test-hello == %hello.c.sm +debug :exe

   %dbx ! == %hello.c.sm +debug :dbx

   %hello.c.sm == &lt;&lt; EOF
      hello.c; print.c
   EOF
</PRE>
Then the host-command:
<PRE>
   26% odin %dbx
</PRE>
would build an up-to-date executable from <TT>%hello.c.sm</TT>,
build a script for executing dbx on this executable,
and then because <TT>%dbx</TT> is an executable target, execute the script.

<P>

<H1><A NAME="SECTION00500000000000000000"></A>
<A NAME="command"></A><BR>
4. Odin-Commands
</H1>

<P>
In addition to being used as a means for making source files up-to-date,
the Odin system can also be used as a command interpreter for
<EM>odin-commands</EM>.
Odin-commands are either given as arguments to the <TT>odin</TT> host-command,
or, if the <TT>odin</TT> host-command is invoked with no arguments, 
odin-commands are read interactively from standard input.

<P>
When Odin is used as an interactive command interpreter,
it first prints out a banner indicating the version of Odin you are using,
and then an arrow indicating it is ready to accept input.
You exit the Odin interpreter by typing an end-of-file,
commonly the control-D character.
<PRE>
   1% odin
   Odin Version 1.17
   -&gt; ^D
   2%
</PRE>

<P>
When the logging level is high enough, executing odin-commands from a
script will print the odin-command before executing it.  However, some
command scripts are expected to execute silently regardless of log
level.  In this case, each odin-command to be silently executed may be
prefixed with the at-character (<TT>@</TT>).

<P>
There are four kinds of odin-commands: <EM>query odin-commands</EM>,
<EM>copy odin-commands</EM>, <EM>execute odin-commands</EM>,
and <EM>variable assignment odin-commands</EM>.
If the Odin interpreter encounters a question-mark in an odin-command,
it generates a help message describing what could have been
typed at the location of the question-mark.

<P>

<H1><A NAME="SECTION00510000000000000000"></A>
<A NAME="query"></A><BR>
4.1 Query Odin-Commands
</H1>

<P>
A <EM>query odin-command</EM> consists simply of an odin-expression.
A query odin-command causes the Odin object named by the odin-expression
to be brought up to date,
and reports information concerning the status of the object
(such as error and warning messages produced by tool steps that were run
to produce the object).
<PRE>
   -&gt; print.c:exe
   --- &lt;/u/fred/print.c :exe&gt; generated errors ---
   ld: Undefined symbol 
      _main 
   cc failed
   -&gt;
</PRE>
The level of detail of this information is controlled by the value of the
<TT>ErrLevel</TT> and <TT>WarnLevel</TT> variables (see Section&nbsp;<A HREF="#errlevel">4.4.5</A>).

<P>

<H2><A NAME="SECTION00511000000000000000">
4.1.1 Status of Odin Objects</A>
</H2>

<P>
Associated with each Odin object is a status level,
where the status level is one of <TT>OK</TT>, <TT>WARNING</TT>, <TT>ERROR</TT>,
<TT>CIRCULAR</TT>, <TT>NOFILE</TT>, and <TT>ABORT</TT>.
<TT>OK</TT> is the maximum status level and <TT>ABORT</TT> the minimum.

<P>
The status of a given derived object depends on
the results of the tools that produced that object.
If any tool generated warning messages,
the status level of the given object is at most <TT>WARNING</TT>.
If any tool generated error messages,
the status level of the given object is at most <TT>ERROR</TT>.
If an object that was needed to create the
given object is the object itself,
the status level of the given object is at most <TT>CIRCULAR</TT>.
If any object that was needed to generate the given object did not exist,
the status level of the given object is at most <TT>NOFILE</TT>.
If any object that was needed to
generate the given object had status level <TT>ERROR</TT> or less,
then the status level of the given object is set to be <TT>ABORT</TT>.

<P>
The status of a source object is <TT>NOFILE</TT>
if the host file does not exist,
the status of the value of its target value (see Section&nbsp;<A HREF="#target">2.1</A>)
if it is a target, and otherwise <TT>OK</TT>.

<P>

<H2><A NAME="SECTION00512000000000000000">
4.1.2 Error and Warning Messages</A>
</H2>

<P>
The warning or error messages produced by all tool invocations
are saved by the Odin system.
The difference between an error and a warning is that
an error prevents the tool from generating its output,
while a warning indicates that although output was generated,
it might be faulty.
An example of an error message from a loader is:
<PRE>
   Unsatisfied external reference: "proc1".
</PRE>
An example of a warning message from a loader is:
<PRE>
   Multiply defined external: "proc2", first copy loaded.
</PRE>

<P>
A text file containing a summary of all error messages for an object
can be obtained by applying the <TT>:err</TT> derivation to the object.
For example, the file named by the odin-expression:
<PRE>
   prog.c :exe :err
</PRE>
contains a summary of all error messages 
produced by any tool used in the generation of the <TT>prog.c:exe</TT> object.
The <TT>:warn</TT> derivation produces a text file containing both
warning and error messages for an object.

<P>

<H1><A NAME="SECTION00520000000000000000"></A>
<A NAME="copy"></A><BR>
4.2 Copy Odin-Commands
</H1>

<P>
A <EM>copy odin-command</EM> copies the contents of a specified Odin object
into another object (the destination object).
The copy is performed only if the status level
of the specified object is no lower than <TT>WARNING</TT>.
The destination object must be a source object
since only source objects can be directly modified by a user.

<P>
There are two forms of the copy odin-command:
<EM>copy-to</EM>, indicated by a right-angle-bracket, and
<EM>copy-from</EM>, indicated by a left-angle-bracket.
Examples of these two odin-commands are:
<PRE>
   -&gt; prog.c +debug :exe &gt; prog
   -&gt; prog &lt; prog.c +debug :exe
</PRE>

<P>
If the destination object is a directory,
the <EM>label</EM> of the specified object is used to name the new copy.
The label of a source file is
the last component of the pathname of the source file.
The label of a derived object is <EM>source-label.type-name</EM>
where <EM>type-name</EM> is the name of the output type
of the tool that produced it (see Section&nbsp;<A HREF="#execdecl">B.7</A>).
and where <EM>source-label</EM> is the label of the source file
from which it is derived.
For example, the label of <TT>/usr/src/prog.c</TT> is <TT>prog.c</TT> and
the label of <TT>/usr/src/prog.c:exe</TT> is <TT>prog.c.exe</TT>.

<P>
If a list is copied into a directory,
each element of the list is copied individually into the directory.

<P>

<H2><A NAME="SECTION00521000000000000000">
4.2.1 Copying to Standard Output</A>
</H2>

<P>
If the destination object is omitted from a copy-to odin-command,
the specified object is displayed on the current standard output device.
For example, the odin-command:
<PRE>
   -&gt; prog.c &gt;
</PRE>
displays the file named <TT>prog.c</TT>.

<P>

<H2><A NAME="SECTION00522000000000000000">
4.2.2 Editing with the Copy Odin-Command</A>
</H2>

<P>
If only the destination object is specified in a copy-from odin-command,
the specified object is given to the host-system editor
indicated by the <TT>$EDITOR</TT> environment variable,
with the <TT>vi</TT> editor the default.
For example, if the value of the <TT>$EDITOR</TT> variable is <TT>emacs</TT>,
then the odin-command:
<PRE>
   -&gt; prog.c &lt;
</PRE>
invokes the <TT>emacs</TT> editor on the file <TT>prog.c</TT>.

<P>

<H1><A NAME="SECTION00530000000000000000"></A>
<A NAME="execute"></A><BR>
4.3 Execute Odin-Commands
</H1>

<P>
An <EM>execute odin-command</EM> consists of an odin-expression followed by
an exclamation-point and a host-command line,
where either the odin-expression or the host-command can be omitted.
Examples of execute odin-commands (with output omitted) are:
<PRE>
   -&gt; prog.c +debug :stdout !more -s
   -&gt; ! ls *.c
   -&gt; prog.c :exe !
</PRE>
The result of the execute odin-command is to make the Odin object up-to-date,
append its filename to the host-command line,
and give the resulting extended host-command line
to the host system for execution.

<P>
The exclamation-point has the special lexical property that if the
first non-whitespace character following it
is not a colon, a semi-colon, or an equal-sign,
then the rest of the line is treated as a single escaped sequence of
characters.
This avoids the confusion resulting from interactions between host-command
and Odin character escape conventions.
A leading colon, equal-sign, or whitespace character can be
included in the escaped sequence of characters by preceding it
with a backslash.

<P>
If the host-command begins with the characters <TT>lua!</TT>, the text
following that prefix is executed as Lua code.  Otherwise, it is
executed using the system command interpreter.  See
Appendix&nbsp;<A HREF="#ch:lualib">F</A> for a list of additional functions provided
by the Lua interpreter.  Each Lua host-command is executed in a
separate interpreter, but in the same process space as the Odin
server.  Care must be taken to not invoke C shared libraries which
might disrupt Odin.

<P>
If the host-command is omitted, the Odin object itself is executed.
If execute permission is set for the Odin object,
it is given to the host operating system for execution;
otherwise, the Odin object is assumed to contain odin-commands that are 
to be executed by the Odin interpreter.

<P>

<H1><A NAME="SECTION00540000000000000000"></A>
<A NAME="variable"></A><BR>
4.4 Variable Assignment Odin-Commands
</H1>

<P>
The behavior of the Odin interpreter can be modified by changing the value
of an <EM>Odin variable</EM>.
The functions affected by Odin variables are
the current working directory,
the distributed parallel build facility,
the help facility, the error and log facility,
the file change notification facility, and
the maximum total file system space used by derived objects.

<P>
A variable assignment odin-command consists of the name of an Odin variable
followed by an equal-sign operator and an odin-expression.
For example, the odin-commands:
<PRE>
   -&gt; dir = ../src
   -&gt; warnlevel = 4
</PRE>
assign the value <TT>../src</TT> to the <TT>Dir</TT> variable
and the value <TT>4</TT> to the <TT>WarnLevel</TT> variable
(Odin variable names are case-insensitive).

<P>
If the value is omitted from a variable assignment odin-command,
Odin displays the current value of the specified variable.
For example, after the preceding odin-commands, the odin-command:
<PRE>
   -&gt; warnlevel =
   4
</PRE>
can be used to find out the current value of <TT>WarnLevel</TT>.

<P>
The Odin variables and their default values are:
<PRE>
   Dir ........... odin_invocation_directory
   MaxBuilds ..... 2
   BuildHosts .... LOCAL : LOCAL
   Size .......... 0
   KeepGoing ..... yes
   History ....... yes
   LogLevel ...... 2
   ErrLevel ...... 3
   WarnLevel ..... 2
   HelpLevel ..... 1
   VerifyLevel ... 2
</PRE>

<P>
An initial value for an Odin variable can be
specified in an environment variable whose name is the
the Odin variable name in capital letters preceded by the
string <TT>ODIN</TT>.  For example, the initial value for <TT>MaxBuilds</TT>
is specified in the <TT>ODINMAXBUILDS</TT> environment variable.

<P>

<H2><A NAME="SECTION00541000000000000000">
4.4.1 Dir</A>
</H2>

<P>
The current working directory can be changed by assigning a new value
to the <TT>Dir</TT> variable.
The value of the current working directory is especially significant for Odin,
since Odin identifies source objects by their absolute pathname,
and the current working directory provides the absolute pathname
for all relative names given to the Odin interpreter.

<P>

<H2><A NAME="SECTION00542000000000000000">
4.4.2 BuildHosts, MaxBuilds</A>
</H2>

<P>
The <TT>BuildHosts</TT> variable specifies the list of hosts that are used to
execute the tools that generate the derived objects.
A tool is executed on the first entry in the <TT>BuildHosts</TT>
list that does not have a currently executing tool.
The name <TT>LOCAL</TT> refers to the local host.
The <TT>MaxBuilds</TT> variable specifies the maximum number of tools
to execute in parallel.

<P>
The hosts in <TT>BuildHosts</TT> must have
the same machine architecture and file namespace as the local host.
If builds on non-equivalent machines are desired,
this can be achieved by extending the tool packages
(see Section&nbsp;<A HREF="#package">B.1</A>).

<P>

<H2><A NAME="SECTION00543000000000000000"></A>
<A NAME="keepgoing"></A><BR>
4.4.3 KeepGoing
</H2>

<P>
When a build step reports errors, Odin will continue with build
steps that do not depend on the failed build step.
Setting the value of the <TT>KeepGoing</TT> variable to <TT>no</TT>
will cause Odin to terminate the build when any build step
reports an error (similar to the default behavior of Make).

<P>

<H2><A NAME="SECTION00544000000000000000"></A>
<A NAME="history"></A><BR>
4.4.4 History
</H2>

<P>
The <TT>History</TT> variable specifies whether emacs-like 
history and command line editing is supported by Odin
when it is used as an interactive command interpreter.

<P>

<H2><A NAME="SECTION00545000000000000000"></A>
<A NAME="errlevel"></A><BR>
4.4.5 ErrLevel, WarnLevel, LogLevel
</H2>

<P>
When an odin-command is executed, Odin indicates any errors or
warnings associated with the odin-expressions specified in that odin-command.
The <TT>ErrLevel</TT> and <TT>WarnLevel</TT> variables specify
how detailed this report is.
In particular, the user can choose whether
to see final status information,
to see messages incrementally as they are produced by tools steps,
or to see a summary of all relevant messages (including those from
previously cached tool steps).

<P>
Odin can also produce a variety of information about the activities
it is performing, such as a brief description of each tool that is
invoked to satisfy a given request.
The <TT>LogLevel</TT> variable specifies how detailed these messages are.

<P>

<H2><A NAME="SECTION00546000000000000000"></A>
<A NAME="helplevel"></A><BR>
4.4.6 HelpLevel
</H2>

<P>
The <TT>HelpLevel</TT> variable specifies what degree of detail
is provided when the user asks for a list of possible
file or parameter types (see Section&nbsp;<A HREF="#help">4.5</A>).
Normally, only commonly used types are described, but the <TT>HelpLevel</TT>
can be increased to have all possible types described.

<P>

<H2><A NAME="SECTION00547000000000000000"></A>
<A NAME="verifylevel"></A><BR>
4.4.7 VerifyLevel
</H2>

<P>
By default, Odin checks the modification dates of all relevant source files
at the beginning of an Odin session and before each interactive odin-command.
If all file modifications during the session are performed through
copy odin-commands or through an editor that has been upgraded
to send a <TT>filename!:test</TT> odin-command to Odin whenever <TT>filename</TT>
is modified,
the <TT>VerifyLevel</TT> variable can be set to <TT>1</TT> and only the check
at the beginning of the session is performed.
If all file modifications since the last session have been performed
in the above manner,
<TT>VerifyLevel</TT> can be set to <TT>0</TT> and the initial check
is avoided as well.

<P>

<H2><A NAME="SECTION00548000000000000000">
4.4.8 Size</A>
</H2>

<P>
The value of the <TT>Size</TT> variable indicates how much disk space
(in kilobytes) is currently being used by derived files.

<P>

<H2><A NAME="SECTION00549000000000000000"></A>
<A NAME="envvar"></A><BR>
4.4.9 Environment Variables
</H2>

<P>
Environment variables can be used in odin-commands.
For example, if the environment variable <TT>$HOME</TT> has the value
<TT>/u/geoff</TT>, then the two odin-commands:
<PRE>
   -&gt; $HOME/prog.c :exe
   -&gt; /u/geoff/prog.c :exe
</PRE>
are equivalent.
The value of an environment variable can be quoted by immediately 
preceding it with a quoted identifier.
For example, if the value of <TT>$PATH</TT> is <TT>/bin:/usr/bin</TT>,
then the two odin-commands:
<PRE>
   -&gt; prog.c +path='/etc:'$PATH
   -&gt; prog.c +path='/etc:/bin:/usr/bin'
</PRE>
are equivalent.

<P>
The environment variable <TT>$ODINCACHE</TT> is set by Odin to be the location
of the cache directory (see Section&nbsp;<A HREF="#cache">1.2.2</A>).

<P>
An environment variable is given a new value
with a variable assignment odin-command of the form:
<PRE>
   Variable = !Value
</PRE>
For example, the odin-command:
<PRE>
   -&gt; HOME = !/u/clemm
</PRE>
sets the value of the environment variable <TT>$HOME</TT> to be <TT>/u/clemm</TT>.

<P>
Although any environment variable can be used in odin-commands,
only environment variables declared in a tool package 
(see Section&nbsp;<A HREF="#envvardecl">B.6</A>) can be used in
<TT>Odinfile</TT> target definitions (see Section&nbsp;<A HREF="#target">2.1</A>)
The value of a declared environment variable is obtained from the
environment at the time the current cache was created or reset.
If the variable was not set in that environment,
the default value specified in the derivation graph declaration
of the variable is used.

<P>
The expressions <TT>~</TT> and <TT>~name</TT> are treated as if they were
environment variables, bound respectively to the login directory of the current
user and the login directory of the user with login <TT>name</TT>.

<P>

<H1><A NAME="SECTION00550000000000000000"></A>
<A NAME="help"></A><BR>
4.5 Help
</H1>

<P>
A simple context-sensitive help facility is provided
to describe the syntax of odin-commands
and the currently available object types and parameter types.
If a user types a question-mark anywhere in an odin-command,
Odin provides a description of what could appear at that location
in the odin-command.
For example, the following odin-command provides a syntax summary:
<PRE>
   -&gt; ?
   Control-D
   OdinExpr
      HostFile
         + ParameterType
         + ParameterType = Identifier
         + ParameterType = (OdinExpr)
         : FileType
         / Key
         % Key
   OdinExpr &gt; OdinExpr
   OdinExpr &gt;
   OdinExpr &lt; OdinExpr
   OdinExpr &lt;
   OdinExpr !HostCommand
   OdinExpr !
   OdinExpr !:test
   !HostCommand
   !:test
   Variable =
   Variable = Value
   Variable = !Value
</PRE>

<P>

<H2><A NAME="SECTION00551000000000000000">
4.5.1 Source Type Help</A>
</H2>

<P>
If a list of the declared source object type-names is desired,
a question-mark can be put in place of the extension for a file.
For example, the odin-command:
<PRE>
   -&gt; prog?
   Possible Base Types :
   .c ............. C source code
   .f ............. Fortran77 source code
   .c.sm .......... C system model containing a list of filenames
   ,v ............. RCS version control file
</PRE>
describes the currently recognized type suffixes,
where the message contents is derived from the installed tool packages
(see Section&nbsp;<A HREF="#sourcedecl">B.3</A>).

<P>

<H2><A NAME="SECTION00552000000000000000">
4.5.2 Derivation Help</A>
</H2>

<P>
If a list of possible derivations is desired,
a question-mark can be put in place of the derivation name,
and the Odin system responds with a list of the
possible object types that can appear at that position.
For example, the odin-command:
<PRE>
   -&gt; prog.c :fmt : ?
   Possible Derivations from an Object of Type "fmt":
   o .......... object code
   exe ........ executable binary
   fmt ........ formatted version
   xref ....... cross reference listing
</PRE>
states that all of the following are acceptable odin-expressions:
<PRE>
   prog.c :fmt :o
   prog.c :fmt :exe
   prog.c :fmt :fmt
   prog.c :fmt :xref
</PRE>

<P>

<H2><A NAME="SECTION00553000000000000000">
4.5.3 Parameterization Help</A>
</H2>

<P>
If a list of the possible parameter types is desired,
a question-mark can be put in place of the parameter,
and the Odin system responds with a list of the possible
parameter types that can appear at that position.
For example, the odin-command:
<PRE>
   -&gt; prog.c :fmt + ?
   Possible Parameters:
   lib ........ object code library
   debug ...... flag to generate debugging information
</PRE>
states that any of the following are acceptable odin-expressions:
<PRE>
   prog.c :fmt +lib=(/usr/lib/network.a)
   prog.c :fmt +debug
   prog.c :fmt +debug +lib=(/usr/lib/network.a)
</PRE>

<P>
A more exact form of parameter help can be specified by indicating
which derivation you intend to apply to the parameterized object.
For example, the odin-command:
<PRE>
   -&gt; prog.c :fmt + ? :o
   Possible Parameters:
   debug ...... flag to generate debugging information
</PRE>
states that the following is an acceptable odin-expression:
<PRE>
   prog.c :fmt +debug :o
</PRE>
Since the <TT>+lib</TT> parameter is not relevant to the derivation
from <TT>:fmt</TT> to <TT>:o</TT>, it is not listed.

<P>

<H2><A NAME="SECTION00554000000000000000">
4.5.4 Variable Help</A>
</H2>

<P>
A list of the available variable names is generated in response
to the odin-command,
<PRE>
   -&gt; ? =
   Dir MaxBuilds BuildHosts Size KeepGoing History
   LogLevel ErrLevel WarnLevel HelpLevel VerifyLevel
</PRE>
A description of the possible values that can be assigned to a
given variable is generated in response to the odin-command:
<PRE>
   Variable = ?
</PRE>
For example, the odin-command:
<PRE>
   -&gt; LogLevel = ?
   0: No log information is generated.
   1: Build commands are echoed.
   2: And Odin commands.
   3: And names of objects with errors.
   4: And names of objects generated by tool scripts.
   5: And names of objects generated by internal tools.
   6: And names of objects deleted.
   7: And names of objects touched by broadcast.
</PRE>
describes the possible values of the <TT>LogLevel</TT> variable.

<P>

<P>

<H1><A NAME="SECTION00600000000000000000">
A. Dependency Database Utilities</A>
</H1>

<P>
Odin provides the following utilities for browsing and
modifying the dependency database:
<TT>:test</TT>, <TT>:redo</TT>, <TT>:inputs</TT>, <TT>:outputs</TT>,
<TT>:elements</TT>, <TT>:element-of</TT>, and <TT>:dpath</TT>.
These utilities are specified
following the exclamation point of an execute odin-command.
For example, the odin-command:
<PRE>
   -&gt; prog.c :o ! :redo
</PRE>
would invoke the <TT>:redo</TT> utility with <TT>prog.c:o</TT>
as its argument.

<P>
Unlike objects named in all other kinds of odin-commands,
the object specified as an argument to a database utility
is <EM>not</EM> made up-to-date before the database utility is executed.
If you wish the database utility to be executed on an up-to-date object,
first give the object as an argument to a query odin-command.
For example:
<PRE>
   -&gt; prog.c :o
   -&gt; prog.c :o ! :redo
</PRE>

<P>

<H1><A NAME="SECTION00610000000000000000">
A.1 Testing Host Files for Changes</A>
</H1>

<P>
Normally Odin checks all host files for changes
at the beginning of an Odin session and before each interactive
odin-command (Odin actually performs these checks lazily,
and will <TT>fstat()</TT> a file only when it is needed
as input to a tool).
It also checks a particular host file for changes after
it is used as the destination of a copy odin-command.

<P>
Odin's runtime efficiency can be significantly improved by setting
the Odin <TT>VerifyLevel</TT> variable to <TT>1</TT>
(see Section&nbsp;<A HREF="#verifylevel">4.4.7</A>).
In this mode, the user (or a tool such as the user's editor)
must notify Odin with the <TT>:test</TT> utility
whenever a file changes other than through a copy odin-command.

<P>
For example, the odin-command:
<PRE>
   -&gt; /usr/src/prog.c ! :test
</PRE>
causes Odin to check to see if <TT>/usr/src/prog.c</TT> has changed,
to determine whether objects derived from this file must be recomputed.
If no source is specified for the <TT>:test</TT> utility,
i.e. the odin-command is just:
<PRE>
   -&gt; ! :test
</PRE>
then all source files known to Odin are checked.

<P>
The Odin distribution includes an <TT>odin.el</TT> file
that extends the gnu-emacs editor to issue the appropriate
<EM>filename</EM><TT>!:test</TT> message whenever a file is saved.

<P>

<H1><A NAME="SECTION00620000000000000000">
A.2 Redoing a Particular Derivation Step</A>
</H1>

<P>
The <TT>:redo</TT> utility allows the user to tell Odin that
a particular step in a derivation should be recomputed
when it is next requested,
even if that step has already been computed and
inputs to that step have not changed.
For example, the odin-commands:
<PRE>
   -&gt; prog.c +debug :o ! :redo
   -&gt; prog.c +debug :o
</PRE>
causes Odin to redo the <TT>prog.c+debug:o</TT> step.
This utility is useful when a transient error in a derivation step occurs,
but the tool that implements the derivation step did not recognize it as
a transient error.

<P>

<H1><A NAME="SECTION00630000000000000000">
A.3 Browsing the Dependency Database</A>
</H1>

<P>
The <TT>:inputs</TT> utility displays the direct inputs to the
specified derived object.
The <TT>:outputs</TT> utility displays the direct outputs of the
specified object.
The <TT>:elements</TT> utility displays the elements of the
specified list.
The <TT>:element-of</TT> utility displays the lists that contain
the specified object as an element.
For example, the odin-command:
<PRE>
   -&gt; prog.c +debug :exe !: inputs
</PRE>
displays the input objects used to compute the derived object
<TT>prog.c+debug:exe</TT>.

<P>
The <TT>:dpath</TT> utility displays the dependency path from one object
to another (if there is one).
Normally, <TT>:dpath</TT> is applied to an object with a trailing
<TT>+depend</TT> parameter.  For example:
<PRE>
   prog.c :exe +depend=(/usr/include/stdio.h) ! :dpath
</PRE>
would display the dependency path from <TT>/usr/include/stdio.h</TT> to
<TT>prog.c:exe</TT>.

<P>
When browsing the dependency database, you may encounter certain internal
object types that you have not explicitly declared.  For example, if you have
declared a tool with multiple outputs, there will be an object whose
type ends with <TT>*composite</TT> which represents the set of output
objects from a single tool run.  Another example is a <TT>:abstract</TT>
object which is created for each <TT>:PIPE</TT> and <TT>:GENERIC</TT> object.

<P>

<H1><A NAME="SECTION00700000000000000000"></A>
<A NAME="library"></A><BR>
B. Tool Package Libraries
</H1>

<P>
In the Odin system, all information about tools, object types,
and parameter types
is specified in special directories called <EM>tool package libraries</EM>.
When a cache (see Section&nbsp;<A HREF="#cache">1.2.2</A>) is created,
<EM>tool packages</EM> from the tool package libraries
are installed in the cache.
A tool package is just a sub-directory of a tool package library,
where the name of the package is the name of the sub-directory.
The list of tool packages and the order in which they should be loaded
is specified in a file named <TT>PKGLST</TT> (one package name per line)
in the tool package library directory.

<P>
A default tool package library that is provided with the Odin distribution
is installed into every cache.
This default library is commonly located in <TT>/usr/local/lib/Odin</TT>.
Do not add, delete, or modify packages from this library.
This ensures that installation of newer versions of Odin will not
delete or overwrite any local modifications.

<P>
A user can have the packages from additional libraries installed
by specifying these libraries (separated by colons)
in the <TT>$ODINPATH</TT> environment variable.
For example, if a user sets the <TT>$ODINPATH</TT> variable to have the value
<TT>/project/lib/Odin:/home/geoff/my-pkg-lib</TT>,
then the packages from <TT>/project/lib/Odin</TT>,
from <TT>/home/geoff/my-pkg-lib</TT>, and from the default library
are installed into every cache the user creates.
If a package with a given name occurs in several package libraries,
the package from the library that occurs earliest in <TT>$ODINPATH</TT> is used.

<P>
The entries in <TT>$ODINPATH</TT> can also be individual tool packages
rather than tool package libraries,
in which case those packages are added to the list of packages to be
installed into the cache.

<P>

<H1><A NAME="SECTION00710000000000000000"></A>
<A NAME="package"></A><BR>
B.1 Tool Packages
</H1>

<P>
A tool package is a directory that contains a <EM>derivation graph</EM> file
and any support files that implement the tools
declared in the derivation graph.
If <TT>pkgx</TT> is the name of the tool package,
then <TT>pkgx.dg</TT> is the name of the derivation graph file.

<P>
The derivation graph is the mechanism for declaring
object types, parameter types, environment varables,
and tools for the tool package.
It is described in detail in Section&nbsp;<A HREF="#derivationgraph">B.2</A>.

<P>

<H2><A NAME="SECTION00711000000000000000">
B.1.1 Versioned Tool Packages</A>
</H2>

<P>
By default, a tool package is symbolically linked into each cache
in which it is installed.
Since the Odin system maintains the dependency of each build step
on the package scripts used by that build step,
a change to a build script will cause the recomputation of all
build steps that use that script.
In case the script change is an enhancement rather than a bug fix,
it is often preferable to allow each user to decide when to upgrade
his cache to use the new packages.

<P>
To provide this functionality,
a tool package library can contain a file named <TT>LIBVER</TT>
in addition to the tool package subdirectories.
The <TT>LIBVER</TT> file contains text of the form <TT>PKGVER.i</TT>,
where <TT>i</TT> is an integer.
Each tool package then contains a file named <TT>PKGVER.i</TT>
and a set of sub-directories,
with one sub-directory for each version of the tool package.
If changes to a package are made in the form of a new version,
these changes are not seen by a user until he resets his cache
with the <TT>-R</TT> option to the <TT>odin</TT> host-command.

<P>
The tool package version installed into a cache is
the one specifed by the <TT>PKGVER.i</TT> file.
For example, if <TT>LIBVER</TT> contained the text <TT>PKGVER.7</TT>,
and if a tool package directory named <TT>pkgx</TT>
contains three tool version directories named <TT>pkgx/1.0</TT>,
<TT>pkgx/1.1-beta</TT>, and <TT>pkgx/1.2</TT>,
and if the contents of the <TT>pkgx/PKGVER.7</TT> file
is the text <TT>1.1-beta</TT>,
then any new cache that installs <TT>pkgx</TT> 
installs the <TT>1.1-beta</TT> version of <TT>pkgx</TT>.

<P>
When a new version of the library is installed,
the <TT>i</TT> in <TT>PKGVER.i</TT> is incremented, e.g. to <TT>PKGVER.8</TT>,
and a <TT>PKGVER.8</TT> file is created in each of the package subdirectories.
The library can be reverted back to an earlier version of the packages
by editing the <TT>LIBVER</TT> file.

<P>

<H1><A NAME="SECTION00720000000000000000"></A>
<A NAME="derivationgraph"></A><BR>
B.2 Derivation Graphs
</H1>

<P>
A derivation graph consists of a sequence of
source, object type, parameter type, environment variable,
and tool declarations.
A source declaration associates a filename pattern with an object type.
An object type declaration associates an object type with a set of
supertypes.
A parameter type declaration associates a parameter type with an object type
for the parameter values.
An environment variable declaration specifies a default value
for an environment variable.
A tool declaration specifies the inputs and outputs of the tool,
where the inputs are object types, parameter types, odin-expressions,
and identifiers, and where the outputs are object types.

<P>
In the derivation graph, the following characters are special:
<PRE>
   &lt;whitespace&gt; # \ ' : + = ( ) / % ; ? * &lt; &gt; @ &amp; $
</PRE>
The quoting and commenting conventions for the derivation graph are the same
as those for odin-expressions (see Section&nbsp;<A HREF="#odinexpr">2.2</A>).

<P>

<H1><A NAME="SECTION00730000000000000000"></A>
<A NAME="sourcedecl"></A><BR>
B.3 Source Declarations
</H1>

<P>
A source declaration specifies the type for a host file
based on the filename of the host file.
It consists of a <EM>filename expression</EM>,
a right arrow (composed from an equal-sign and a right-angle-bracket),
and the name of a declared object type.
A filename expression consists either of an identifier followed by an asterisk
(i.e. all filenames that begin with that identifier),
an asterisk followed by an identifier
(i.e. all filenames that end with that identifier),
or just an asterisk (i.e. all filenames).
For example, the derivation graph entries:
<PRE>
   *.c   =&gt; :c;
   *.c.c =&gt; :cplusplus;
   s.*   =&gt; :sccs;
   *     =&gt; :FILE;
</PRE>
declare that the object type of a filename ending with <TT>.c</TT> is <TT>:c</TT>,
the object type of a filename ending with <TT>.c.c</TT> is <TT>:cplusplus</TT>,
the object type of a filename beginning with <TT>s.</TT> is <TT>:sccs</TT>,
and the object type of any filename is <TT>:FILE</TT>.

<P>
The following disambiguation rules are used to ensure
that every host file has a single object type:
if a host filename matches both a prefix filename expression
and a suffix filename expression, then the host file is an instance
of the prefix filename expression;
if a host filename matches two different prefix filename expressions
or two different suffix filename expressions,
then the host file is an instance of the longer filename expression.
For example, with the previous source declarations,
the following object types would be assigned:
<PRE>
   FILENAME           OBJECT-TYPE
   src/test.c         c
   src/test.c.c       cplusplus
   src/s.test.c.c     sccs
   src/test           FILE
</PRE>

<P>

<H1><A NAME="SECTION00740000000000000000"></A>
<A NAME="objecttype"></A><BR>
B.4 Object Type Declarations
</H1>

<P>
An object type declaration consists of
the object type being declared,
a <EM>help identifier</EM>,
a right arrow, and the <EM>direct supertypes</EM> of the type being declared.
For example, the derivation graph entries:
<PRE>
   :c 'C source code'? =&gt; :source;
   :source 'source code' =&gt; :FILE;
   :fmt 'formatted source code' =&gt; :FILE;
</PRE>
declare that
the direct supertype of <TT>:c</TT> is <TT>:source</TT>,
the direct supertype of <TT>:source</TT> is <TT>:FILE</TT>, and
the direct supertype of <TT>:fmt</TT> is <TT>:FILE</TT>.

<P>
The <EM>help identifier</EM> is used by the Odin help system to generate
messages about the installed types (see Section&nbsp;<A HREF="#help">4.5</A>).
The help identifier is followed by a question-mark to indicate that
it should be displayed in help messages.
The user can explictly request to see all help identifiers
by increasing the value of the Odin <TT>HelpLevel</TT> variable
(see Section&nbsp;<A HREF="#helplevel">4.4.6</A>).

<P>
An object type can be declared with multiple direct supertypes,
either in a single declaration or in separate declarations.
For example, the derivation graph entries:
<PRE>
   :fmt.c 'formatted version of C code' =&gt; :c;
   :fmt.c 'formatted version of C code' =&gt; :fmt;
</PRE>
and
<PRE>
   :fmt.c 'formatted version of C code' =&gt; :c :fmt;
</PRE>
are equivalent.

<P>
The <EM>supertypes</EM> of an object type are
the transitive closure of the direct supertypes
(i.e. the supertypes are the direct supertypes
and all supertypes of the direct supertypes).
For example, from the preceding object type declarations,
the supertypes of <TT>:fmt.c</TT> are <TT>:c</TT>, <TT>:fmt</TT>,
<TT>:source</TT>, and <TT>:FILE</TT>.

<P>
The supertypes of an object type help determine what objects
can be derived from an object of that type.
In particular, if the type of the object <TT>obj</TT> is <TT>:o</TT>,
then the odin-expression <TT>obj:deriv</TT> is valid
if <TT>:deriv</TT> is a supertype of <TT>:o</TT>,
if <TT>:deriv</TT> is the output of a tool
whose inputs can be derived from <TT>:o</TT>,
or if <TT>:deriv</TT> is a supertype of an object
that can be derived from <TT>:o</TT>.

<P>
In some rare circumstances, a tool produces an object of a specified type,
but this object should not be used to provide this type as an intermediate
step in derivations.
In this case, the output type of the tool should be declared to be
a <TT>base subtype</TT> of the specified type.
This is indicated by placing angle brackets around the supertype.
For example, the derivation graph entry:
<PRE>
   :dummy_main.c 'dummy main program for a C executable' =&gt; &lt;:c&gt;;
</PRE>
declares that the direct base supertype of <TT>:dummy_main.c</TT> is <TT>:c</TT>.
This states that derivations appropriate to objects of type
<TT>:c</TT> can be applied to objects of type <TT>:dummy_main.c</TT>,
but that a derived object of type <TT>:dummy_main.c</TT> cannot be used
for a derivation that must produce an object of type <TT>:c</TT>.

<P>

<H2><A NAME="SECTION00741000000000000000"></A>
<A NAME="builtin"></A><BR>
B.4.1 Built-In Supertypes
</H2>

<P>
The following object type declarations are built into the Odin system:
<PRE>
   :OBJECT 'any object'                                      =&gt; :OBJECT;
   :FILE 'a file'                                            =&gt; :OBJECT;
   :LIST 'a list'                                            =&gt; :OBJECT;
   :VOID 'an object with no value'                           =&gt; :OBJECT;
   :REFERENCE 'a reference'                                  =&gt; :OBJECT;
   :EXECUTABLE 'a file that should be executed when queried' =&gt; :FILE;
   :GENERIC 'a file whose type is based on its label'        =&gt; :FILE;
   :PIPE 'a file produced by a type-preserving tool'         =&gt; :FILE;
   :DERIVED-DIRECTORY 'a derived directory'                  =&gt; :FILE;
</PRE>
Every object type other than the built-in object types
must be a subtype of exactly one of
<TT>:FILE</TT>, <TT>:LIST</TT>, or <TT>:VOID</TT>.

<P>
If the type of an object is a subtype of <TT>:VOID</TT>,
the the object does not have a value.
These types are useful for declaring tools that do not generate an output file,
but do have side effects such as printing a file or writing a tape.

<P>
If the type of an object is a subtype of <TT>:REFERENCE</TT>,
then the object refers to another object.
Whenever a reference object is used,
such as when it is displayed or when it is given as input to a tool,
it is automatically dereferenced by Odin.

<P>
If the type of an object is a subtype of <TT>:EXECUTABLE</TT>,
when the object is specified in a query odin-command (see Section&nbsp;<A HREF="#query">4.1</A>),
the object is automatically executed
after it has been made up-to-date.
Executable types are analagous to executable targets
(see Section&nbsp;<A HREF="#executabletarget">2.4.1</A>).

<P>
If the type of an object is a subtype of <TT>:GENERIC</TT>,
then the object is a derived file whose type
is based on the root of the source file from which it is derived
(see Section&nbsp;<A HREF="#selection">2.2.2</A>).
A generic type is commonly produced as the result of a checkout
operation from a source control file
or as the result of an uncompress operation on a compressed file.
For example, if the root of <TT>prog.c.sm,v</TT> is <TT>prog.c.sm</TT>,
if the type of a file named <TT>prog.c.sm</TT> is <TT>:c.sm</TT>,
and if <TT>:checkout</TT> is declared in the derivation graph entry:
<PRE>
   :checkout 'version checked out of a version control file' =&gt; :GENERIC;
</PRE>
then the type of <TT>prog.c.sm,v :checkout</TT> is <TT>:c.sm</TT>.

<P>
If the type of an object is a subtype of <TT>:PIPE</TT>,
then the object is a derived file whose type is the same
as the input object to the tool that produced it.
For example, if <TT>:stdout</TT> is declared in the derivation graph entry:
<PRE>
   :stdout 'standard output file of a tool run' =&gt; :PIPE;
</PRE>
and if the type of <TT>prog.c</TT> is <TT>:c</TT>,
then the type of <TT>prog.c +cmd='sed s/a/b/' :stdout</TT> is also <TT>:c</TT>.

<P>
If the type of an object is a subtype of <TT>:DERIVED-DIRECTORY</TT>,
then the object must be a directory produced by a tool.

<P>

<H2><A NAME="SECTION00742000000000000000"></A>
<A NAME="builtindrv"></A><BR>
B.4.2 Built-In Derived Object Types
</H2>

<P>
<PRE>
   :err          'errors'                              =&gt; :FILE;
   :warn         'warnings'                            =&gt; :FILE;
   :targets      'targets in an Odinfile'              =&gt; :FILE;
   :name         'name of an object'                   =&gt; :FILE;
   :names        'names of the elements of a list'     =&gt; :FILE;
   :filename     'filename of a file'                  =&gt; :FILE;
   :ls           'filenames of the elements of a list' =&gt; :FILE;
   :cat          'concatenation of the contents of the elements of a list'
                                                       =&gt; :FILE;
   :first        'first element of a list'             =&gt; :OBJECT;
   :union        'list union'                          =&gt; :LIST;
   :id           'unique numeric id of an object'      =&gt; :FILE;
   :label        'label of an object'                  =&gt; :FILE;
   :labels       'labels of the elements of a list'    =&gt; :FILE;
   :dir          'directory containing a file'         =&gt; :REFERENCE;
   :vir_dir      'directory containing virtual files'  =&gt; :DERIVED-DIRECTORY;
   :depend       'source dependencies'                 =&gt; :LIST;
   :source_names 'source components of a system model' =&gt; :FILE;
   :operation_names 'operation components of a system model'
                                                       =&gt; :FILE;
   :view         'view from a view-path specification' =&gt; :LIST;
   :expand_hooks 'expand hooks'                        =&gt; :FILE;
   :apply        'apply operations'                    =&gt; :REFERENCE;
   :odin_help    'top level help for odin'             =&gt; :EXECUTABLE;
</PRE>

<P>
The <TT>:err</TT> derivation produces a text file from an arbitrary input object.
This text file contains all error messages generated by any tool
used in the process of creating the input object.
The <TT>:warn</TT> derivation produces a text file
that contains both warning and error messages.

<P>
An <TT>Odinfile</TT> can contain nested target definitions
(see Section&nbsp;<A HREF="#nestedtarget">2.6</A>).
The <TT>:targets</TT> derivation produces a flattened version
of the <TT>Odinfile</TT> containing all target definitions.

<P>
The <TT>:name</TT> derivation produces a text file that contains an
odin-expression that specifies the input object.
The <TT>:names</TT> derivation produces a text file from a list,
where the text file contains a sequence of odin-expressions
corresponding to the elements of the input object.

<P>
The <TT>:filename</TT> derivation produces a text file from a file,
where the text file contains the host filename of the input object.
The <TT>:ls</TT> derivation produces a text file from a list,
where the text file contains a sequence of host filenames
corresponding to the elements of the input object.
The filename of a string object is the identifier that names the string object.

<P>
The <TT>:cat</TT> derivation produces a text file from a list,
where the text file contains the concatenation of the contents
of the elements of the input object.
The contents of a string object is the identifier that names the string object.

<P>
The <TT>:first</TT> derivation produces an object from a list,
by selecting the first element of the list.
This derivations is primarily used in parameter type declarations.

<P>
The <TT>:union</TT> derivation produces a list from a list,
where each element in the input list appears exactly once in the output list.

<P>
The <TT>:id</TT> derivation generates a text file containing a unique
integer for the input object.
The <TT>:label</TT> derivation generates a text file containing
the label of the input object.
The <TT>:labels</TT> derivation produces a text file from a list,
where the text file contains a sequence of labels corresponding to
the elements of the input object.

<P>
The <TT>:dir</TT> derivation produces a reference object that refers to
the directory containing the input object.
If the input object is a derived object,
then <TT>:dir</TT> produces the directory that contains
the source object from which the input object is derived.

<P>
The <TT>:vir_dir</TT> derivation produces a derived directory
containing all the virtual targets defined in the input file.
For the syntax of a virtual target definition,
see Section&nbsp;<A HREF="#virtualtarget">2.3</A>.

<P>
The <TT>:depend</TT> derivation produces a list
from an arbitrary input object.
This list contains all source objects used in the process
of creating the input object.

<P>
The <TT>:source_names</TT> derivation produces a text file from a text file.
The format of the input text file is a sequence of odin-expressions
naming file objects.
The output text file contains just the initial source filename component
of each odin-expression (i.e. the first derivation or parameterization
operator and all subsequent operations are removed).
An example of such an input file would be:
<PRE>
   ../prog.c :fmt +debug
   test.c +inc_sp=(..)
</PRE>
The result of applying <TT>:source_names</TT> to this input file would be:
<PRE>
   ../prog.c
   test.c
</PRE>

<P>
The <TT>:operation_names</TT> derivation produces a text file from a text file.
The format of the input text file is a sequence of odin-expressions
naming file objects, one odin-expression per line.
The output text file contains any text following the initial source
filename component of each odin-expression (i.e. everything preceding
the first derivation or parameterization operator is removed).
An example of such an input file would be:
<PRE>
   ../prog.c :fmt +debug
   test.c +inc_sp=(..)
</PRE>
The result of applying <TT>:operation_names</TT> to this input file would be:
<PRE>
   :fmt +debug
   +inc_sp=(..)
</PRE>

<P>
The <TT>:view</TT> derivation produces a list from a text file.
The format of the text file is sequences of odin-expressions
naming file objects, where each sequence is terminated by
an odin-expression naming a string object.
An example of such an input file would be:
<PRE>
# the search sequence for test.h
   test.h
   test.h,v :co
   RCS/test.h,v :co
   = 'test.h'
# the search sequence for sys.h
   sys.h
   SCCS/s.sys.h :co
   = 'sys.h'
</PRE>
The <TT>:view</TT> list contains the first file from each sequence
whose status is greater than <TT>ERROR</TT>.
If none of the files in a particular sequence have the appropriate
status, the status of the <TT>:view</TT> object is set to <TT>ERROR</TT>,
unless the sequence is terminated by the empty string odin-expression:
<PRE>
   = ''
</PRE>
in which case that sequence is just ignored.
The <TT>:view</TT> derivation depends only on the file selected
from a given sequence and on the files preceding the
selected file in the given sequence.
This means that error messages from these preceding files
are included in <TT>:error</TT> reports for the <TT>:view</TT> object,
but any derived files following a selected files
from a given sequence are ignored when the <TT>:view</TT>
object is made up-to-date.

<P>
The <TT>:expand_hooks</TT> derivation produces a text file
from an input text file by expanding all <EM>hooks</EM> found in the input file.
A hook is a way of linking a message back to an appropriate area
in a source file that is relevant to understanding the given message.

<P>
A hook is text of the form:
<PRE>
   (| odin-expression | hooktype | hookdata |)
</PRE>
where <TT>odin-expression</TT> is the name of the object referenced by the hook,
<TT>hooktype</TT> is the type of the hook, and <TT>hookdata</TT> is the actual
reference.
In order to escape the delimiter `<TT>(|</TT>', `<TT>|</TT>', or `<TT>|)</TT>',
precede it with a backslash.

<P>
The <TT>:expand_hooks</TT> derivation
replaces all constructs of this form with the result of
applying <TT>:hooktype</TT> to the object specified by <TT>odin-expression</TT>.
The value of <TT>hookdata</TT> is placed in the <TT>+hookvalue</TT> parameter.
Hooks appearing in the hookdata string (<EM>nested hooks</EM>) are passed
unexpanded to the <TT>:hooktype</TT> tool.
The result of the <TT>:hooktype</TT> derivation should be
text that references the appropriate location in a source file.
This text can in turn contain additional hooks that will be expanded
(in particular, this allows for the expansion of nested hooks).

<P>
If <TT>:hooktype</TT> cannot be applied to the object specified by 
<TT>odin-expression</TT>,
Odin attempts to apply <TT>:hooktype</TT> to any object
from which this object can be derived.
If all attempts to apply <TT>:hooktype</TT> fail, the result of hook
expansion is the input text with the delimiters around the hook deleted.

<P>
The <TT>:apply</TT> derivation produces a reference object
from an input object and a <TT>+apply</TT> parameter.
The value of the <TT>+apply</TT> parameter is a file containing
an arbitrary sequence of selection, derivation, and parameterization
expressions, which are applied to the input object by the
<TT>:apply</TT> derivation.  For example, if the file <TT>apply.expr</TT>
contained the text:
<PRE>
   +debug :output /OUT.DAT
</PRE>
the two odin-expressions:
<PRE>
   prog.c +debug :output /OUT.DAT
   prog.c +apply=(apply.expr) :apply
</PRE>
would be equivalent.

<P>
The <TT>:odin_help</TT> derivation produces an executable file
from the current working directory.
This file is executed whenever the user requests help with the odin-command
<PRE>
   -&gt; ?
</PRE>
The <TT>:odin_help</TT> derivation can be overridden in a tool package
to provide a different response to this help command.

<P>

<H1><A NAME="SECTION00750000000000000000"></A>
<A NAME="parametertype"></A><BR>
B.5 Parameter Type Declarations
</H1>

<P>
A parameter type declaration consists of
the parameter type being declared,
a help identifier, a right arrow, and an object type.
When a parameter type is used as the input to a tool,
the list of values for that parameter type
is first derived to the specified object type.
For example, the derivation graph entries:
<PRE>
   +define 'a macro definition'     =&gt; :cat;
   +lib    'an object code library' =&gt; :ls;
   +debug  'debug flag'             =&gt; :first;
</PRE>
declare a <TT>+define</TT> parameter type whose values are <TT>:cat</TT>'ed,
a <TT>+lib</TT> parameter type whose values are <TT>:ls</TT>'ed,
and a <TT>+debug</TT> parameter type which is a flag.

<P>

<H1><A NAME="SECTION00760000000000000000"></A>
<A NAME="envvardecl"></A><BR>
B.6 Environment Variable Declarations
</H1>

<P>
An environment variable declaration consists of
the environment variable being declared,
a help identifier, an equal-sign, and either an identifier
or a parenthesized odin-expression.
The value following the equal-sign specifies
the default value for that variable.
For example, the derivation graph entries:
<PRE>
   $CC 'name of the C compiler' = 'gcc';

   $CC_HOME 'directory containing the C compiler tools' = '/usr/local/bin';
</PRE>
specify default values for <TT>$CC</TT> and <TT>$CC_HOME</TT>.
These values can then be overridden by corresponding values in the
environment when a particular cache is created or reset.
For example, if the value of <TT>$CC_HOME</TT> is defined to be
<TT>/usr/public/bin</TT> in the environment of the process 
that resets a cache,
then the value of <TT>$CC_HOME</TT> is <TT>/usr/public/bin</TT>
whenever it is used in odin-expressions or odin-commands
for that cache.

<P>
If the default value is a parenthesized odin-expression,
the expression is evaluated and the resulting filename is used as
the default value.

<P>
The current environment variables for a cache can be found
in <TT>$ODINCACHE/ENV</TT>.

<P>

<H1><A NAME="SECTION00770000000000000000"></A>
<A NAME="execdecl"></A><BR>
B.7 Tool Declarations
</H1>

<P>
A tool declaration consists of a tool name, the tool inputs,
a right arrow, and the tool outputs.
The tool name is either <TT>EXEC</TT>, <TT>COLLECT</TT>, <TT>READ-LIST</TT>,
or <TT>READ-REFERENCE</TT>.
A tool input is an identifier
or an <EM>input-expression</EM> in parentheses (see Section&nbsp;<A HREF="#input">B.7.1</A>).
A tool output is an object type in parentheses.

<P>
For example, the derivation graph entry:
<PRE>
   EXEC (/bin/yacc) -dv (:y) =&gt; (:y.tab.c) (:y.tab.h) (:y.output);
</PRE>
declares an <TT>EXEC</TT> tool that has inputs
<TT>(/bin/yacc)</TT>, <TT>-dv</TT>, and <TT>(:y)</TT>,
and that has outputs:
<TT>(:y.tab.c)</TT>, <TT>(:y.tab.h)</TT>, and <TT>(:y.output)</TT>.

<P>

<H2><A NAME="SECTION00771000000000000000"></A>
<A NAME="input"></A><BR>
B.7.1 Input-Expressions
</H2>

<P>
An <EM>input-expression</EM> is just like an odin-expression,
except that a <EM>derived input</EM> or a <EM>parameter input</EM>
can appear wherever a source filename can appear in an odin-expression.
A <EM>derived input</EM> consists of a declared object type (e.g. <TT>:o</TT>),
while a <EM>parameter input</EM> consists of a declared parameter type
(e.g. <TT>+debug</TT>).

<P>
An input-expression can contain references to
declared environment variables.
For example, the following derivation graph entries declare
and reference the environment variable <TT>$YACC_HOME</TT>:
<PRE>
   $YACC_HOME 'directory containing yacc' = '/bin';

   EXEC ($YACC_HOME/yacc) -dv (:y) =&gt; (:y.tab.c) (:y.tab.h) (:y.output);
</PRE>

<P>
An input-expression can contain <EM>second-order derivations</EM>.
A second-order derivation consists of a
<EM>second-order object type</EM> followed by an equal sign
and a derivation expression.
For example, the input-expression:
<PRE>
   :lookup=:o
</PRE>
contains the second-order object type <TT>:lookup</TT> whose
argument is the derivation <TT>:o</TT>.

<P>
The five second-order object types are <TT>:map</TT>, <TT>:recurse</TT>,
<TT>:extract</TT>, <TT>:delete</TT>, and <TT>:lookup</TT>.
The derivation <TT>:map=:type</TT> takes a list as input and produces
a list containing the application of <TT>:type</TT>
to each element of the input list.
The derivation <TT>:recurse=:type</TT> takes a list
as input and produces a list containing the application of
<TT>:type :recurse=:type</TT> to each element of the input list
to which <TT>:type</TT> can be applied, and just the original
element otherwise.  The derivation <TT>:recurse=:type</TT> can
also take a file as input, in which case the input is treated as
if it were a list containing that file as its only member.
The derivation <TT>:extract=:type</TT> takes a list as input and produces a list
containing each element of the input list that is a subtype of <TT>:type</TT>.
The derivation <TT>:delete=:type</TT> takes a list as input and produces a list
containing each element of the input list that is not a subtype of <TT>:type</TT>.
The derivation <TT>:lookup=:type</TT> takes an object as input and
produces a reference to an object
which is the application of <TT>:type</TT> to the input object,
except that each parameter value that is a reference or list
is replaced by the sequence of files contained by the reference
or list.

<P>

<H2><A NAME="SECTION00772000000000000000">
B.7.2 Ignoring the Status of a Tool Input</A>
</H2>

<P>
By default, a tool is not run if any of its inputs 
have <TT>ERROR</TT> status or less.
In case the tool should ignore the status of an input object,
an ampersand is appended to the declaration of that input.
For example, the derivation graph entry:
<PRE>
   EXEC (od.sh) (:FILE)&amp; =&gt; (:FILE);
</PRE>
declares that the <TT>od.sh</TT> tool does not care
what the status of the <TT>:FILE</TT> input object is.

<P>

<H2><A NAME="SECTION00773000000000000000">
B.7.3 Ignoring Changes to the Value of a Tool Input</A>
</H2>

<P>
If a tool only uses the name of an input file
or only uses the names of the elements of an input list,
then that input is marked with an at-sign.
In this case Odin ignores changes to the value(s) of the input object,
and only reruns the tool if the name(s) change.
For example, consider a tool that takes all relative names specified
in <TT>#include</TT> statements from an input file,
and forms the cross product of those names with a set of directory names
in a specified search path.
A derivation graph entry for such a tool is:
<PRE>
   EXEC (c_inc.sh) (:c) (+search_path)@ =&gt; (:c_inc);
</PRE>
This declares that <TT>c_incs.sh</TT> should be re-executed
if the <TT>:c</TT> file or the names in the <TT>+search_path</TT> parameter change,
but not if the contents of the directories in the search path change.

<P>

<H2><A NAME="SECTION00774000000000000000"></A>
<A NAME="exec"></A><BR>
B.7.4 EXEC Tool
</H2>

<P>
The <TT>EXEC</TT> tool passes its inputs to the Unix <TT>execl()</TT> system call
and expects its outputs to be placed in current working directory.
For example, the derivation graph entry:
<PRE>
   EXEC (/bin/ld) -o exe (:o) =&gt; (:exe);
</PRE>
declares that a file named <TT>exe</TT>
is produced in the current working directory by executing the C statement:
<PRE>
   status = execl("/bin/ld", "/bin/ld", "-o", "exe", "/xxx/filename.o");
</PRE>
where <TT>/xxx/filename.o</TT> is the name of a file with type <TT>:o</TT>.
When the <TT>execl()</TT> completes,
Odin moves all output files into the cache.

<P>
If the first argument (the program name) ends with the extension <TT>.lua</TT>, the <TT>execl()</TT> is replaced by an invocation of the script
using a built-in Lua interpreter.  See Appendix&nbsp;<A HREF="#ch:lualib">F</A> for a
list of additional functions provided by this interpreter.  All
references to <TT>execl()</TT> arguments below refer to the arguments to
the Lua script, passed in via <TT>arg</TT>, instead.  On UNIX, the script
is executed in a separate process.  On Windows, each script is
executed in a separate interpreter, but the interpreter shares the
process space with the Odin server.  Care must be taken to not disrupt
the operation of the server via externally loaded libraries.

<P>
An identifier input is passed to the <TT>execl()</TT> as a <TT>C</TT> string.

<P>
An input-expression is passed to the <TT>execl()</TT> as an absolute pathname
of the file named by the input-expression.
Any relative source filename in the input-expression refers to a file
in the same directory as the derivation graph file containing the type
expression.  For example, if an <TT>EXEC</TT> declaration in the
derivation graph file <TT>/usr/local/Odin/misc/1.0/misc.dg</TT> contains
the input <TT>(od.sh)</TT>,
then this input is passed to the <TT>execl()</TT> as
<TT>"/usr/local/Odin/misc/1.0/od.sh"</TT>.

<P>
The value of a derived or parameter input in the input-expression
depends on the input object to which the tool is being applied.
For example, in the odin-expression:
<PRE>
    prog.c +debug :exe
</PRE>
the input object to the <TT>:exe</TT> derivation is <TT>prog.c+debug</TT>.

<P>
Each derived input is replaced by a file that is
the result of applying the derived input object type to the input object.
For example, when the <TT>:exe</TT> object is
being computed for <TT>prog.c+debug:exe</TT>,
the <TT>:o</TT> derived input is replaced by the file
<TT>prog.c+debug:o</TT>.

<P>
Each parameter input is replaced by
the object resulting from applying the object type
specified in the parameter declaration for that parameter type,
to the list of values of all parameters
of that type associated with the input object.
As a special case,
if no parameters of that type are associated with the input object,
the parameter input is replaced by the empty string.

<P>
Each <TT>execl()</TT> is invoked in an empty directory provided by Odin,
and the tool is expected to put its output files in that directory.
The name of an output file should be the same as the type-name of
the output.  For example, the result of the <TT>execl()</TT> call
for the output <TT>(:exe)</TT> should be an output file named <TT>exe</TT>.

<P>
In addition to the declared outputs,
there are two standard output files named <TT>ERRORS</TT> and <TT>WARNINGS</TT>.
Fatal errors should be written to <TT>ERRORS</TT>,
while recoverable errors should be written to <TT>WARNINGS</TT>.
The <TT>ERRORS</TT> and <TT>WARNINGS</TT> files
are used by Odin to determine if error or warning status
should be set for the output of the tool.

<P>
Normally, the standard input of the <TT>execl()</TT> is assigned to
<TT>/dev/null</TT> and the standard output and error is assigned to
a temporary file that is written to the standard output of the
Odin client process after the <TT>execl()</TT> completes.
To aid in debugging of an <TT>EXEC</TT> tool,
if the Odin variable <TT>MaxBuilds</TT> is set to <TT>1</TT>,
the standard input, output, and error of the <TT>execl()</TT>
are those of the Odin client process.

<P>
If the exit status of the <TT>execl()</TT> call is non-zero,
Odin ignores the results of the <TT>execl()</TT>,
and aborts the current odin-command.
Non-zero exit status should therefore only be used to indicate
transient failures (such as memory or disk errors).
This means that most standard Unix tools must be wrapped in shell scripts,
so that normal error messages are sent to the file <TT>ERRORS</TT>
and only transient errors cause a non-zero exit status.

<P>
Since the Odin system caches the results of <TT>EXEC</TT> tools
and assumes the results are still valid if none of the input objects change,
the tool writer must ensure that all files referenced during a tool run
are specified as inputs to that tool.
In addition to explicit input files,
many tools use additional implicit input files whose names are specified
in the text of the explicit input to the tool.
It is necessary in these cases to provide a dependency scanning tool
that produces as output a list containing the names of all of these
additional input files.
These additional inputs are specified in the tool declaration
separated from the explicit inputs by the keyword <TT>NEEDS</TT>.
For example, the derivation graph entry:
<PRE>
   EXEC (cc.sh) (:c) (+cc_flags) NEEDS (:all_c_inc) =&gt; (:o);
</PRE>
declares that the script <TT>cc.sh</TT> uses as inputs an object of type <TT>:c</TT>
and a parameter of type <TT>+cc_flags</TT>,
and indirectly uses as input an object of type <TT>:all_c_incs</TT>.

<P>

<H2><A NAME="SECTION00775000000000000000">
B.7.5 COLLECT Tool</A>
</H2>

<P>
When the output type of a <TT>COLLECT</TT> tool declaration is a list,
the <TT>COLLECT</TT> tool produces a list whose elements are the input objects.
For example, the derivation graph entry:
<PRE>
   COLLECT (:c_inc) (:c_inc :map=:all_c_inc) =&gt; (:all_c_inc);
   :all_c_inc 'all c includes' =&gt; :LIST;
</PRE>
declares that <TT>:all_c_inc</TT> is a list that contains <TT>:c_inc</TT>
and the result of applying <TT>:all_c_inc</TT> to each element of <TT>:c_inc</TT>.

<P>
When the output type of a <TT>COLLECT</TT> tool declaration is a reference,
the <TT>COLLECT</TT> tool produces a reference to the input object.
For example, the derivation graph entry:
<PRE>
   COLLECT (:c +debug :o) =&gt; (:debug.o);
   :debug.o 'C compile with debug on' =&gt; :REFERENCE;
</PRE>
declares that <TT>:debug.o</TT> is a reference to an object that
results from applying <TT>+debug:o</TT> to a <TT>:c</TT> file.

<P>

<H2><A NAME="SECTION00776000000000000000">
B.7.6 READ-LIST Tool</A>
</H2>

<P>
The <TT>READ-LIST</TT> tool produces a list from an input object.
If the input object is a directory, this list contains all the files in
the directory.
If the input object is a file, this list contains
the objects named by the odin-expressions in the input file.
For example, the derivation graph entry:
<PRE>
   READ-LIST (:c.sm) =&gt; (:c.sm.list) ;
</PRE>
declares that <TT>:c.sm.list</TT> is the list specified by the contents of
a file of type <TT>:c.sm</TT>.

<P>

<H2><A NAME="SECTION00777000000000000000">
B.7.7 READ-REFERENCE Tool</A>
</H2>

<P>
The <TT>READ-REFERENCE</TT> tool produces a reference to
the object named by the single odin-expression in the input file.
For example, the derivation graph entry:
<PRE>
   READ-REFERENCE (:stub.name) =&gt; (:stub.ref) ;
</PRE>
declares that <TT>:stub.ref</TT> will be a reference
to the object named by the contents of
a file of type <TT>:stub.name</TT>.

<P>

<H1><A NAME="SECTION00800000000000000000">
C. Derivation Graph Syntax</A>
</H1>

<P>
<PRE>
DerivationGraph -&gt; DGEntry ';' DerivationGraph
                -&gt; ;

DGEntry         -&gt; 'BANNER' "Identifier"
                -&gt; 'INCLUDE' "Identifier"
                -&gt; Pattern '=' '&gt;' ObjectType
                -&gt; ObjectType Description '=' '&gt;' SuperType+
                -&gt; ParameterType Description '=' '&gt;' ObjectType
                -&gt; Variable Description '=' "Identifier"
                -&gt; Tool Arg+ Needs '=' '&gt;' Result+ ;

Pattern         -&gt; "Identifier" '*'
                -&gt; '*' "Identifier"
                -&gt; '*' ;

ObjectType      -&gt; ':' "Identifier" ;

ParameterType   -&gt; '+' "Identifier" ;

Description     -&gt; "Identifier" '?'
                -&gt; "Identifier" ;

Tool            -&gt; 'EXEC'
                -&gt; 'COLLECT'
                -&gt; 'READ-LIST'
                -&gt; 'READ-REFERENCE' ;

SuperType       -&gt; '&lt;' ObjectType '&gt;'
                -&gt; ObjectType ;

Needs           -&gt; 'NEEDS' Arg+
                -&gt; ;

Result          -&gt; '(' ObjectType ')' ;

Arg             -&gt; Word
                -&gt; FileArg
                -&gt; FileArg '@'
                -&gt; FileArg '&amp;' ;

FileArg         -&gt; '(' Root Operation* ')' ;

Root            -&gt; Word
                -&gt; ObjectType
                -&gt; ParameterType
                -&gt; '/'
                -&gt; '/' Word
                -&gt; '%' Word ;

Operation       -&gt; Parameter
                -&gt; ObjectType
                -&gt; ObjectType '=' ObjectType
                -&gt; '/' Word
                -&gt; '/'
                -&gt; '%' Word ;

Parameter       -&gt; ParameterType
                -&gt; ParameterType '=' PrmVal+ ;

PrmVal          -&gt; Word
                -&gt; FileArg ;

Word            -&gt; "Identifier"
                -&gt; Variable;

Variable        -&gt; '$' "Identifier";
</PRE>

<P>

<H1><A NAME="SECTION00900000000000000000">
D. Derivation Graph Example</A>
</H1>

<P>
<PRE>
# Source Types

*.c.sm =&gt; :c.sm ;

*.c =&gt; :c ;

*.o =&gt; :o ;


# Object Types

:c.sm 'system model'? =&gt; :FILE ;

:c 'C code'? =&gt; :FILE ;

:o 'object module'? =&gt; :FILE ;

:dir 'directory' =&gt; :REFERENCE ;

:c_inc 'potential C-style included files' =&gt; :LIST ;

:all_c_inc 'C-style transitively included files' =&gt; :LIST ;

:c.list 'c source code list for tools wanting list input' =&gt; :c.sm.list ;

:c.sm.list 'list' =&gt; :LIST ;

:fmt 'formatted version of C code' =&gt; :PIPE ;

:exe 'executable binary'? =&gt; :FILE ;


# Parameter Types

+search_path 'name of a directory in an include search path'? =&gt; :ls ;

+ignore 'prefix of dependencies to ignore'? =&gt; :ls ;

+debug 'debug switch'? =&gt; :first ;

+prof 'profiling switch'? =&gt; :first ;

+gnu 'use gnu tools'? =&gt; :first ;

+cc_flags 'flags for cc'? =&gt; :cat ;

+ld_flags 'flags for ld'? =&gt; :cat ;


# Environment Variables

$CC 'name of C compiler' = 'gcc';

$CC_HOME 'directory containing C compiler tools' = '/usr/local/bin';


# Tools

READ-LIST (:c.sm)
   =&gt; (:c.sm.list) ;

EXEC (indent.sh) (:c)
   =&gt; (:fmt) ;
 
EXEC (c_inc.sh) (:FILE) (:FILE :dir)@ (+search_path) (+ignore)
   =&gt; (:c_inc) ;

COLLECT (:c_inc :map=:all_c_inc) (:c_inc)
   =&gt; (:all_c_inc) ;

EXEC (cc.sh) (:c) (:c :dir)@ (+search_path)
 (+debug) (+prof) (+gnu) (+cc_flags) NEEDS (:all_c_inc)&amp; $CC $CC_HOME
   =&gt; (:o) ;

COLLECT (:c)
   =&gt; (:c.list) ;

EXEC (ld.sh) (:c.sm.list :map=:o) (+debug) (+gnu) (+prof) (+ld_flags)
   =&gt; (:exe) ;
</PRE>

<P>

<H1><A NAME="SECTION001000000000000000000">
E. Odin Tool Package Library</A>
</H1>

<P>
The following sections document the tool package library included in
the Odin distribution.  Each section documents a single package.

<P>

<H1><A NAME="SECTION001010000000000000000"></A><A NAME="sec:config"></A><BR>
E.1 config
</H1>

<P>
The <TT>config</TT> package is at version 1.18.0.
This package stores the results of initial configuration as initial
values for environment variables:

<P>

<UL>
<LI>$ODIN_VERSION_STR -- odin-build release number
</LI>
<LI>$ODIN_CC -- name of the C compiler
</LI>
<LI>$ODIN_CC_FLAGS -- C compiler flags
</LI>
<LI>$ODIN_CPP -- name of the C preprocessor
</LI>
<LI>$ODIN_CPP_FLAGS - C preprocessor flags
</LI>
<LI>$ODIN_CXX -- name of the C++ compiler
</LI>
<LI>$ODIN_CXX_FLAGS -- CC flags
</LI>
<LI>$ODIN_YACC -- name of the yacc compiler
</LI>
<LI>$ODIN_RANLIB -- archive symbol table program
</LI>
</UL>

<P>

<H1><A NAME="SECTION001020000000000000000"></A><A NAME="sec:odin"></A><BR>
E.2 odin
</H1>

<P>
The <TT>odin</TT> package is at version 1.19.0.
This package includes the main Odin executables.  Actions described in
this package are built-in to the Odin server.  In addition, this
package is home to the remote build server.  This can be overridden by
specifing a different $ODIN_RBSCMD (relative to the current cache's
package directory).  Its arguments are, in order, the remote host
name, the Odin cache directory name, the local host name, and the
local port number to which to connect.  The default command,
<TT>odin/rbs.sh</TT>, simply uses rsh to execute the
<TT>PKGS/odin/rbs.exe</TT> command out of the cache directory of the
remote host, with the local host name and port number as arguments.

<P>
The following environment variables directly affect Odin operation:

<UL>
<LI>$DUMPCORE -- whether to dump core when anomaly detected
</LI>
<LI>$ODIN_RBSCMD -- the name of the Odin remote-build-server
</LI>
<LI>$ODIN_SHORTNAMES -- use short cache filenames
</LI>
<LI>$ODIN_LOCALIPC -- use Unix domain interprocess communication
</LI>
<LI>$ODIN_SERVER -- internal use only: non-empty spawns a server
</LI>
<LI>$ODIN_SERVER_SHUTDOWN -- internal use only: non-empty causes
      client to send shutdown command to server
</LI>
<LI>$ODINCACHE -- the Odin cache directory.  The odin wrapper
      script normally sets this based on $ODIN and $ODINVIEW.
      $ODIN is a top-level directory for the cache, and $ODINVIEW is
      the directory under that (by default, these are
      <TT>$HOME/.ODIN</TT> and the local host name, respectively).
</LI>
</UL>

<P>
In addition, the following environment variables are available to tool
programs:

<UL>
<LI>$ODINVERBOSE -- if non-empty, a trace message should be
      printed to standard output.
</LI>
<LI>$ODINRBSHOST -- a prefix to prepend to any trace messages to
      indicate what host it is running on
</LI>
<LI>$ODINCACHE -- the Odin cache directory
</LI>
</UL>

<P>

<H2><A NAME="SECTION001021000000000000000">
E.2.1 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file) from source of type <TT>:OBJECT</TT> (Any object).
Given a path or an Odinfile, create a copy in the cache and return
the name of the copy.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions) from source of type <TT>:FILE</TT> (A file).
Given a path or an Odinfile, find all directly nested target
definitions.
</DD>
<DT><STRONG><TT>:all_targets_inc</TT></STRONG></DT>
<DD>(All nested target definitions) from source of type <TT>:targets_inc</TT> (Directly nested target definitions).
Given a path or an Odinfile, find all nested target definitions.
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile) from source of type <TT>:FILE</TT> (A file).
Given an input that is an Odinfile, convert all nested target
definitions into their constituent text
</DD>
<DT><STRONG><TT>:act_tgt.list</TT></STRONG></DT>
<DD>(Actual targets) from source of type <TT>:targets_ptr</TT> (Pointer to the targets file).
Given a path or an Odinfile, list all targets which map to real
files.
</DD>
<DT><STRONG><TT>:vir_tgt.list</TT></STRONG></DT>
<DD>(Virtual targets) from source of type <TT>:targets_ptr</TT> (Pointer to the targets file).
Given a path or an Odinfile, list all targets which are virtual or
are in virtual directories.
</DD>
<DT><STRONG><TT>:vir_dir</TT></STRONG></DT>
<DD>(A virtual directory) from source of type <TT>:vir_tgt.list</TT> (Virtual targets).
Produce a virtual directory containing all the given targets.  This
can be used to isolate targets into a directory for a tool.  Since
targets rename expressions, they can also be used to rename inputs.
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy) from source of type <TT>:OBJECT</TT> (Any object) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+copy_dest</TT></STRONG></DT>
<DD>&nbsp;
<BR>Where to copy
</DD>
</DL>
Copy the given file or directory to the target specified in
<TT>+copy_dest</TT>.
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command) from source of type <TT>:OBJECT</TT> (Any object) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+copy_dest_desc</TT></STRONG></DT>
<DD>&nbsp;
<BR>Where to copy
</DD>
</DL>
Copying in or out actually uses this.  The input object is the input
side of the copy, and the <TT>+copy_dest_desc</TT> is the output
side of the copy.  Internally, the <TT>:copy</TT> transformation is
used for each individual copy.
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values) from source of type <TT>:FILE</TT> (A file).
This is a helper to retrieve nested hooks.  It is normally not used
directly, but rather as a side effect of <TT>:expand_hooks</TT>.
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks) from source of type <TT>:nested_hooks</TT> (Nested hooks) with additional source of type <TT>:FILE</TT> (A file).
Given a file with hooks, expand all hooks into an output file.  A
hook could be more commonly called a cross-reference, or a mark.
A hook may be surrounded by other text.  Its syntax is:
<BLOCKQUOTE>
<I>hookdata</I> 
</BLOCKQUOTE>
Backslashes can be used to escape the delimiters.

<P>
The <I>odin-expression</I> is what derives the object being
referenced by the hook.  The <I>hooktype</I> derivation is applied
to the expression with the parameter <TT>+hookvalue</TT> set to the
<I>hookdata</I>, and the entire hook is replaced by the results.
Hooks are applied recursively; that is, if the replacement text
contains hooks, they are evaluated and replaced as well.

<P>
These hooks are normally used to transform error messages from various
formats to a standard format.
</DD>
<DT><STRONG><TT>:prm_values</TT></STRONG></DT>
<DD>(List of parameter values) from source of type <TT>:FILE</TT> (A file).
FIXME: document
</DD>
<DT><STRONG><TT>:first</TT></STRONG></DT>
<DD>(First object in a list) from source of type <TT>:LIST</TT> (A list).
Returns the first element of a list.  Often used in parameter
definitions to select a single value.
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors) from source of type <TT>:OBJECT</TT> (Any object).
All error messages produced by any tool used to create this object.
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings) from source of type <TT>:OBJECT</TT> (Any object).
All error and warning messages produced by any tool used to create
this object.
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file) from source of type <TT>:OBJECT</TT> (Any object).
Returns a reference to the directory containing the object, or, if
the object is derived, the directory containing the source object from
which it was derived.  Use <TT>:filename</TT> to manually
dereference. 
</DD>
<DT><STRONG><TT>:name</TT></STRONG></DT>
<DD>(Name of a file) from source of type <TT>:OBJECT</TT> (Any object).
Given any object, give a consise, unique Odin-expr which produces that
object.
</DD>
<DT><STRONG><TT>:names</TT></STRONG></DT>
<DD>(Names of the elements of a list) from source of type <TT>:LIST</TT> (A list).
Given a list of objects, give a consise, unique Odin-expr which
produces each object in the list, one expression per line.
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file) from source of type <TT>:FILE</TT> (A file).
Given a a derivation which produces a file, give that file's name.
For derived files, the name is that of the file in the cache.  For
literal strings, the string is its own name.
</DD>
<DT><STRONG><TT>:ls</TT></STRONG></DT>
<DD>(Filenames of the elements of a list) from source of type <TT>:LIST</TT> (A list).
Converts a list of derivations to a printed list of file names (as
per the <TT>:filename</TT> derivation), one per line.
</DD>
<DT><STRONG><TT>:cat</TT></STRONG></DT>
<DD>(Concatenation of the contents of the elements of a list) from source of type <TT>:LIST</TT> (A list).
Concatenates the contents of all files in the list to produce a single
output file.  The contents of a literal string are the literal string
itself.
</DD>
<DT><STRONG><TT>:union</TT></STRONG></DT>
<DD>(List union) from source of type <TT>:LIST</TT> (A list).
Removes duplicates from a list.
</DD>
<DT><STRONG><TT>:label</TT></STRONG></DT>
<DD>(Label of a file) from source of type <TT>:OBJECT</TT> (Any object).
Give the label (base filename plus type name modifications) of an
input object.
</DD>
<DT><STRONG><TT>:labels</TT></STRONG></DT>
<DD>(Labels of the elements of a list) from source of type <TT>:LIST</TT> (A list).
Give the label (<TT>:label</TT>) of each element of a list, one per
line. 
</DD>
<DT><STRONG><TT>:id</TT></STRONG></DT>
<DD>(Id of an object) from source of type <TT>:OBJECT</TT> (Any object).
Prints an object's unique decimal ID.
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies) from source of type <TT>:OBJECT</TT> (Any object).
List of all source files (including automatically added ones, like the
results of header and library scanning) that the given object
depends on.  If any object in this list changes, the object must be
rebuilt.
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model) from source of type <TT>:FILE</TT> (A file).
Given a file with one odin expr per line, each describing operations
on a source, return the names of the sources, one per line (i.e.,
strip all operations from the expressions).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model) from source of type <TT>:FILE</TT> (A file).
Given a file with one odin expr per line, each describing operations
on a source, return the the operations, one per line (i.e., strip all
source names from the expressions).
</DD>
<DT><STRONG><TT>:apply</TT></STRONG></DT>
<DD>(Apply operations from a file) from source of type <TT>:OBJECT</TT> (Any object) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+apply</TT></STRONG></DT>
<DD>&nbsp;
<BR>Operations to apply
</DD>
</DL>
The <TT>+apply</TT> parameter is required.  This derivation applies
the operations given by the <TT>+apply</TT> parameter.
</DD>
<DT><STRONG><TT>:odin_help</TT></STRONG></DT>
<DD>(Top level help for odin) from source (options only).
This produces an executable which is run when general help is
requested by the user.  By default, it is a simple program which
prints the Odin command syntax.  Override the one in odin if
different help is desired.

<P>
See also <TT>:prefix_help</TT>, <TT>:suffix_help</TT>,
<TT>:drv_help</TT>, and <TT>:prm_help</TT>.  There is no way to
override the help text for plain strings, type names in
mid-derivation, copy arguments, utility invocation, built-in
variables, path elements, secondary parameters, parameter arguments,
or second-order derivation types. 
</DD>
<DT><STRONG><TT>:prefix_help</TT></STRONG></DT>
<DD>(List of known prefixes) from source of type <TT>:OBJECT</TT> (Any object).
This derivation is invoked to print the list of all prefix file name
patterns.  Override the one in odin if different help is desired.
The input object is always () and may be ignored.
</DD>
<DT><STRONG><TT>:suffix_help</TT></STRONG></DT>
<DD>(List of known suffixes) from source of type <TT>:OBJECT</TT> (Any object).
This derivation is invoked to print the list of all file name suffix
patterns.  Override the one in odin if different help is desired.
The input parameter is always () and may be ignored.
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types) from source of type <TT>:OBJECT</TT> (Any object).
This derivation is invoked to print the list of all possible
derivations in response to <code>:?</code>.  If an object preceeds the
help request, it is passed in.
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types) from source of type <TT>:OBJECT</TT> (Any object) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+prm_help</TT></STRONG></DT>
<DD>&nbsp;
<BR>Derivation for which parameter types are applicable
</DD>
</DL>
This derivation is invoked to print the list of all possible
derivations in response to <code>+?</code>.  If an object preceeds the
help request, it is passed in.  If a derivation type follows the help
request, it is passed in using the <TT>+prm_help</TT> parameter.
</DD>
</DL>
<H1><A NAME="SECTION001030000000000000000"></A><A NAME="sec:vc"></A><BR>
E.3 vc
</H1>

<P>
The <TT>vc</TT> package is at version 1.12.0.
This package supports files in revision control systems (only RCS
and SCCS are supported).  The <TT>:try.co</TT> type in particular
can be parented by other version control systems to hook in.
However, it is likely that the <TT>:vc*view.source.spec</TT>
derivation needs to be overridden as well.

<P>

<H2><A NAME="SECTION001031000000000000000">
E.3.1 SCCS version control file</A>
</H2>

<P>
Files matching the pattern `<code>s.*</code>' are of type <TT>:sccs</TT> (SCCS version control file).
They may be used whenever a rule calls for a supertype of <TT>:sccs</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:sccs.co</TT></STRONG></DT>
<DD>(Version from a version control file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+date</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision date
</DD>
<DT><STRONG><TT>+rev</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision number
</DD>
</DL>
Check out a version from SCCS.  The parameters specify a version
other than the top.
</DD>
<DT><STRONG><TT>:sccs.log</TT></STRONG></DT>
<DD>(Log file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+date</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision date
</DD>
<DT><STRONG><TT>+rev</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision number
</DD>
</DL>
Get the SCCS information for a revision control file.  The
parameters specify information for a particular revision.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001032000000000000000">
E.3.2 A view-path system model</A>
</H2>

<P>
Files matching the pattern `<code>*,vw</code>' are of type <TT>:,vw</TT> (A view-path system model).
They may be used whenever a rule calls for a supertype of <TT>:,vw</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:view.source.spec</TT></STRONG></DT>
<DD>(Specification of all possible source files in the view) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+view_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an view search path
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_VC_RCS</TT></STRONG></DT>
<DD>&nbsp;
<BR>Look for RCS files in viewpath
(default 'yes')
</DD>
<DT><STRONG><TT>$ODIN_VC_SCCS</TT></STRONG></DT>
<DD>&nbsp;
<BR>Look for SCCS files in viewpath
(default 'yes')
</DD>
</DL>
Convert a list of odin expressions into a view spec that includes potential
RCS and SCCS sources.
</DD>
<DT><STRONG><TT>:view.names</TT></STRONG></DT>
<DD>(Names of files in the view) with additional source of type <TT>:view.source.spec</TT> (Specification of all possible source files in the view).
Convert any file names in a list of odin expressions into one which
references RCS and SCCS sources, if present.
</DD>
<DT><STRONG><TT>:vw.of</TT></STRONG></DT>
<DD>(Odinfile containing the view versions) with additional source of type <TT>:view.names</TT> (Names of files in the view).
Convert a list of odin expressions into a virtual directory spec where
RCS and SCCS sources have been accounted for.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001033000000000000000">
E.3.3 RCS version control file</A>
</H2>

<P>
Files matching the pattern `<code>*,v</code>' are of type <TT>:,v</TT> (RCS version control file).
They may be used whenever a rule calls for a supertype of <TT>:,v</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:log</TT></STRONG></DT>
<DD>(Log file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+date</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision date
</DD>
<DT><STRONG><TT>+rev</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision number
</DD>
<DT><STRONG><TT>+state</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision state
</DD>
<DT><STRONG><TT>+who</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision author
</DD>
</DL>
Get the RCS information for a revision control file.  The parameters
specify information for a particular revision.
</DD>
<DT><STRONG><TT>:co</TT></STRONG></DT>
<DD>(Version from a version control file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+date</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision date
</DD>
<DT><STRONG><TT>+rev</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision number
</DD>
<DT><STRONG><TT>+state</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision state
</DD>
<DT><STRONG><TT>+who</TT></STRONG></DT>
<DD>&nbsp;
<BR>Revision author
</DD>
</DL>
Check out a version from RCS.  The parameters specify a version
other than the top.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001034000000000000000">
E.3.4 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:vw.dir</TT></STRONG></DT>
<DD>(A directory containing the view versions) from source of type <TT>:vw.of</TT> (Odinfile containing the view versions).
Convert a virtual directory spec where RCS and SCCS sources have been
accounted for into a virtual directory.
</DD>
</DL>
<H1><A NAME="SECTION001040000000000000000"></A><A NAME="sec:code"></A><BR>
E.4 code
</H1>

<P>
The <TT>code</TT> package is at version 1.12.0.
This package supports object file management.

<P>

<H2><A NAME="SECTION001041000000000000000">
E.4.1 System model of source code files</A>
</H2>

<P>
Files matching the pattern `<code>*.sm</code>' are of type <TT>:sm</TT> (System model of source code files).
They may be used whenever a rule calls for a supertype of <TT>:sm</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001042000000000000000">
E.4.2 Object library archive</A>
</H2>

<P>
Files matching the pattern `<code>*.a</code>' are of type <TT>:a</TT> (Object library archive).
They may be used whenever a rule calls for a supertype of <TT>:a</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001043000000000000000">
E.4.3 Object module</A>
</H2>

<P>
Files matching the pattern `<code>*.o</code>' are of type <TT>:o</TT> (Object module).
They may be used whenever a rule calls for a supertype of <TT>:o</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:o_src</TT></TD>
<TD ALIGN="LEFT">Source code for object module</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001044000000000000000">
E.4.4 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:code.list</TT></STRONG></DT>
<DD>(List of code files) from source of type <TT>:sm.list</TT> (List of files in a system model).
Flatten any system model file references in a system model list, recursively.
</DD>
<DT><STRONG><TT>:o_of</TT></STRONG></DT>
<DD>(Odinfile containing the object modules) from source of type <TT>:code.list</TT> (List of code files).
Turn a list of code files into an Odinfile to map the code files
which can produce object files from their full type name to their
abbreviated name used elsewhere.
</DD>
<DT><STRONG><TT>:a</TT></STRONG></DT>
<DD>(Object library archive) from source of type <TT>:o_of</TT> (Odinfile containing the object modules) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>$ODIN_RANLIB</TT></STRONG></DT>
<DD>&nbsp;
<BR>Archive symbol table program
(default from initial Odin configuration)
</DD>
</DL>
Generate an archive of the specified object files, using ar.
If $ODIN_RANLIB is non-empty, run it on the archive as well.
</DD>
<DT><STRONG><TT>:libraries.view_desc</TT>, <TT>:library_flags</TT></STRONG></DT>
<DD>(Library view description, Library command line flags) from source (options only) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+lib</TT></STRONG></DT>
<DD>&nbsp;
<BR>A library name
(may be given more than once)
</DD>
<DT><STRONG><TT>+lib_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an library search path
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_LIB_SP</TT></STRONG></DT>
<DD>&nbsp;
<BR>Default library search path
(default '/lib /usr/lib')
</DD>
</DL>
Generate dependency information and library flags from +lib and
+lib_sp arguments.  The +lib arguments can be command-line options
(preceeded by dashes), absolute paths to library files (which are
added to the dependencies), and library base names (for use with the
-l option).  The latter are converted to dependencies based on the
 library path and added as options with -l.  The file associated
 with their dependency is assumed to be lib&lt;name&gt;.&lt;ext&gt;, where
 &lt;ext&gt; is one of a, so, or sl, or one of those with two or more
 numeric extensions.
</DD>
<DT><STRONG><TT>:libraries</TT></STRONG></DT>
<DD>(Library references) from source of type <TT>:libraries.view_desc</TT> (Library view description).
Converts view descriptor's valid entries into the list of libraries.
</DD>
</DL>
<H1><A NAME="SECTION001050000000000000000"></A><A NAME="sec:cc"></A><BR>
E.5 cc
</H1>

<P>
The <TT>cc</TT> package is at version 1.13.0.
This package supports compiling C code.  It includes the C dependency
scanner and pretty printer, as well.

<P>

<H2><A NAME="SECTION001051000000000000000">
E.5.1 System model for a C program</A>
</H2>

<P>
Files matching the pattern `<code>*.c.sm</code>' are of type <TT>:c.sm</TT> (System model for a C program).
They may be used whenever a rule calls for a supertype of <TT>:c.sm</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CC_I</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing default C include files
(default '/usr/include')
</DD>
<DT><STRONG><TT>$ODIN_IGNORE</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(default '/usr/include')
</DD>
</DL>
Convert a file to a list of possible include files.  This is for
anything that preprocess with cpp.  Note that it does not support
filtering by definitions or commented-out lines.  The output format
is compatible with the built-in :view transformation; all groups are
terminated by the empy string, so if an include file cannot be
found, it is ignored.

<P>
Any filenames which match the egrep pattern in the +ignore parameter(s)
or the $ODIN_IGNORE variable are filtered out.  Generally, ODIN_IGNORE
should include the system directories, like /usr/include.

<P>
The +inc_sp parameter specifies search paths; multiple options add
more paths in the order given.  Spaces are not supported in search
paths.  The $ODIN_CC_I variable is intended to be cpp's built-in
search path, which is appended to the search list.  +home is
simply an alternate, single-entry option to prepend to the path.
For local includes (using "" instead of &lt;&gt;), the file's source
directory is prepended to the path as well.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001052000000000000000">
E.5.2 Executable binary</A>
</H2>

<P>
Files matching the pattern `<code>*.exe</code>' are of type <TT>:exe</TT> (Executable binary).
They may be used whenever a rule calls for a supertype of <TT>:exe</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:profile</TT></STRONG></DT>
<DD>(Execution profile).  See section <A HREF="#sec:prof">E.15</A> ([sec:prof]prof).
</DD>
<DT><STRONG><TT>:dbx</TT></STRONG></DT>
<DD>(Symbolic debugger run).  See section <A HREF="#sec:dbx">E.20</A> ([sec:dbx]dbx).
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CC_I</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing default C include files
(default '/usr/include')
</DD>
<DT><STRONG><TT>$ODIN_IGNORE</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(default '/usr/include')
</DD>
</DL>
Convert a file to a list of possible include files.  This is for
anything that preprocess with cpp.  Note that it does not support
filtering by definitions or commented-out lines.  The output format
is compatible with the built-in :view transformation; all groups are
terminated by the empy string, so if an include file cannot be
found, it is ignored.

<P>
Any filenames which match the egrep pattern in the +ignore parameter(s)
or the $ODIN_IGNORE variable are filtered out.  Generally, ODIN_IGNORE
should include the system directories, like /usr/include.

<P>
The +inc_sp parameter specifies search paths; multiple options add
more paths in the order given.  Spaces are not supported in search
paths.  The $ODIN_CC_I variable is intended to be cpp's built-in
search path, which is appended to the search list.  +home is
simply an alternate, single-entry option to prepend to the path.
For local includes (using "" instead of &lt;&gt;), the file's source
directory is prepended to the path as well.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001053000000000000000">
E.5.3 C source code</A>
</H2>

<P>
Files matching the pattern `<code>*.c</code>' are of type <TT>:c</TT> (C source code).
They may be used whenever a rule calls for a supertype of <TT>:c</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:o_src</TT></TD>
<TD ALIGN="LEFT">Source code for object module</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:o</TT></STRONG></DT>
<DD>(Object module) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+cc_home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C compiler
</DD>
<DT><STRONG><TT>+gnu</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use gnu tools
</DD>
<DT><STRONG><TT>+debug</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug switch
</DD>
<DT><STRONG><TT>+prof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag
</DD>
<DT><STRONG><TT>+optimize</TT></STRONG></DT>
<DD>&nbsp;
<BR>Optimization flag
</DD>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
<DT><STRONG><TT>+cc</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C compiler
</DD>
<DT><STRONG><TT>+cc_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for cc
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CC</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C compiler
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CC_DEBUGF</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug flag for C compiler
(default '-g')
</DD>
<DT><STRONG><TT>$ODIN_CC_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>C compiler flags
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CC_HOME</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C compiler
(default '')
</DD>
</DL>
This compiles C code into object code.  Its options are passed to
the C compiler as follows:

<P>

<UL>
<LI>+gnu, +cc, and $ODIN_CC may specify the compiler, in that
      order.  +gnu is merely a shortcut for +cc=gcc.  The compiler
      is parsed into command-line elements like a shell command.  The
      search path is +cc_home, $ODIN_CC_HOME, and the path from the last
      cache reset, in that order.  The default value of ODIN_CC is set
      in the config package when Odin is first configured.
</LI>
<LI>Specifying +debug adds the debugger option specified by
      $ODIN_CC_DEBUGF, which defaults to -g.
</LI>
<LI>Specifying +prof adds the profiling option -pg.
</LI>
<LI>Specifying +optimize=&lt;type&gt; adds the optimization option
      -O&lt;type&gt;.
</LI>
<LI>For each +define parameter, a -D&lt;parm&gt; option is added.  Note
      that spaces are not supported: they separated multiple
      parameters.  This is not a problem when only defining the
      symbol, but may require work for defining its value.
</LI>
<LI>For each +inc_sp parameter, a -I&lt;parm&gt; option is added.  Once
      again, spaces are not supported.
</LI>
<LI>Finally, the parameter +cc_flags and the variable
      $ODIN_CC_FLAGS specify any other options, in that order.
      These are parsed in a shell-like manner.  Any flags whic could
      be specified using the more specific options should be used
      instead for compatibility.
</LI>
<LI>Actually, there is one more set of parameters:  -c to specify
      only an object file, and -o &lt;output&gt; to create the appropriate
      output file.
</LI>
</UL>

<P>
When the compiler is run, all standard output is printed directly to
the user.  Any standard error messages are collected as warnings or
errors.  Which of the two they are is determined by the compiler's
return code:  success produces warnings, and failure produces errors.
</DD>
<DT><STRONG><TT>:fmt</TT></STRONG></DT>
<DD>(Formatted version).
This runs the C code through indent, with no special options.
</DD>
<DT><STRONG><TT>:c.h</TT></STRONG></DT>
<DD>(C function declarations) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
</DL>
This is an obsolete transformation that will be removed soon.  It
attempts to produce prototypes, but it does not use the C definitions
and include path, and its pattern for finding functions only extracts
functions with just a type name followed by a function name on a
separate line with no space between the name and the opening
parentheses.
</DD>
<DT><STRONG><TT>:ln</TT>, <TT>:lint1.log</TT></STRONG></DT>
<DD>(Local static semantic analysis of C code, Messages from first phase of lint).  See section <A HREF="#sec:lint">E.16</A> ([sec:lint]lint).
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CC_I</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing default C include files
(default '/usr/include')
</DD>
<DT><STRONG><TT>$ODIN_IGNORE</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(default '/usr/include')
</DD>
</DL>
Convert a file to a list of possible include files.  This is for
anything that preprocess with cpp.  Note that it does not support
filtering by definitions or commented-out lines.  The output format
is compatible with the built-in :view transformation; all groups are
terminated by the empy string, so if an include file cannot be
found, it is ignored.

<P>
Any filenames which match the egrep pattern in the +ignore parameter(s)
or the $ODIN_IGNORE variable are filtered out.  Generally, ODIN_IGNORE
should include the system directories, like /usr/include.

<P>
The +inc_sp parameter specifies search paths; multiple options add
more paths in the order given.  Spaces are not supported in search
paths.  The $ODIN_CC_I variable is intended to be cpp's built-in
search path, which is appended to the search list.  +home is
simply an alternate, single-entry option to prepend to the path.
For local includes (using "" instead of &lt;&gt;), the file's source
directory is prepended to the path as well.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001054000000000000000">
E.5.4 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:c.one.list</TT></STRONG></DT>
<DD>(List of a single C file) from source of type <TT>:c</TT> (C source code).
Convert a C file name into a list of filenames
</DD>
<DT><STRONG><TT>:c_inc</TT></STRONG></DT>
<DD>(List of potential C-style included files) from source of type <TT>:c_inc.view_desc</TT> (View description of C-style included files).
This processes the :c_inc.view_desc entries, filtering them for
existence and making them into a list.
</DD>
<DT><STRONG><TT>:all_c_inc</TT></STRONG></DT>
<DD>(List of C-style transitively included files) from source of type <TT>:c_inc</TT> (List of potential C-style included files).
This recursively scans all entries of the list, producing more
:c_inc and appending them to the list.
</DD>
<DT><STRONG><TT>:exe</TT></STRONG></DT>
<DD>(Executable binary) from source of type <TT>:o_of</TT> (Odinfile containing the object modules) with additional source of type <TT>:library_flags</TT> (Library command line flags) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+cc_home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C compiler
</DD>
<DT><STRONG><TT>+gnu</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use gnu tools
</DD>
<DT><STRONG><TT>+purify</TT></STRONG></DT>
<DD>&nbsp;
<BR>Purify flag
(may be given more than once)
</DD>
<DT><STRONG><TT>+debug</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug switch
</DD>
<DT><STRONG><TT>+prof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag
</DD>
<DT><STRONG><TT>+eprof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag for linking
</DD>
<DT><STRONG><TT>+cc</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C compiler
</DD>
<DT><STRONG><TT>+ld_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for ld
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CC</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C compiler
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CC_DEBUGF</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug flag for C compiler
(default '-g')
</DD>
<DT><STRONG><TT>$ODIN_CC_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>C compiler flags
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CC_HOME</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C compiler
(default '')
</DD>
</DL>
This runs the linker on C code.  Note that the linker in this case
is the C compiler without the -c option.  Its options are passed to
the C compiler as follows:

<P>

<UL>
<LI>+gnu, +cc, and $ODIN_CC may specify the compiler, as with :c
      to :o.  In addition, purify may be run by selecting +purify;
      the multiple +purify options are concatenated and prepended to
      the linker command.  When done, any extra result files from
      purity are removed.  As with individual C compilation, the
      search path is determined by the +cc_home parameter, the
      $ODIN_CC_HOME variable, and the path from the last cache reset,
      in that order.
</LI>
<LI>Specifying +debug and +prof work the same way as with :c to
      :o.  The +eprof flag is unused.
</LI>
<LI>Then, any generic opions are added from +ld_flags and
      ODIN_CC_FLAGS, respectively.  Spaces are interpreted as
      separators regardless for these two as well.
</LI>
<LI>Finally, any +libs parameters are turned into appropriate -l
      parameters and tacked on, in the order they were found.
</LI>
</UL>
</DD>
</DL>
<H1><A NAME="SECTION001060000000000000000"></A><A NAME="sec:cpp"></A><BR>
E.6 cpp
</H1>

<P>
The <TT>cpp</TT> package is at version 1.13.0.
This package supports running arbitrary files through the C
preprocessor.

<P>

<H2><A NAME="SECTION001061000000000000000">
E.6.1 Cpp input</A>
</H2>

<P>
Files matching the pattern `<code>*,c</code>' are of type <TT>:cpp_in</TT> (Cpp input).
They may be used whenever a rule calls for a supertype of <TT>:cpp_in</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:gnc.cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CPP</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C preprocessor
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CPP_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>C preprocessor flags
(default from initial Odin configuration)
</DD>
</DL>
Run the C preprocessor on a file, changing its type according to its
file name pattern after stripping the ,c extension.  The
preprocessor is defined by the $ODIN_CPP environment variable.
Options are passed as follows: 

<UL>
<LI>For each +define parameter, a -D&lt;parm&gt; option is added.  Note
      that spaces are not supported: they separated multiple
      parameters.  This is not a problem when only defining the
      symbol, but may require work for defining its value.
</LI>
<LI>For each +inc_sp parameter, a -I&lt;parm&gt; option is added.  Once
      again, spaces are not supported.
</LI>
<LI>The environment variable $ODIN_CPP_FLAGS is then appended.
</LI>
</UL>
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CPP</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C preprocessor
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CPP_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>C preprocessor flags
(default from initial Odin configuration)
</DD>
</DL>
Run the C preprocessor on a file, retaining its type.  The C
preprocessor is defined by the $ODIN_CPP environment variable.
Options are passed as follows:

<UL>
<LI>For each +define parameter, a -D&lt;parm&gt; option is added.  Note
      that spaces are not supported: they separated multiple
      parameters.  This is not a problem when only defining the
      symbol, but may require work for defining its value.
</LI>
<LI>For each +inc_sp parameter, a -I&lt;parm&gt; option is added.  Once
      again, spaces are not supported.
</LI>
<LI>The environment variable $ODIN_CPP_FLAGS is then appended.
</LI>
</UL>
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H1><A NAME="SECTION001070000000000000000"></A><A NAME="sec:cxx"></A><BR>
E.7 cxx
</H1>

<P>
The <TT>cxx</TT> package is at version 1.13.0.
This package supports compiling C++ code.  It includes the C++
depency scanner as well.

<P>

<H2><A NAME="SECTION001071000000000000000">
E.7.1 System model for a C++ program</A>
</H2>

<P>
Files matching the pattern `<code>*.c++.sm</code>', `<code>*.c++.sm</code>', `<code>*.c++.sm</code>', `<code>*.c++.sm</code>' or, `<code>*.c++.sm</code>' are of type <TT>:cxx.sm</TT> (System model for a C++ program).
They may be used whenever a rule calls for a supertype of <TT>:cxx.sm</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CXX_I</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing default C++ include files
(default '/usr/lib/CC/include')
</DD>
<DT><STRONG><TT>$ODIN_IGNORE</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(default '/usr/include')
</DD>
</DL>
Convert a file to a list of possible include files.  This is for
anything that preprocesses with cpp.  Note that it does not support
filtering by definitions of commented-out lines.  The output format
is compatible with the built-in :view transformation; all groups are
terminated by the empy string, so if an include file cannot be
found, it is ignored.

<P>
Any filenames which match the egrep pattern in the +ignore parameter(s)
or the $ODIN_IGNORE variable are filtered out.  Generally, ODIN_IGNORE
should include the system directories, like /usr/include.

<P>
The +inc_sp parameter specifies search paths; multiple options add
more paths in the order given.  Spaces are not supported in search
paths.  The $ODIN_CXX_I variable is intended to be cpp's built-in
search path, which is appended to the search list.  +home is
simply an alternate, single-entry option to prepend to the path.
For local includes (using "" instead of &lt;&gt;), the file's source
directory is prepended to the path as well.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001072000000000000000">
E.7.2 C++ source code</A>
</H2>

<P>
Files matching the pattern `<code>*.c++</code>', `<code>*.c++</code>', `<code>*.c++</code>' or, `<code>*.c++</code>' are of type <TT>:cxx</TT> (C++ source code).
They may be used whenever a rule calls for a supertype of <TT>:cxx</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:o_src</TT></TD>
<TD ALIGN="LEFT">Source code for object module</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:o</TT></STRONG></DT>
<DD>(Object module) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+gnu</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use gnu tools
</DD>
<DT><STRONG><TT>+debug</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug switch
</DD>
<DT><STRONG><TT>+prof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag
</DD>
<DT><STRONG><TT>+optimize</TT></STRONG></DT>
<DD>&nbsp;
<BR>Optimization flag
</DD>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
<DT><STRONG><TT>+cxx</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C++ compiler
</DD>
<DT><STRONG><TT>+cxx_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for C++ compilation
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CXX</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C++ compiler
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CXX_DEBUGF</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug flag for C++ compiler
(default '-g')
</DD>
<DT><STRONG><TT>$ODIN_CXX_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>CC flags
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CXX_HOME</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C++ compiler
(default '')
</DD>
<DT><STRONG><TT>$ODIN_CXX_LD_LIBRARY_PATH</TT></STRONG></DT>
<DD>&nbsp;
<BR>Load library path for C++
(default '/usr/lib/CC')
</DD>
<DT><STRONG><TT>$ODIN_CXX_PTR</TT></STRONG></DT>
<DD>&nbsp;
<BR>Template repository directory
(default '1')
</DD>
</DL>
This compiles C++ code into object code.  Its options are passed to
the C++ compiler as follows:

<P>

<UL>
<LI>The ODIN_CXX_LD_LIBRARY_PATH environment variable, if non-empty,
      is added to LD_LIBRARY_PATH before calling the compiler.  This
      should only be set if the compiler requires it.
</LI>
<LI>+gnu, +cxx, and $ODIN_CXX may specify the compiler, in that
      order.  +gnu is merely a shortcut for +cxx=g++.  The compiler
      is parsed into command-line elements like a shell command.  The
      search path is $ODIN_CXX_HOME, and the path from the last
      cache reset, in that order.  The default value of ODIN_CXX is set
      in the config package when Odin is first configured.
</LI>
<LI>Setting $ODIN_CXX_PTR to 1 will enable passing the obsolete
      Sun CC compiler's -ptr option with a directory created for this
      compilation.  It should not be set for newer Sun C compilers or any
      other compilers, for that matter.
</LI>
<LI>Specifying +debug adds the debugger option specified by
      $ODIN_CXX_DEBUGF, which defaults to -g.
</LI>
<LI>Specifying +prof adds the profiling option -pg.
</LI>
<LI>Specifying +optimize=&lt;type&gt; adds the optimization option
      -O&lt;type&gt;.
</LI>
<LI>For each +define parameter, a -D&lt;parm&gt; option is added.  Note
      that spaces are not supported: they separated multiple
      parameters.  This is not a problem when only defining the
      symbol, but may require work for defining its value.
</LI>
<LI>For each +inc_sp parameter, a -I&lt;parm&gt; option is added.  Once
      again, spaces are not supported.
</LI>
<LI>Finally, the parameter +cc_flags and the variable
      $ODIN_CXX_FLAGS specify any other options, in that order.
      These are parsed in a shell-like manner.  Any flags whic could
      be specified using the more specific options should be used
      instead for compatibility.
</LI>
<LI>Actually, there is one more set of parameters:  -c to specify
      only an object file, and -o &lt;output&gt; to create the appropriate
      output file.
</LI>
</UL>

<P>
When the compiler is run, all standard output is printed directly to
the user.  Any standard error messages are collected as warnings or
errors.  Which of the two they are is determined by the compiler's
return code:  success produces warnings, and failure produces errors.
A few error messages related to potentially transient memory errors
will result in a transient error that can be retried later without
forcing it.  Messages without the substring ``arning'' are not
considered warnings, and will not set the warning status.
</DD>
</DL>
<H2><A NAME="SECTION001073000000000000000">
E.7.3 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:cxx.one.list</TT></STRONG></DT>
<DD>(List of a single C++ file) from source of type <TT>:cxx</TT> (C++ source code).
Convert a C++ file name into a list of filenames
</DD>
<DT><STRONG><TT>:cxx_inc</TT></STRONG></DT>
<DD>(List of potential C++ style included files) from source of type <TT>:cxx_inc.view_desc</TT> (View description of C++ style included files).
This processes the :cxx_inc.view_desc entries, filtering them for
existence and making them into a list.
</DD>
<DT><STRONG><TT>:all_cxx_inc</TT></STRONG></DT>
<DD>(List of C++ style transitively included files) from source of type <TT>:cxx_inc</TT> (List of potential C++ style included files).
This recursively scans all entries of the list, producing more
:cxx_inc and appending them to the list.
</DD>
<DT><STRONG><TT>:exe</TT></STRONG></DT>
<DD>(Executable binary) from source of type <TT>:o_of</TT> (Odinfile containing the object modules) with additional source of type <TT>:library_flags</TT> (Library command line flags) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+gnu</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use gnu tools
</DD>
<DT><STRONG><TT>+purify</TT></STRONG></DT>
<DD>&nbsp;
<BR>Purify flag
(may be given more than once)
</DD>
<DT><STRONG><TT>+debug</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug switch
</DD>
<DT><STRONG><TT>+prof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag
</DD>
<DT><STRONG><TT>+eprof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag for linking
</DD>
<DT><STRONG><TT>+cxx</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C++ compiler
</DD>
<DT><STRONG><TT>+ld_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for ld
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_CXX</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C++ compiler
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CXX_DEBUGF</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug flag for C++ compiler
(default '-g')
</DD>
<DT><STRONG><TT>$ODIN_CXX_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>CC flags
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_CXX_HOME</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C++ compiler
(default '')
</DD>
<DT><STRONG><TT>$ODIN_CXX_IGNORE_ERR</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for errors to ignore
(default '')
</DD>
<DT><STRONG><TT>$ODIN_CXX_LD_LIBRARY_PATH</TT></STRONG></DT>
<DD>&nbsp;
<BR>Load library path for C++
(default '/usr/lib/CC')
</DD>
<DT><STRONG><TT>$ODIN_CXX_PTR</TT></STRONG></DT>
<DD>&nbsp;
<BR>Template repository directory
(default '1')
</DD>
</DL>
This runs the linker on C++ code.  Note that the linker in this case
is the C++ compiler without the -c option.  Its options are passed to
the C++ compiler as follows:

<P>

<UL>
<LI>The ODIN_CXX_LD_LIBRARY_PATH environment variable, if non-empty,
      is added to LD_LIBRARY_PATH before calling the compiler.  This
      should only be set if the compiler requires it.  This may also
      affect the compiler's library search path, but the dependency
      checker will not notice.
</LI>
<LI>+gnu, +cc, and $ODIN_CXX may specify the compiler, as with :cxx
      to :o.  In addition, purify may be run by selecting +purify;
      the multiple +purify options are concatenated and prepended to
      the linker command.  When done, any extra result files from
      purity are removed.  As with individual C++ compilation, the
      search path is determined by the +cc_home parameter, the
      $ODIN_CXX_HOME variable, and the path from the last cache reset,
      in that order.
</LI>
<LI>Specifying +debug and +prof work the same way as with :c to
      :o.  The +eprof flag is unused.
</LI>
<LI>Then, any generic opions are added from +ld_flags and
      ODIN_CXX_FLAGS, respectively.  Spaces are interpreted as
      separators regardless for these two as well.
</LI>
<LI>Finally, any +libs parameters are turned into appropriate -l
      parameters and tacked on, in the order they were found.
</LI>
</UL>
</DD>
</DL>
<H1><A NAME="SECTION001080000000000000000"></A><A NAME="sec:odi"></A><BR>
E.8 odi
</H1>

<P>
The <TT>odi</TT> package is at version 1.12.0.
FIXME: document

<P>

<H2><A NAME="SECTION001081000000000000000">
E.8.1 System model for an ODI C++ program</A>
</H2>

<P>
Files matching the pattern `<code>*odi.SM</code>' are of type <TT>:odi.cxx.sm</TT> (System model for an ODI C++ program).
They may be used whenever a rule calls for a supertype of <TT>:odi.cxx.sm</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION001082000000000000000">
E.8.2 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:com_schema_standin</TT></STRONG></DT>
<DD>(Compiled ObjectStore schema) from source of type <TT>:com_schema_standin</TT> (Compiled ObjectStore schema) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+schema_src</TT></STRONG></DT>
<DD>&nbsp;
<BR>ObjectStore schema source file
(may be given more than once)
</DD>
<DT><STRONG><TT>+schema_dir</TT></STRONG></DT>
<DD>&nbsp;
<BR>ObjectStore schema directory
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>$OS_ROOTDIR</TT></STRONG></DT>
<DD>&nbsp;
<BR>ObjectStore root directory
(default '/net/xlendi/usr2/ostore-r3.0')
</DD>
</DL>
FIXME: document
</DD>
<DT><STRONG><TT>:schema.C</TT></STRONG></DT>
<DD>(ObjectStore schema source module) from source of type <TT>:odi.cxx.sm.list</TT> (List of files in a C++ system model) with additional source of type <TT>:library_flags</TT> (Library command line flags) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+schema_dir</TT></STRONG></DT>
<DD>&nbsp;
<BR>ObjectStore schema directory
</DD>
<DT><STRONG><TT>$OS_ROOTDIR</TT></STRONG></DT>
<DD>&nbsp;
<BR>ObjectStore root directory
(default '/net/xlendi/usr2/ostore-r3.0')
</DD>
</DL>
FIXME: document
</DD>
<DT><STRONG><TT>:cxx.sm.list</TT></STRONG></DT>
<DD>(List of files in a C++ system model) from source of type <TT>:odi.cxx.sm.list</TT> (List of files in a C++ system model) with additional source of type <TT>:schema.C</TT> (ObjectStore schema source module).
FIXME: document
</DD>
</DL>
<H1><A NAME="SECTION001090000000000000000"></A><A NAME="sec:f77"></A><BR>
E.9 f77
</H1>

<P>
The <TT>f77</TT> package is at version 1.12.0.
This package enables compilation of Fortran programs.

<P>

<H2><A NAME="SECTION001091000000000000000">
E.9.1 Fortran77 source code</A>
</H2>

<P>
Files matching the pattern `<code>*.f</code>' are of type <TT>:f</TT> (Fortran77 source code).
They may be used whenever a rule calls for a supertype of <TT>:f</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:o_src</TT></TD>
<TD ALIGN="LEFT">Source code for object module</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:o</TT></STRONG></DT>
<DD>(Object module) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+debug</TT></STRONG></DT>
<DD>&nbsp;
<BR>Debug switch
</DD>
<DT><STRONG><TT>+prof</TT></STRONG></DT>
<DD>&nbsp;
<BR>Profiling flag
</DD>
<DT><STRONG><TT>+f77_home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the C compiler
</DD>
<DT><STRONG><TT>+f77</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the C compiler
</DD>
<DT><STRONG><TT>+f77_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for f77
(may be given more than once)
</DD>
</DL>
Compile Fortran code.  Its options are passed to the Fortran
compiler as follows:

<P>

<UL>
<LI>+f77 may specify the compiler; the default is f77.  The compiler
      is parsed into command-line elements like a shell command.  The
      search path is +f77_home, followed by the path from the last
      cache reset.
</LI>
<LI>+prof adds the profiling option -pg.
</LI>
<LI>+debug adds the debugging option -g.
</LI>
<LI>+f77_flags may be used to add arbitrary command line options
</LI>
<LI>The only other options are -c and the source file name.

<P>
When the compiler is run, all standard output is printed directly to
the user.  Any standard error messages are collected as warnings or
errors.  Which of the two they are is determined by the compiler's
return code:  success produces warnings, and failure produces errors.
</LI>
</UL>
</DD>
</DL>
<H1><A NAME="SECTION0010100000000000000000"></A><A NAME="sec:lex"></A><BR>
E.10 lex
</H1>

<P>
The <TT>lex</TT> package is at version 1.12.0.
This package supports automatically generated lexical analyzers.

<P>

<H2><A NAME="SECTION0010101000000000000000">
E.10.1 Scanner grammar</A>
</H2>

<P>
Files matching the pattern `<code>*.l</code>' are of type <TT>:l</TT> (Scanner grammar).
They may be used whenever a rule calls for a supertype of <TT>:l</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:c</TT></STRONG></DT>
<DD>(C source code) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+yaccid</TT></STRONG></DT>
<DD>&nbsp;
<BR>Entry point for lexical analyzer
</DD>
</DL>
This produces a C file using <TT>lex</TT>.  If the +yaccid parameter is
specified, all occurreces of yy in resulting output are turned into
the given ID, and all occurreces of YY are turned into the ID converted
to upper-case.  Note that this includes yy and YY within any literal
C code or other text inserted by <TT>lex</TT>.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H1><A NAME="SECTION0010110000000000000000"></A><A NAME="sec:yacc"></A><BR>
E.11 yacc
</H1>

<P>
The <TT>yacc</TT> package is at version 1.16.0.
This package supports automatically generated LALR(1) parsers.

<P>

<H2><A NAME="SECTION0010111000000000000000">
E.11.1 Yacc input</A>
</H2>

<P>
Files matching the pattern `<code>*.y</code>' are of type <TT>:y</TT> (Yacc input).
They may be used whenever a rule calls for a supertype of <TT>:y</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:c</TT>, <TT>:h</TT>, <TT>:yacc.log</TT></STRONG></DT>
<DD>(C source code, Header file, Yacc table listing) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+yaccid</TT></STRONG></DT>
<DD>&nbsp;
<BR>Entry point for lexical analyzer
</DD>
<DT><STRONG><TT>+conflict_ok</TT></STRONG></DT>
<DD>&nbsp;
<BR>Reduce/reduce and shift/reduce conflicts are OK
</DD>
<DT><STRONG><TT>+sys5</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use Unix System V conventions
</DD>
<DT><STRONG><TT>+gnu</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use gnu tools
</DD>
<DT><STRONG><TT>+yacc</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the yacc compiler
</DD>
<DT><STRONG><TT>+yacc_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for yacc
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_SYS5</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use Unix System V conventions
(default '')
</DD>
<DT><STRONG><TT>$ODIN_YACC</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the yacc compiler
(default from initial Odin configuration)
</DD>
<DT><STRONG><TT>$ODIN_YACC_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>Yacc flags
(default '-dv')
</DD>
</DL>
This produces a C file using <TT>yacc</TT>.  If the <TT>+yaccid</TT>
parameter is specified, all occurrences of yy in  resulting output
are turned into the given ID, and all occurreces of YY are turned
into the ID converted to upper-case.  Note that this includes yy and
YY within any literal C code or other text inserted by <TT>yacc</TT>.

<P>
The parser builder used is <TT>yacc</TT> by default, or the value of
the $ODIN_YACC variable.  If the <TT>+gnu</TT> option is specified,
<TT>bison</TT> in <TT>yacc</TT> compatibility mode (<TT>-y</TT>) is
used instead.  The <TT>+yacc</TT> parameter overrides all of these.
Flags passed into the parser builder are $ODIN_YACC_FLAGS, followed
by <TT>+yacc_flags</TT>, followed by the <TT>-y</TT> inserted by the
<TT>+gnu</TT> option.  Note that this is added even if the parser
builder was overridden using <TT>+yacc</TT>.

<P>
If the <TT>+conflict_ok</TT> parameter is not specified, any
conflicts flagged by the parser builder become errors.  Otherwise,
they are warnings.  Note that there is no way to distinguish between
types of conflicts; in fact, the presence of any log message
containing the word conflicts will trigger an error.

<P>
The misnamed $ODIN_SYS5 and <TT>'+sys5'</TT> flag parameters, if
non-blank/specified, transform any obsolete type definition of the
<TT>malloc</TT> C function to use the correct pointer type.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H1><A NAME="SECTION0010120000000000000000"></A><A NAME="sec:tregrm"></A><BR>
E.12 tregrm
</H1>

<P>
The <TT>tregrm</TT> package is at version 1.16.0.
This package supports generating C code for LALR(1) grammars which
produce tree structures as the sole side effect of parsing.  This
is likely too engrained into the Odin source code to be useful outside
of Odin.

<P>
The input file consists of sequences of tokens, separated by
whitespace if necessary.  Comments are text from a hash mark (#) to
the end of the line, and are ignored as whitespace.  Quoted strings
are any text between quotes, with backslash to escape quotes and
backslashes.  The quotes in this case are either both single-quotes
or both double-quotes.  Names are any sequence of letters, digits,
dashes, underscores, dots, slashes, and commas.

<P>
The first section of the input describes C include files.  For each
file to include, <TT>INCLUDE</TT> <I>name</I> will generate a
<code>#include</code> directive.  The <I>name</I> should be enclosed in
double-quotes for local includes and single-quotes for system
includes.

<P>
The next section describes the lexical analyzer output.  It begins
with the word <TT>SCANNER</TT>.  For each terminal token, the grammar
name, followed by an equals sign, followed by the lexical analyzer name,
followed by the node type, if required, is given.  For end-of-file
detection, the grammar name is the name <TT>EOF</TT>.  For errors in
lexical analysis, the grammar name is the name <TT>ERR</TT>.  For
tokens which carry no additional value, the grammar name is a quoted
string in single quotes.  For tokens which carry a value, the
grammar name is a quoted string in double quotes.  The value will be
passed in a node of the type given in the node type, which is a
double-quoted string following the <code>=&gt;</code> symbol.  The node types
used here must be delcared in the <TT>NODES</TT> section, just like
the grammar nodes.  The value is stored on the top of
<TT>SymStack</TT> by the lexical analyzer; see the source code for
details. 

<P>
The next section lists all node types used by the grammar.  It is
introduced by the word <TT>NODES</TT>.  Each type is a double-quoted
string.

<P>
The next section gives the grammar rules, and is introduced by the
word <TT>RULES</TT>.  Each rule consists of a terminal name, followed
by one or more productions, followed by a semicolon.  Each production
consists of the symbol <code>-&gt;</code>, followed by a sequence expression,
optionally followed by a node type for this sequence, as the symbol
<code>=&gt;</code>, followed by the node type in double quotes.  The node type
may be followed by a question mark to indicate that no node will be
created if there are no children, or it may be enclosed in
parentheses to indicate that creating a node of this type also ends
the parsing.  Each sequence expression consists of a sequence of
terms.  A term is either an element, an optional element (indicated
by a trailing <code>?</code>), an element which may appear zero or more
times (indicated by a trailing <code>*</code>), an element which may
appear one or more times (indicated by a trailing <code>+</code>), or an
element which may appear in a list of one or more elements,
separated by a separator element (indicated by the list element,
followed by <code>//</code>, followed by the separator element).  Each
element is either a terminal name (i.e, a quoted string), a
non-terminal name, or a sequence of terms in parentheses.

<P>
The first rule is the start rule for the grammar.

<P>
A production's non-terminals and terminals with values are linked
together as siblings.  If the production has a node type, a new node
will be created with those siblings as children; otherwise, the
collected children are the value for that non-terminal.

<P>
In order to use the resulting grammar, some support routines are
needed.  The lexical analyzer needs <TT>Init_Lex</TT> to initialize
itself, <TT>EndLex</TT> to finish lexical analysis, and <TT>YY_Lex</TT>
to return the next token.  The <TT>:tok.h</TT> derivation contains the
identifiers to be returned as token values.  An error in parsing
calls <code>ParseError(char *)</code> and inrements the global variable
<TT>num_ParseErrors</TT>.

<P>
In order to create and use the resulting tree,
<TT>odin/if-nod.c</TT> or something equivalent needs to be used.  The
grammar in particular calls the global function
<TT>Init_ConstructTree()</TT> to start, and
<TT>End_ConstructTree()</TT> to finish.  The <TT>End</TT> routine must
return the finished tree.  For every node to be added,
<TT>Action(int, int)</TT> is called.  The first parameter is the node
type, and the second is the number of children.  The type's absolute
value is from the <TT>:nod.h</TT> derivation, if non-zero.  If zero,
the type indicates that the children should simply be linked and
passed along.  If positive, a node of the given type should be
created, with the given number of children.  If the number is
positive, the children are previously created nodes.  If the number
is negative, there is no child, but instead a value from the lexical
analyzer.  If the type and child count are negative, the effect is
the same as with a positive type and child count, except that the
lexical analyzer should be terminated after creating the node.  If the
type is negative and the child count is not, then a node should only
be created if the number of children is non-zero.

<P>

<H2><A NAME="SECTION0010121000000000000000">
E.12.1 Input grammar for the Tregrm tree-building parser generator</A>
</H2>

<P>
Files matching the pattern `<code>*.ygi</code>' are of type <TT>:ygi</TT> (Input grammar for the Tregrm tree-building parser generator).
They may be used whenever a rule calls for a supertype of <TT>:ygi</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:y</TT>, <TT>:nod.h</TT>, <TT>:tok.h</TT>, <TT>:ygi.log</TT></STRONG></DT>
<DD>(Yacc input, Parser node types, Parser token types, Tregrm listing) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+yaccid</TT></STRONG></DT>
<DD>&nbsp;
<BR>Entry point for lexical analyzer
</DD>
</DL>
As described in the section introduction, a <TT>:ygi</TT> file
contains a simplified grammar description for building parse trees.
This tool generates the parser generator input and header files needed
for parsing.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H1><A NAME="SECTION0010130000000000000000"></A><A NAME="sec:dg"></A><BR>
E.13 dg
</H1>

<P>
The <TT>dg</TT> package is at version 1.18.
This package contains the derivation graph parser.

<P>

<H2><A NAME="SECTION0010131000000000000000">
E.13.1 Odin Derivation Graph</A>
</H2>

<P>
Files matching the pattern `<code>*.dg</code>' are of type <TT>:dg</TT> (Odin Derivation Graph).
They may be used whenever a rule calls for a supertype of <TT>:dg</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:dg.log</TT>, <TT>:c</TT>, <TT>:dg.tab</TT>, <TT>:dg.env</TT></STRONG></DT>
<DD>(Derivation Graph log, C source code, Derivation Graph tables, Derivation Graph environment variable definitions) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+pkg</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a package or a file containing package names
(may be given more than once)
</DD>
</DL>
Given a directed graph file, find its parent directory and from there
compile all packages named in the +pkg parameter.  This parameter must
either be a package name or (by enclosing the file name in parentheses)
a file listing all pacakge names to include.  Note that only those
specified packages will be compiled; not even the built-in types will be
added.  Therefore, it is best to make the parameter a member of a virtual
directory containing all desired packages, and to make the package
list also contain all of these, in the order they are to be included
in the final graph.  The results are intended for Odin internal use
only, but include:

<P>

<UL>
<LI>:dg.log -- A verbose description of the created graph
</LI>
<LI>:c -- A C file containing the tables.
</LI>
<LI>:dg.tab -- A text file containing the tables for easy parsing.
</LI>
<LI>:dg.env -- The environment variables defined by the graph,
                  and their current values.
</LI>
</UL>

<P>
Normally, the default derivation graph's :c is compiled into the
Odin executable.  The :dg.tab of the current graph, if different from
the default, is stored in $ODINCACHE/DG.  The :dg.env of the current
graph is stored in $ODINCACHE/ENV.

<P>
The information in these tables is as follows:

<P>
The :dg.env file has as its first line a decimal number indicating
the number of entries.  Following this is one line for each variable:
the variable name, followed by an equals sign, followed by the current
value, followed by an ASCII SOH character (1, ctrl-A).  No attempt
is made to escape ASCII SOH characters in the names or values, so
hopefully values will not cause problems.  For multi-line values,
the above description considers them part of the line they started
on.

<P>
In the :dg.tab file, strings are encoded as a dot, followed by the
string, followed by an ASCII SOH character (1, ctrl-A).  No attempt
is made to escape ASCII SOH characters in the strings, so don't use
them in your derivation graph.  If a string spans more than one line,
it is still considered to be part of the same line that it started on.
Numbers are simply decimal digits.  Fields are separated by spaces.

<P>
The first line of the :dg.tab file is the version number of the
executable which created this file.  If there is any difference from
1.16.10, the following description is likely wrong.  In the C code,
this is stored in the string variable DG_Version.

<P>
The next line of the file is a banner string, if defined by any
package's derivation graph via the BANNER command.  In the C code,
this is stored in the string variable Banner.

<P>
The next line in the file is a space-separated sequence of counts,
one for each table:

<OL>
<LI>SrcTyp -- stored in num_SrcTypS in the C code
</LI>
<LI>FilTyp -- stored in num_FilTypS in the C code
</LI>
<LI>PrmTyp -- stored in num_PrmTypS in the C code
</LI>
<LI>EnvVar -- stored in num_EnvVarS in the C code
</LI>
<LI>EnvVarLst -- stored in num_EnvVarLstS in the C code
</LI>
<LI>Tool -- stored in num_ToolS in the C code
</LI>
<LI>InpEdg -- stored in num_InpEdgS in the C code
</LI>
<LI>MemEdg -- stored in num_MemEdgS in the C code
</LI>
<LI>EqvEdg -- stored in num_EqvEdgS in the C code
</LI>
<LI>CastEdg -- stored in num_CastEdgS in the C code
</LI>
<LI>DrvEdg -- stored in num_DrvEdgS in the C code
</LI>
<LI>PrmTypLst -- stored in num_PrmTypLstS in the C code
</LI>
<LI>InpSpc -- stored in num_InpSpcS in the C code
</LI>
</OL>

<P>
Next is the contents of each table, one line per entry.  The
structure of each table entry is defined in inc/&lt;tabletype&gt;.h;
for each element, the structure element name in the C code is
provided.  Pointers to other table elements are stored as table index
numbers in the text file, with -1 indicating NULL.

<P>

<OL>
<LI>SrcTyp (C table tps_SrcTyp _SrcTypS[]): Source Types

<OL>
<LI>Pattern -- The suffix or prefix string
</LI>
<LI>IsPrefix -- Non-zero if prefix pattern; otherwise suffix pattern
</LI>
<LI>FilTyp -- Pointer to FilTyp table entry for type of matching names
</LI>
</OL>
</LI>
<LI>FilTyp (C table tps_FilTyp _FilTypS[]): Derivation types (all
      declared derivation types, as well as any types that were
      artificially generated).

<OL>
<LI>FTClass -- general classification dervied from parent or self:

<UL>
<LI>FTC_None (1) -- :OBJECT, :noinput
</LI>
<LI>FTC_Atmc (2) -- :FILE
</LI>
<LI>FTC_List (3) -- :LIST
</LI>
<LI>FTC_Void (4) -- :VOID
</LI>
<LI>FTC_Pntr (5) -- :REFERENCE
</LI>
<LI>FTC_Exec (6) -- :EXECUTABLE
</LI>
<LI>FTC_Generic (7) -- :GENERIC
</LI>
<LI>FTC_Pipe (8) -- :PIPE
</LI>
<LI>FTC_DrvDir (9) -- :DERIVED-DIRECTORY
</LI>
<LI>FTC_Struct (10) -- pseudo type for describing multiple outputs
</LI>
<LI>FTC_ViewSpec (11) -- :view
</LI>
</UL>
</LI>
<LI>FTName -- type name without leading colon
</LI>
<LI>Desc -- on-line help for declared types
</LI>
<LI>HelpLevel -- 1 for help text with a ?; 2 for normal help
                    text, and 3 (impossible to print) for
                    artificially generated types.
</LI>
<LI>ArgFilTyp -- If this is a second-order type, this field
                    points to the FilTyp table entry for the argument
                    type
</LI>
<LI>Tool -- A pointer to the Tool table for the tool which
               generates this type, if applicable.  Note that
               parents of this type can be generated implicitly by
               this tool as well.
</LI>
<LI>MemEdg -- If this type is FTC_Struct, the multiple outputs it
                 describes are linked via entries in the MemEdg table
                 starting with the entry pointed to by this field.
</LI>
<LI>EqvEdg -- If this type has full super types, they are linked
                 via entries in the EqvEdg table starting with the
                 entry pointed to by this field.
</LI>
<LI>CastEdg -- If this type has blocking super types, they are
                  linked via entries in the CastEdg table starting
                  with the entry pointed to by this field.
</LI>
<LI>DrvEdg -- All types derivable from this type are linked via
                 entries in the DrvEdg table starting with the entry
                 pointed to by this field.
</LI>
<LI>MapPrmTypLst -- ? (pointer to PrmTypLst)
</LI>
<LI>IsCopy -- non-zero if subtype of built-in :copy
</LI>
<LI>IsGrouping -- non-zero if subtype of a type whose tool is one of
                   PRMVALUES, APPLY, COLLECT, READ-LIST, NAME, NAMES,
                   or EXPANDHOOKS
</LI>
<LI>IsGroupingInput --  non-zero if subtype of a type whose tool is
                   NESTEDHOOKS, or one of the second order types
                   :map, :lookup, or :recurse
</LI>
</OL>
</LI>
<LI>GenericFilTyp -- constant pointer to FilTyp entry for :GENERIC
</LI>
<LI>PipeFilTyp -- constant pointer to FilTyp entry for :PIPE
</LI>
<LI>ListFilTyp -- constant pointer to FilTyp entry for :LIST
</LI>
<LI>FileFilTyp -- constant pointer to FilTyp entry for :FILE
</LI>
<LI>ObjectFilTyp -- constant pointer to FilTyp entry for :OBJECT
</LI>
<LI>NoInputFilTyp -- constant pointer to FilTyp entry for :noinput
</LI>
<LI>ExpandHooksFilTyp - constant pointer to FilTyp entry for
                           :expand_hooks in odin package
</LI>
<LI>TargetsPtrFilTyp - constant pointer to FilTyp entry for
                          :targets_ptr in odin package
</LI>
<LI>TargetsFilTyp -- constant pointer to FilTyp entry for
                        :targets in odin package
</LI>
<LI>ActTargetsFilTyp -- constant pointer to FilTyp entry for
                        :act_tgt.list in odin package
</LI>
<LI>VirTargetsFilTyp -- constant pointer to FilTyp entry for
                        :vir_tgt.list in odin package
</LI>
<LI>VirDirFilTyp -- constant pointer to FilTyp entry for
                        :vir_dir in odin package
</LI>
<LI>CopyFilTyp -- constant pointer to FilTyp entry for
                        :copy in odin package
</LI>
<LI>PrmValuesFilTyp -- constant pointer to FilTyp entry for
                        :prm_values in odin package
</LI>
<LI>ViewSpecFilTyp -- constant pointer to FilTyp entry for
                        :view_spec in odin package
</LI>
<LI>FirstFilTyp -- constant pointer to FilTyp entry for :first
</LI>
<LI>ApplyFilTyp -- constant pointer to FilTyp entry for
                        :apply in odin package
</LI>
<LI>FatherFilTyp -- constant pointer to FilTyp entry for
                        :abstract in odin package
</LI>
<LI>PrmTyp (C table tps_PrmTyp _PrmTypS[]): All parameter declarations

<OL>
<LI>PTName -- Parameter name without leading plus.
</LI>
<LI>Desc -- Help text
</LI>
<LI>HelpLevel -- Help level (1 for those with ?, and 2 for those without)
</LI>
<LI>FilTyp -- Derivation to apply to parameters (pointer to FilTyp)
</LI>
</OL>
</LI>
<LI>NullPrmTyp -- constant pointer to PrmTyp entry for +null
</LI>
<LI>HookValPrmTyp -- constant pointer to PrmTyp entry for +hookvalue
</LI>
<LI>CopyDestPrmTyp -- constant pointer to PrmTyp entry for +copy_dest
</LI>
<LI>ApplyPrmTyp -- constant pointer to PrmTyp entry for +apply
</LI>
<LI>PrmTypLst (C table tps_PrmTypLst _PrmTypLstS[]): Lists of
                            parameter declarations used by other tables

<OL>
<LI>PrmTyp -- A pointer to this list element in PrmTyp
</LI>
<LI>Next -- A pointer to the next list entry in PrmTypLst
</LI>
</OL>
</LI>
<LI>EnvVar (C table tps_EnvVar _EnvVarS[]): All environment variable
                                              declarations

<OL>
<LI>Name -- Variable name without the leading dollar sign
</LI>
<LI>Desc -- Help text
</LI>
<LI>HelpLevel -- Help level (1 for those with ?, and 2 for those without)
</LI>
<LI>Default -- Default value (string)
</LI>
<LI>IsFile -- non-zero if Default is an odin-expression of a file
                 to read for actual default value; otherwise Default is
                 the actual default value
</LI>
</OL>
</LI>
<LI>EnvVarLst (C table tps_EnvVarLst _EnvVarLstS[]): Lists of environment
                                              variables used by other tables

<OL>
<LI>EnvVar -- Pointer to EnvVar entry which is this list element
</LI>
<LI>Next -- Pointer to EnvVarLst entry containing the next
              element, or NULL/-1 for end-of-list.
</LI>
</OL>
</LI>
<LI>Tool (C table tps_Tool _ToolS[]): All derivation tools.

<OL>
<LI>TClass
</LI>
<LI>InpEdg
</LI>
<LI>BasePrmTypLst
</LI>
<LI>EnvVarLst
</LI>
<LI>Package
</LI>
</OL>
</LI>
<LI>SourceTool -- constant pointer to Tool entry for hidden tool
                     TC_Source (1).
</LI>
<LI>StrTool -- constant pointer to Tool entry for hidden tool
                  TC_Str (12).
</LI>
<LI>DrvDirElmTool -- constant pointer to Tool entry for hidden tool
                        TC_DrvDirElm (2).
</LI>
<LI>VirDirElmTool -- constant pointer to Tool entry for hidden tool
                        TC_VirDirElm (47).
</LI>
<LI>PntrHoTool -- constant pointer to Tool entry for hidden tool
                     TC_PntrHo (8).
</LI>
<LI>PntrElmTool -- constant pointer to Tool entry for hidden tool
                      TC_PntrElm (37).
</LI>
<LI>InternalPntrTool -- constant pointer to Tool entry for hidden tool
                           TC_InternalPntr (10).
</LI>
<LI>TextDefTool -- constant pointer to Tool entry for hidden tool
                      TC_TextDef (18).
</LI>
<LI>InpEdge

<OL>
<LI>InpSpc
</LI>
<LI>InpKind
</LI>
<LI>IsUserArg
</LI>
<LI>Next
</LI>
</OL>
</LI>
<LI>MemEdg

<OL>
<LI>FilTyp
</LI>
<LI>Next
</LI>
</OL>
</LI>
<LI>EqvEdg

<OL>
<LI>FilTyp
</LI>
<LI>Next
</LI>
</OL>
</LI>
<LI>CastEdg

<OL>
<LI>FilTyp
</LI>
<LI>Next
</LI>
</OL>
</LI>
<LI>DrvEdg

<OL>
<LI>FilTyp
</LI>
<LI>PrmTypLst
</LI>
<LI>Next
</LI>
</OL>
</LI>
<LI>InpSpc

<OL>
<LI>ISKind
</LI>
<LI>FilTyp
</LI>
<LI>PrmTyp
</LI>
<LI>Str
</LI>
<LI>IsEnvVar
</LI>
<LI>InpSpc
</LI>
<LI>Next
</LI>
</OL>
</LI>
</OL>
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H1><A NAME="SECTION0010140000000000000000"></A><A NAME="sec:idl"></A><BR>
E.14 idl
</H1>

<P>
The <TT>idl</TT> package is at version 1.14.0.
FIXME: document

<P>

<H2><A NAME="SECTION0010141000000000000000">
E.14.1 C++ Interface Definition Language file</A>
</H2>

<P>
Files matching the pattern `<code>*.IDL</code>' or, `<code>*.IDL</code>' are of type <TT>:IDL</TT> (C++ Interface Definition Language file).
They may be used whenever a rule calls for a supertype of <TT>:IDL</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:idl_h_dir</TT>, <TT>:client.C</TT>, <TT>:epv.C</TT>, <TT>:sstub.c</TT>, <TT>:cstub.c</TT></STRONG></DT>
<DD>(Header files, Client side class implementation, Entry point vector for server, Server stubs, Client stubs) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+idl_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Flags for idl
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_IDL</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the idl compiler
(default 'idl++')
</DD>
<DT><STRONG><TT>$ODIN_IDL_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>Idl flags
(default '-keep source')
</DD>
<DT><STRONG><TT>$ODIN_IDL_HOME</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing the idl compiler
(default '')
</DD>
</DL>
FIXME: document
</DD>
<DT><STRONG><TT>:idl_targets</TT></STRONG></DT>
<DD>(Header file and library targets for an idl file) with additional source of type <TT>:idl_h_dir</TT> (Header files) and additional source of type <TT>:idl.a</TT> (Library of idl generated routines).
FIXME: document
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_IDL_I</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory containing default idl include files
(default '')
</DD>
<DT><STRONG><TT>$ODIN_IGNORE</TT></STRONG></DT>
<DD>&nbsp;
<BR>Egrep expression for includes to ignore
(default '/usr/include')
</DD>
</DL>
FIXME: document
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010142000000000000000">
E.14.2 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:idl_inc</TT></STRONG></DT>
<DD>(List of potential IDL-style included files) from source of type <TT>:idl_inc.view_desc</TT> (View description of IDL-style included files).
FIXME: document
</DD>
<DT><STRONG><TT>:all_idl_inc</TT></STRONG></DT>
<DD>(List of IDL-style transitively included files) from source of type <TT>:idl_inc</TT> (List of potential IDL-style included files).
FIXME: document
</DD>
<DT><STRONG><TT>:idl_lib.list</TT></STRONG></DT>
<DD>(Idl generated routines) from source of type <TT>:client.C</TT> (Client side class implementation) with additional source of type <TT>:epv.C</TT> (Entry point vector for server) and additional source of type <TT>:sstub.c</TT> (Server stubs) and additional source of type <TT>:cstub.c</TT> (Client stubs).
FIXME: document
</DD>
<DT><STRONG><TT>:idl.a</TT></STRONG></DT>
<DD>(Library of idl generated routines) from source of type <TT>:idl_lib.list</TT> (Idl generated routines).
FIXME: document
</DD>
</DL>
<H1><A NAME="SECTION0010150000000000000000"></A><A NAME="sec:prof"></A><BR>
E.15 prof
</H1>

<P>
The <TT>prof</TT> package is at version 1.14.0.
This package supports running the standard profiler, gprof.

<P>

<H2><A NAME="SECTION0010151000000000000000">
E.15.1 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:profile</TT></STRONG></DT>
<DD>(Execution profile) from source of type <TT>:exe</TT> (Executable binary) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+prof_data</TT></STRONG></DT>
<DD>&nbsp;
<BR>Trace file
(may be given more than once)
</DD>
<DT><STRONG><TT>+prof_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Prof flags
(may be given more than once)
</DD>
</DL>
Run the profiler, gprof.  The profiling output data file should be
specified using +prof_data.  Any additional flags to gprof may be
given in +gprof_flags.
</DD>
</DL>
<H1><A NAME="SECTION0010160000000000000000"></A><A NAME="sec:lint"></A><BR>
E.16 lint
</H1>

<P>
The <TT>lint</TT> package is at version 1.13.0.
FIXME: document

<P>

<H2><A NAME="SECTION0010161000000000000000">
E.16.1 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:ln</TT>, <TT>:lint1.log</TT></STRONG></DT>
<DD>(Local static semantic analysis of C code, Messages from first phase of lint) from source of type <TT>:c</TT> (C source code) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+inc_sp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of a directory in an include search path
(may be given more than once)
</DD>
<DT><STRONG><TT>+define</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro definition
(may be given more than once)
</DD>
<DT><STRONG><TT>+lint_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Lint flags
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore_mesg</TT></STRONG></DT>
<DD>&nbsp;
<BR>Message to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_LINT_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>Lint flags
(default '')
</DD>
<DT><STRONG><TT>$ODIN_LINT_PASS1_FLAG</TT></STRONG></DT>
<DD>&nbsp;
<BR>Pass-1 only lint flag
(default '-c')
</DD>
</DL>
FIXME: document
</DD>
<DT><STRONG><TT>:lint</TT></STRONG></DT>
<DD>(Static semantic analysis of C code) from source of type <TT>:code.list</TT> (List of code files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+stub</TT></STRONG></DT>
<DD>&nbsp;
<BR>Stub to keep Lint quiet about unused functions
(may be given more than once)
</DD>
<DT><STRONG><TT>+ln</TT></STRONG></DT>
<DD>&nbsp;
<BR>A lint library
(may be given more than once)
</DD>
<DT><STRONG><TT>+lint_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Lint flags
(may be given more than once)
</DD>
<DT><STRONG><TT>+ignore_mesg</TT></STRONG></DT>
<DD>&nbsp;
<BR>Message to ignore
(may be given more than once)
</DD>
<DT><STRONG><TT>+global_ignore_mesg</TT></STRONG></DT>
<DD>&nbsp;
<BR>Message to ignore in global second lint pass
(may be given more than once)
</DD>
<DT><STRONG><TT>$ODIN_LINT_FLAGS</TT></STRONG></DT>
<DD>&nbsp;
<BR>Lint flags
(default '')
</DD>
</DL>
FIXME: document
</DD>
</DL>
<H1><A NAME="SECTION0010170000000000000000"></A><A NAME="sec:misc"></A><BR>
E.17 misc
</H1>

<P>
The <TT>misc</TT> package is at version 1.13.0.
This package contains miscellaneous support utilities.

<P>

<H2><A NAME="SECTION0010171000000000000000">
E.17.1 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step) from source of type <TT>:OBJECT</TT> (Any object).
This is an alias for !:redo
</DD>
<DT><STRONG><TT>:redo_errs</TT></STRONG></DT>
<DD>(Redo all steps with errors) from source of type <TT>:err</TT> (Errors).
This parses the errors produced for a target, and redoes any step
which apparently produced errors.
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+default</TT></STRONG></DT>
<DD>&nbsp;
<BR>Default value
</DD>
</DL>
This is checks if the target file exists.  If so, the result is the
name of the file.  If not, the result is the name of the file
specified by +default.  The +default parameter may be any odin
expression.
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+other</TT></STRONG></DT>
<DD>&nbsp;
<BR>Another file
</DD>
</DL>
This returns the difference between the input file and the file
specified by +other.
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+f_dest</TT></STRONG></DT>
<DD>&nbsp;
<BR>File destination
</DD>
<DT><STRONG><TT>+d_dest</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directory destination
</DD>
</DL>
This copies the source file to the destination specified by +f_dest or
+d_dest.  +f_dest overrides +d_dest.  +d_dest explicitly forces the
destination to be a directory; +f_dest copies directly to the
target, assuming it is a file.
</DD>
</DL>
<H1><A NAME="SECTION0010180000000000000000"></A><A NAME="sec:roff"></A><BR>
E.18 roff
</H1>

<P>
The <TT>roff</TT> package is at version 1.13.0.
This package supports documentation written for UNIX roff.

<P>

<H2><A NAME="SECTION0010181000000000000000">
E.18.1 Nroff/troff input</A>
</H2>

<P>
Files matching the pattern `<code>*.roff</code>' are of type <TT>:roff</TT> (Nroff/troff input).
They may be used whenever a rule calls for a supertype of <TT>:roff</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:nroff</TT></STRONG></DT>
<DD>(Output from nroff) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+mp</TT></STRONG></DT>
<DD>&nbsp;
<BR>Macro package
</DD>
</DL>
Run nroff to produce terminal formatted output from roff source.  The
+mp parameter may be used to specify a single package to use when
formatting (e.g. +mp='an' for man pages).
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
</DL>
Create a view_spec of files included by roff source.  This is used for
automatic dependency calculation.
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).
Format equations for roff.  The output retains its file type.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010182000000000000000">
E.18.2 Eqn input</A>
</H2>

<P>
Files matching the pattern `<code>*,eqn</code>' are of type <TT>:eqn_in</TT> (Eqn input).
They may be used whenever a rule calls for a supertype of <TT>:eqn_in</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:gnc.eqn</TT></STRONG></DT>
<DD>(Output from eqn).
Format equations for roff.  The output gets its type from the file
name pattern after stripping off the ,eqn.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
</DL>
Create a view_spec of files included by roff source.  This is used for
automatic dependency calculation.
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).
Format equations for roff.  The output retains its file type.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010183000000000000000">
E.18.3 Tbl input</A>
</H2>

<P>
Files matching the pattern `<code>*.tbl</code>' are of type <TT>:tbl_in</TT> (Tbl input).
They may be used whenever a rule calls for a supertype of <TT>:tbl_in</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:tbl</TT></STRONG></DT>
<DD>(Output from tbl).
Format tables for roff.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+home</TT></STRONG></DT>
<DD>&nbsp;
<BR>Home directory for relative pathnames
</DD>
</DL>
Create a view_spec of files included by roff source.  This is used for
automatic dependency calculation.
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).
Format equations for roff.  The output retains its file type.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010184000000000000000">
E.18.4 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:all_so_inc</TT></STRONG></DT>
<DD>(List of Nroff-style transitively included files) from source of type <TT>:so_inc</TT> (List of Nroff-style included files).
Collect all includes recursively from roff-generated include lists.
This is used for automatic dependency calculation.
</DD>
</DL>
<H1><A NAME="SECTION0010190000000000000000"></A><A NAME="sec:tex"></A><BR>
E.19 tex
</H1>

<P>
The <TT>tex</TT> package is at version 3.1.0.
This package supports T<SMALL>E</SMALL>X and L<SUP><SMALL>A</SMALL></SUP>T<SMALL>E</SMALL>X documentation.

<P>

<H2><A NAME="SECTION0010191000000000000000">
E.19.1 Basis of a TeX formatted document</A>
</H2>

<P>
Files matching the pattern `<code>*.tex.vtd</code>' are of type <TT>:tex.vtd</TT> (Basis of a TeX formatted document).
They may be used whenever a rule calls for a supertype of <TT>:tex.vtd</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:vtd</TT></TD>
<TD ALIGN="LEFT">Virtual target definition file</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:rootName</TT>, <TT>:rootFileName</TT></STRONG></DT>
<DD>(Base name (no .tex suffix) of the root file, Simple name of the TeX file to be used as the root) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+texroot</TT></STRONG></DT>
<DD>&nbsp;
<BR>Name of the TeX document root
</DD>
</DL>
Return the file name and base name of the root document.  If there is
only one document, its name is used.  Otherwise, the root document
should be specified using <TT>+texroot</TT>.
</DD>
<DT><STRONG><TT>:texsp</TT></STRONG></DT>
<DD>(Search path for the document basis) with additional source of type <TT>:dir</TT> (Directory of a file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+texsearch</TT></STRONG></DT>
<DD>&nbsp;
<BR>Directories to be searched first
(may be given more than once)
</DD>
</DL>
Return a file containing directories, one per line, to search for T<SMALL>E</SMALL>X
inputs.  This includes the directory containing the virtual inputs,
as well as any path specified by <TT>+texsearch</TT>.  If
unspecified, the original source directory for the input file is used.
</DD>
<DT><STRONG><TT>:dvi</TT>, <TT>:texpdf</TT>, <TT>:tex.log</TT>, <TT>:citations</TT>, <TT>:indexntry</TT>, <TT>:texauxout</TT></STRONG></DT>
<DD>(Device independent format file, PDF created from TeX or LaTeX, TeX log file, Citation and bibliographic data commands, Indexentry commands with page numbers, Auxiliary files potentially modified by TeX) with additional source of type <TT>:fmtcmd</TT> (Formatting command) and additional source of type <TT>:rootName</TT> (Base name (no .tex suffix) of the root file) and additional source of type <TT>:texsp</TT> (Search path for the document basis).
Run T<SMALL>E</SMALL>X on inputs until auxiliary files settle.  The actual command
to run is obtained by the <TT>:fmtcmd</TT> derivation.  The
<TT>:dvi</TT> and <TT>:texpdf</TT> outputs are optional, and depend on
the formatter type (<TT>+usepf</TT>).
</DD>
</DL>
<H2><A NAME="SECTION0010192000000000000000">
E.19.2 Bibliographic data file</A>
</H2>

<P>
Files matching the pattern `<code>*.bib</code>' are of type <TT>:bib</TT> (Bibliographic data file).
They may be used whenever a rule calls for a supertype of <TT>:bib</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010193000000000000000">
E.19.3 Bibliographic style file</A>
</H2>

<P>
Files matching the pattern `<code>*.bst</code>' are of type <TT>:bst</TT> (Bibliographic style file).
They may be used whenever a rule calls for a supertype of <TT>:bst</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010194000000000000000">
E.19.4 Formatting style file</A>
</H2>

<P>
Files matching the pattern `<code>*.cls</code>' are of type <TT>:cls</TT> (Formatting style file).
They may be used whenever a rule calls for a supertype of <TT>:cls</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010195000000000000000">
E.19.5 Portable Document Format file</A>
</H2>

<P>
Files matching the pattern `<code>*.pdf</code>' are of type <TT>:pdf</TT> (Portable Document Format file).
They may be used whenever a rule calls for a supertype of <TT>:pdf</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010196000000000000000">
E.19.6 Formatting style file</A>
</H2>

<P>
Files matching the pattern `<code>*.sty</code>' are of type <TT>:sty</TT> (Formatting style file).
They may be used whenever a rule calls for a supertype of <TT>:sty</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010197000000000000000">
E.19.7 TeX formatter input</A>
</H2>

<P>
Files matching the pattern `<code>*.tex</code>' are of type <TT>:tex</TT> (TeX formatter input).
They may be used whenever a rule calls for a supertype of <TT>:tex</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:one_tex_vtd</TT></STRONG></DT>
<DD>(Singleton set of TeX formatter inputs) with additional source of type <TT>:label</TT> (Label of a file).
Return a file listing the input T<SMALL>E</SMALL>X file.
</DD>
<DT><STRONG><TT>:texnames</TT></STRONG></DT>
<DD>(Text file containing local file names).
Given a T<SMALL>E</SMALL>X input file, return a list of files needed during a run.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010198000000000000000">
E.19.8 Postscript file</A>
</H2>

<P>
Files matching the pattern `<code>*.ps</code>' are of type <TT>:ps</TT> (Postscript file).
They may be used whenever a rule calls for a supertype of <TT>:ps</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution).  See section <A HREF="#sec:regsub">E.22</A> ([sec:regsub]regsub).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>
<H2><A NAME="SECTION0010199000000000000000">
E.19.9 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:texclose</TT></STRONG></DT>
<DD>(Names of all files transitively referenced) from source of type <TT>:texfiles</TT> (Accessible files referenced).
Given a list of T<SMALL>E</SMALL>X files, list all files needed during a run.  This
is for automatic dependency scanning.
</DD>
<DT><STRONG><TT>:texbasis</TT></STRONG></DT>
<DD>(Document basis) from source of type <TT>:rootFileName</TT> (Simple name of the TeX file to be used as the root).
Given a T<SMALL>E</SMALL>X root file name, list all files needed during a run.  This
is for automatic dependency scanning.
</DD>
<DT><STRONG><TT>:tex.view_desc</TT></STRONG></DT>
<DD>(View descriptor for basis files) from source of type <TT>:texnames</TT> (Text file containing local file names) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+texsppt</TT></STRONG></DT>
<DD>&nbsp;
<BR>Parameter type for search path information
</DD>
</DL>
Given a list of T<SMALL>E</SMALL>X input files, produce a view descriptor.  This is
for automatic dependency scanning.
</DD>
<DT><STRONG><TT>:texfiles</TT></STRONG></DT>
<DD>(Accessible files referenced) from source of type <TT>:tex.view_desc</TT> (View descriptor for basis files).
Collapse view descriptor to actual present files.
</DD>
<DT><STRONG><TT>:fmtcmd</TT></STRONG></DT>
<DD>(Formatting command) from source of type <TT>:rootFileName</TT> (Simple name of the TeX file to be used as the root) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+tex</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use plain TeX
</DD>
<DT><STRONG><TT>+latex</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use LaTeX
</DD>
<DT><STRONG><TT>+usepdf</TT></STRONG></DT>
<DD>&nbsp;
<BR>Produce PDF code
</DD>
</DL>
Given a T<SMALL>E</SMALL>X input file, determine which command to run for output.  If
<TT>+usepdf</TT> is set, PDF is produced directly from input using
pdf(la)tex.  If <TT>+tex</TT> is set, the input is plain T<SMALL>E</SMALL>X.  If
<TT>+latex</TT> is set, the input is L<SUP><SMALL>A</SMALL></SUP>T<SMALL>E</SMALL>X.  Otherwise, selection
is based on presence of the L<SUP><SMALL>A</SMALL></SUP>T<SMALL>E</SMALL>X command
&#92;documentstyle or &#92;documentclass. 
</DD>
<DT><STRONG><TT>:tex.bbl</TT></STRONG></DT>
<DD>(TeX bibliographic reference file) from source of type <TT>:citations</TT> (Citation and bibliographic data commands) with additional source of type <TT>:texsp</TT> (Search path for the document basis).
Given T<SMALL>E</SMALL>X input, create a bibliography file if needed, using
<TT>bibtex</TT>.
</DD>
<DT><STRONG><TT>:tex.ind</TT>, <TT>:tex.ilg</TT></STRONG></DT>
<DD>(TeX index file, Messages from makeindex) from source of type <TT>:indexntry</TT> (Indexentry commands with page numbers) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+index_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Options for makeindex
(may be given more than once)
</DD>
</DL>
Given T<SMALL>E</SMALL>X input, create indices using <TT>makeindex</TT>, if
needed.
</DD>
<DT><STRONG><TT>:texauxin.vtd</TT></STRONG></DT>
<DD>(Auxiliary files input to the formatting step) from source of type <TT>:rootName</TT> (Base name (no .tex suffix) of the root file) with additional source of type <TT>:texauxout</TT> (Auxiliary files potentially modified by TeX) and additional source of type <TT>:tex.bbl</TT> (TeX bibliographic reference file) and additional source of type <TT>:tex.ind</TT> (TeX index file).
Return file listing all auxiliary inputs associated with a T<SMALL>E</SMALL>X run.
</DD>
<DT><STRONG><TT>:texps</TT></STRONG></DT>
<DD>(PostScript created from TeX or LaTeX) from source of type <TT>:dvi</TT> (Device independent format file) with additional source of type <TT>:texsp</TT> (Search path for the document basis) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+dvips_flags</TT></STRONG></DT>
<DD>&nbsp;
<BR>Options for dvips
(may be given more than once)
</DD>
</DL>
After running T<SMALL>E</SMALL>X, run <TT>dvips</TT> to convert the DVI output
to PostScript.
</DD>
<DT><STRONG><TT>:refpdf</TT></STRONG></DT>
<DD>(Reference to a PDF file) from source of type <TT>:tex.vtd</TT> (Basis of a TeX formatted document).
A back path to creating PDF using pdf(la)tex directly.
</DD>
</DL>
<H1><A NAME="SECTION0010200000000000000000"></A><A NAME="sec:dbx"></A><BR>
E.20 dbx
</H1>

<P>
The <TT>dbx</TT> package is at version 1.14.0.
This package supports running a debugger on executables.

<P>

<H2><A NAME="SECTION0010201000000000000000">
E.20.1 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:dbx</TT></STRONG></DT>
<DD>(Symbolic debugger run) from source of type <TT>:exe</TT> (Executable binary) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+core</TT></STRONG></DT>
<DD>&nbsp;
<BR>Core dump
</DD>
<DT><STRONG><TT>+gnu</TT></STRONG></DT>
<DD>&nbsp;
<BR>Use gnu tools
</DD>
</DL>
A script is created to run the debugger dbx/gdb (+gnu).  A core
file may optionally be specified with +core.  It is intended to be
used interactively with the ! suffix to execute the script.
</DD>
</DL>
<H1><A NAME="SECTION0010210000000000000000"></A><A NAME="sec:run"></A><BR>
E.21 run
</H1>

<P>
The <TT>run</TT> package is at version 1.14.0.
This package supports execution of simple command lines.

<P>

<H2><A NAME="SECTION0010211000000000000000">
E.21.1 Other transformations</A>
</H2>

<P>
In addition, the following transformations are defined within this
package.  They are used in the other packages as indicated.

<P>
<DL>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+cmd</TT></STRONG></DT>
<DD>&nbsp;
<BR>Host command
(may be given more than once)
</DD>
</DL>
This creates and runs a script to execute comands given by +cmd, in
the order given, in the directory specified as input.  The commands
are not parsed, so any dependencies must be specified using +needs.
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+cmd</TT></STRONG></DT>
<DD>&nbsp;
<BR>Host command
(may be given more than once)
</DD>
</DL>
This executes the given +cmd on the input file, and returns its
standard output as :stdout and any output files in the virtual
directory :output, assuming that output is generated in the current
working directory.  The output file type is retained from the input
file.  If no +cmd is specified, the result is a copy of the
input file.
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+cmd</TT></STRONG></DT>
<DD>&nbsp;
<BR>Host command
(may be given more than once)
</DD>
</DL>
This creates and runs a Lua script to execute comands given by +cmd, in
the order given, in the directory specified as input.  The commands
are not parsed, so any dependencies must be specified using +needs.
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code) from source of type <TT>:FILE</TT> (A file) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+cmd</TT></STRONG></DT>
<DD>&nbsp;
<BR>Host command
(may be given more than once)
</DD>
<DT><STRONG><TT>+cmdfile</TT></STRONG></DT>
<DD>&nbsp;
<BR>Host command file
(may be given more than once)
</DD>
</DL>
This executes the given +cmd Lua commands on the input file, and
returns any standard output as :stdout and any output files in the
virtual directory :output, assuming that output is generated in the
current working directory.  The output file type is retained from
the input file.  If no +cmd is specified, the result is a copy of the
input file.

<P>
Within the Lua code, only io.write() will write to the results.  If
other commands are used, they should write to a separate file, and
the result :output/&lt;other_file&gt; should be used instead of
:lua_stdout.  Otherwise, :lua_stdout will probably be overwritten on
exit.

<P>
</DD>
</DL>
<H1><A NAME="SECTION0010220000000000000000"></A><A NAME="sec:regsub"></A><BR>
E.22 regsub
</H1>

<P>
The <TT>regsub</TT> package is at version 1.1.0.
This package provides a simple egrep and sed replacement.

<P>

<H2><A NAME="SECTION0010221000000000000000">
E.22.1 Regsub substitution input</A>
</H2>

<P>
Files matching the pattern `<code>*,re</code>' are of type <TT>:regsub_in</TT> (Regsub substitution input).
They may be used whenever a rule calls for a supertype of <TT>:regsub_in</TT>:

<P>
<BLOCKQUOTE>
<TABLE CELLPADDING=3 BORDER="1">
<TR><TD ALIGN="LEFT">Type</TD>
<TD ALIGN="LEFT">Description</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:FILE</TT></TD>
<TD ALIGN="LEFT">A file</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:OBJECT</TT></TD>
<TD ALIGN="LEFT">Any object</TD>
</TR>
<TR><TD ALIGN="LEFT"><TT>:try.co</TT></TD>
<TD ALIGN="LEFT">Co if possible</TD>
</TR>
</TABLE>
</BLOCKQUOTE>

<P>
They may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:gnc.regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+match</TT></STRONG></DT>
<DD>&nbsp;
<BR>Regular expression to match
(may be given more than once)
</DD>
<DT><STRONG><TT>+hide_match</TT></STRONG></DT>
<DD>&nbsp;
<BR>Instead of showing matches, hide them
</DD>
<DT><STRONG><TT>+subst</TT></STRONG></DT>
<DD>&nbsp;
<BR>Regular expression substitution
(may be given more than once)
</DD>
<DT><STRONG><TT>+subst_only</TT></STRONG></DT>
<DD>&nbsp;
<BR>Only include lines where substitutions were made
</DD>
<DT><STRONG><TT>+prefix</TT></STRONG></DT>
<DD>&nbsp;
<BR>Prefix to apply to all lines
</DD>
<DT><STRONG><TT>+suffix</TT></STRONG></DT>
<DD>&nbsp;
<BR>Suffix to apply to all lines
</DD>
</DL>
Filters a file, showing (or hiding, if +hide_match is given) only
lines that match the extended regular expression in +match (if given).
The type of the file is based on source file name matching after
stripping the trailing ,re.
On each line, a global substitution is made for each +subst parameter.
This parameter consists of the search string, followed by a / that is
not escaped, followed by the replacement string.  In the replacement
string, a backslash escapes any character but the digits 0-9 and
open curly braces.  An unescaped ampersand (&amp;) represents the entire
matching text.  A backslash followed by a single digit, or a
backslash followed by a curly-brace enclosed decimal number,
represents that parenthesis-enclosed subexpression.  Subexpression
zero is the entire matching text, and the rest numbered by the order
of the opening parenthesis.  All +subst parameters are applied in the
order they are given, so an earlier one may affect a later one.

<P>
If the +subst_only parameter is given, any line which does not cause
a substitution will be filtered out as well.  This is a shortcut for
adding the +subst patterns as +match arguments.  Note that actual
filtering using +match takes place before +subst substitution.

<P>
The +prefix parameter text is prepended to each line, and the +suffix
parameter is appended to each line.  They are shortcuts to +subst
/&lt;text&gt; and +subst $/&lt;text&gt;, respectively, except that
they do not count towards +subst_only, and only one of each may be
given.
</DD>
</DL>

<P>
As the type <TT>:FILE</TT> (A file), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:regsub</TT></STRONG></DT>
<DD>(Output from regsub substitution) using the following parameters:

<P>
<DL>
<DT><STRONG><TT>+match</TT></STRONG></DT>
<DD>&nbsp;
<BR>Regular expression to match
(may be given more than once)
</DD>
<DT><STRONG><TT>+hide_match</TT></STRONG></DT>
<DD>&nbsp;
<BR>Instead of showing matches, hide them
</DD>
<DT><STRONG><TT>+subst</TT></STRONG></DT>
<DD>&nbsp;
<BR>Regular expression substitution
(may be given more than once)
</DD>
<DT><STRONG><TT>+subst_only</TT></STRONG></DT>
<DD>&nbsp;
<BR>Only include lines where substitutions were made
</DD>
<DT><STRONG><TT>+prefix</TT></STRONG></DT>
<DD>&nbsp;
<BR>Prefix to apply to all lines
</DD>
<DT><STRONG><TT>+suffix</TT></STRONG></DT>
<DD>&nbsp;
<BR>Suffix to apply to all lines
</DD>
</DL>
Filters a file, showing (or hiding, if +hide_match is given) only
lines that match the extended regular expression in +match (if given).
On each line, a global substitution is made for each +subst parameter.
This parameter consists of the search string, followed by a / that is
not escaped, followed by the replacement string.  In the replacement
string, a backslash escapes any character but the digits 0-9 and
open curly braces.  An unescaped ampersand (&amp;) represents the entire
matching text.  A backslash followed by a single digit, or a
backslash followed by a curly-brace enclosed decimal number,
represents that parenthesis-enclosed subexpression.  Subexpression
zero is the entire matching text, and the rest numbered by the order
of the opening parenthesis.  All +subst parameters are applied in the
order they are given, so an earlier one may affect a later one.

<P>
If the +subst_only parameter is given, any line which does not cause
a substitution will be filtered out as well.  This is a shortcut for
adding the +subst patterns as +match arguments.  Note that actual
filtering using +match takes place before +subst substitution.

<P>
The +prefix parameter text is prepended to each line, and the +suffix
parameter is appended to each line.  They are shortcuts to +subst
/&lt;text&gt; and +subst $/&lt;text&gt;, respectively, except that
they do not count towards +subst_only, and only one of each may be
given.
</DD>
<DT><STRONG><TT>:targets_inc</TT></STRONG></DT>
<DD>(Directly nested target definitions).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:targets</TT></STRONG></DT>
<DD>(Target definitions from an Odinfile).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:nested_hooks</TT>, <TT>:hook_values.of</TT></STRONG></DT>
<DD>(Nested hooks, Odinfile containing hook values).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:expand_hooks</TT></STRONG></DT>
<DD>(Expand hooks).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:filename</TT></STRONG></DT>
<DD>(Filename of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:source_names</TT></STRONG></DT>
<DD>(Source components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:operation_names</TT></STRONG></DT>
<DD>(Operation components of a system model).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:c_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C-style included files).  See section <A HREF="#sec:cc">E.5</A> ([sec:cc]cc).
</DD>
<DT><STRONG><TT>:cpp</TT></STRONG></DT>
<DD>(Output from cpp pre-processor).  See section <A HREF="#sec:cpp">E.6</A> ([sec:cpp]cpp).
</DD>
<DT><STRONG><TT>:cxx_inc.view_desc</TT></STRONG></DT>
<DD>(View description of C++ style included files).  See section <A HREF="#sec:cxx">E.7</A> ([sec:cxx]cxx).
</DD>
<DT><STRONG><TT>:idl_inc.view_desc</TT></STRONG></DT>
<DD>(View description of IDL-style included files).  See section <A HREF="#sec:idl">E.14</A> ([sec:idl]idl).
</DD>
<DT><STRONG><TT>:boot_name</TT></STRONG></DT>
<DD>(Name of the boot-strap file).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:diff</TT></STRONG></DT>
<DD>(Differences between two files).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:rcp</TT></STRONG></DT>
<DD>(Archive).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
<DT><STRONG><TT>:so_inc_spec</TT></STRONG></DT>
<DD>(Names of Nroff-style included files).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:eqn</TT></STRONG></DT>
<DD>(Output from eqn).  See section <A HREF="#sec:roff">E.18</A> ([sec:roff]roff).
</DD>
<DT><STRONG><TT>:run</TT></STRONG></DT>
<DD>(Execution of a command line).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:stdout</TT>, <TT>:output</TT></STRONG></DT>
<DD>(Standard output from a test run, Output files from a test run).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:run.lua</TT></STRONG></DT>
<DD>(Execution of Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
<DT><STRONG><TT>:lua_stdout</TT>, <TT>:lua_output</TT></STRONG></DT>
<DD>(Standard output from running Lua code, Output files from running Lua code).  See section <A HREF="#sec:run">E.21</A> ([sec:run]run).
</DD>
</DL>

<P>
As the type <TT>:OBJECT</TT> (Any object), they may be transformed to any of the following:

<P>
<DL>
<DT><STRONG><TT>:targets_ptr</TT></STRONG></DT>
<DD>(Pointer to the targets file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy</TT></STRONG></DT>
<DD>(Copy).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:copy_cmd</TT></STRONG></DT>
<DD>(Copy command).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:err</TT></STRONG></DT>
<DD>(Errors).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:warn</TT></STRONG></DT>
<DD>(Warnings).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:dir</TT></STRONG></DT>
<DD>(Directory of a file).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:depend</TT></STRONG></DT>
<DD>(Source dependencies).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:drv_help</TT></STRONG></DT>
<DD>(Applicable derivation types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:prm_help</TT></STRONG></DT>
<DD>(Applicable parameter types).  See section <A HREF="#sec:odin">E.2</A> ([sec:odin]odin).
</DD>
<DT><STRONG><TT>:redo</TT></STRONG></DT>
<DD>(Redo this object step).  See section <A HREF="#sec:misc">E.17</A> ([sec:misc]misc).
</DD>
</DL>

<P>

<H1><A NAME="SECTION001100000000000000000"></A><A NAME="ch:lualib"></A><BR>
F. Odin Lua Library
</H1>

<P>
When Lua code is executed directly by Odin, it first defines some
utility functions for convenience and portability.

<P>

<H1><A NAME="SECTION001110000000000000000">
F.1 Apache Portable Runtime</A>
</H1>

<P>
Portability to other operating systems is supported by including the
lua-apr package in the table <TT>apr</TT>.  See
<TT><A NAME="tex2html1"
  HREF="http://peterodding.com/code/lua/apr">http://peterodding.com/code/lua/apr</A></TT> for details.  Some of its
commonly used functions are aliased globally to shorten scripts: 

<P>
<DL>
<DT><STRONG>basename(name[, ext])</STRONG></DT>
<DD><TT>apr.filepath_name</TT> -- get last path
element, and optionally return extension separately
</DD>
<DT><STRONG>pathcat(dir,name)</STRONG></DT>
<DD><TT>apr.filepath_merge</TT> with the <TT>native</TT> option set. -- add path elements portably
</DD>
<DT><STRONG>getcwd()</STRONG></DT>
<DD><TT>apr.filepath_get</TT> with the <TT>native</TT> option
set. -- return current directory
</DD>
<DT><STRONG>chdir(dir)</STRONG></DT>
<DD><TT>apr.filepath_set</TT> -- change working directory
</DD>
<DT><STRONG>mkdir(dir)</STRONG></DT>
<DD><TT>apr.dir_make_recursive</TT> -- create directory and
any missing intervening directories
</DD>
<DT><STRONG>mv(src, dest)</STRONG></DT>
<DD><TT>apr.file_rename</TT> -- file rename
</DD>
<DT><STRONG>cp(src, dest)</STRONG></DT>
<DD><TT>apr.file_copy</TT> -- file copy
</DD>
<DT><STRONG>rm(name)</STRONG></DT>
<DD><TT>apr.file_remove</TT> -- recursive delete
</DD>
</DL>

<P>
In addition, light wrappers are available for a few functions:

<P>
<DL>
<DT><STRONG>getenv(v)</STRONG></DT>
<DD>-- return the given environment variable's value, or
blank if unset (in comparison to <TT>nil</TT> as returned by <TT>apr.env_get</TT>)
</DD>
<DT><STRONG>exists(name)</STRONG></DT>
<DD>-- return true if <I>name</I> exists in the file
system.
</DD>
<DT><STRONG>is_dir(name)</STRONG></DT>
<DD>-- return true if <I>name</I> is a directory or a
soft link to a directory.
</DD>
<DT><STRONG>is_file(name)</STRONG></DT>
<DD>-- return true if <I>name</I> is a file or a
soft link to a file.
</DD>
<DT><STRONG>is_exec(name)</STRONG></DT>
<DD>-- return true if <I>name</I> is a file and
executable permission is set for that file.  Note that on Windows, all
files are considered executable by this logic.
</DD>
<DT><STRONG>is_empty(name)</STRONG></DT>
<DD>-- return true if <I>name</I> either does not
exist or is an empty file.
</DD>
<DT><STRONG>touch(name[, date])</STRONG></DT>
<DD>-- if <I>name</I> does not exist, it is
created as an empty file.  Otherwise, this is the same as <TT>apr.file_mtime_set</TT>.
</DD>
</DL>

<P>

<H1><A NAME="SECTION001120000000000000000">
F.2 File Commands</A>
</H1>

<P>
Some additional file commands not provided by APR are provided here:

<P>
<DL>
<DT><STRONG>cmp(f1, f2)</STRONG></DT>
<DD>-- recursively compare two files or directories,
returning true if they match.  Only contents are compared; differences
in file modification times and permissions are ignore.  Soft links are
resolved before comparison.
</DD>
<DT><STRONG>cp_RpL(src, dest[, plus_w])</STRONG></DT>
<DD>-- copy source to destination
recursively, copying permissions if possible.  If <I>plus_w</I> is
true, user write permission is added to all destination items.
</DD>
<DT><STRONG>ln(src, dest)</STRONG></DT>
<DD>-- make a link from source to destination.  If
lua-posix is installed, a soft link is made.  Otherwise, if possible,
a hard link if made.  If no link can be made, this is the same as
<TT>cp_RpL</TT>.
</DD>
<DT><STRONG>cat(f)</STRONG></DT>
<DD>-- print <I>f</I> on standard output.  <I>f</I> may be
either the name of a file or a Lua file descriptor.  The entire file
is not read into memory at once, so this can be safely used with large
files.
</DD>
<DT><STRONG>append_line(f, msg)</STRONG></DT>
<DD>-- append <I>msg</I> and a newline to the
file <I>f</I>.  <I>f</I> may be either the name of a file or a Lua
file descriptor.
</DD>
</DL>

<P>

<H1><A NAME="SECTION001130000000000000000">
F.3 Odin Support Utilities</A>
</H1>

<P>
The following functions are for common things done in Odin scripts:

<P>
<DL>
<DT><STRONG>odin_error(msg[, ret])</STRONG></DT>
<DD>-- append <I>msg</I> to <TT>ERRORS</TT>
and, if <I>ret</I> is provided, exit the script with <I>ret</I> as the
result.
</DD>
<DT><STRONG>odin_log(msg)</STRONG></DT>
<DD>-- print <I>msg</I> if ODINVERBOSE is set in
the environment, and prepend ODINRBSHOST if it is set in the
environment.  This is intended for printing the command to execute
before exeuting it.
</DD>
<DT><STRONG>trim(s)</STRONG></DT>
<DD>-- trim leading and trailing whitespace from <I>s</I>.
This is intended for use with command strings with embedded
odin-expressions, since they are technically separate words, and
therefore separated by whitespace (usually newlines):
<BR><TT>() +cmd='...files = trim[['(%files)']]...' :lua_stdout</TT>
</DD>
<DT><STRONG>odin_quote(s)</STRONG></DT>
<DD>-- quote <I>s</I> as a single Odin token
</DD>
<DT><STRONG>odin_quote_file(s[, virt])</STRONG></DT>
<DD>-- quote <I>s</I> as an Odin
path; that is, slashes remain unquoted.  If <I>virt</I> is true,
percent signs remain unquoted as well.
</DD>
<DT><STRONG>runcmd(cmd[, args])</STRONG></DT>
<DD>-- execute a system command.
<I>cmd</I> is parsed like a shell command.  Array elements of
<I>args</I> are appended to arguments split out from <I>cmd</I> as if
they were fully quoted arguments.  <I>args</I> may also have named
options:
<DL>
<DT><STRONG>stdin</STRONG></DT>
<DD>-- set to the name of a file for standard input to the
command; otherwise standard input comes from an empty file.
</DD>
<DT><STRONG>stdout</STRONG></DT>
<DD>-- set to true to retain standard output as the file
<TT>MESSAGES</TT>; set to a string file name to retain standard output in
a different file.  If false or unset, standard output from the command
is gathered and then printed to Lua standard output.
</DD>
<DT><STRONG>ignret</STRONG></DT>
<DD>-- set to true to ignore the return value from the
command.  Otherwise, a non-zero return value indicates an error.
</DD>
<DT><STRONG>chdir</STRONG></DT>
<DD>-- set to a directory path name to execute the command
with a different working directory than the current Lua directory.
</DD>
</DL>
All output to standard error is captured in a file called <TT>WARNINGS</TT>.  If the command fails, standard output and standard error
are concatenated to produce <TT>ERRORS</TT>, and neither <TT>WARNINGS</TT>
nor the standard output file are produced.  In addition, a message
indicating failure of the command is appended to <TT>ERRORS</TT>, both to
inform the user what command failed and to ensure that the file is
non-empty.  If no standard error output is produced, <TT>WARNINGS</TT> is
removed as well.
</DD>
</DL>

<P>

<H1><A NAME="SECTION001140000000000000000">
F.4 Miscellaneous</A>
</H1>

<P>
The following defy categorization:

<P>
<DL>
<DT><STRONG>words(f)</STRONG></DT>
<DD>-- replacement for shell's <TT>for x in `cat f`</TT>, in
that the file <I>f</I> (either a file name or a Lua file descriptor)
is read, and an iterator is returned which iterates over
whitespace-separated words.
</DD>
<DT><STRONG>wholefile(f)</STRONG></DT>
<DD>-- replacement for shell's <TT>`cat f`</TT> as a
command-line argument, equivalent to concatenating all of <TT>words(f)</TT> into a single string, each word separated by a single space.
</DD>
<DT><STRONG>unpack(table)</STRONG></DT>
<DD>-- an alias for <TT>table.unpack()</TT> in Lua 5.2.
</DD>
<DT><STRONG>has_posix</STRONG></DT>
<DD>-- a boolean indicating presence of the lua-posix
library.
</DD>
<DT><STRONG>posix</STRONG></DT>
<DD>-- the lua-posix library, if present
</DD>
</DL>

<P>

<H2><A NAME="SECTION001200000000000000000">
Bibliography</A>
</H2><DL COMPACT><DD><P></P><DT><A NAME="ClearCase">1</A>
<DD>
<EM>ClearCase Reference Manual</EM>.
<BR>Atria Software, 1993.

<P></P><DT><A NAME="Build">2</A>
<DD>
B.&nbsp;Erickson and J.F. Pellegrin.
<BR>Build - a software construction tool.
<BR><EM>ATT Bell Labs Technical Journal</EM>, 63:1049-1059, 1984.

<P></P><DT><A NAME="Make">3</A>
<DD>
S.&nbsp;I. Feldman.
<BR>MAKE - a program for maintaining computer programs.
<BR><EM>Software - Practice and Experience</EM>, 9:255-265, 1979.

<P></P><DT><A NAME="NMake">4</A>
<DD>
G.&nbsp;Fowler.
<BR>A case for make.
<BR><EM>Software - Practice and Experience</EM>, 20:35-46, June 1990.

<P></P><DT><A NAME="Mk">5</A>
<DD>
A.&nbsp;G. Hume.
<BR>MK: a successor to make.
<BR>In <EM>USENIX Summer Conference Proceedings</EM>, pages 445-457, 1987.

<P></P><DT><A NAME="GNUMake">6</A>
<DD>
Richard&nbsp;M. Stallman and Roland McGrath.
<BR><EM>GNU Make: A Program for Directing Recompilation</EM>.
<BR>Free Software Foundation, 1993.
</DL>

<P>
<BR><HR>
<ADDRESS>
Thomas J. Moore
2012-10-26
</ADDRESS>
</BODY>
</HTML>
